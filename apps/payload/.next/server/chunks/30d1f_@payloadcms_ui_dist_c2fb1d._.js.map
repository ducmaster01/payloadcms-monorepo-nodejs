{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"file":"promise.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/forms/fieldSchemasToFormState/calculateDefaultValues/promise.ts"],"sourcesContent":["import type { Data, Field, PayloadRequest, TabAsField, User } from 'payload'\n\nimport { getDefaultValue } from 'payload'\nimport { fieldAffectsData, tabHasName } from 'payload/shared'\n\nimport { iterateFields } from './iterateFields.js'\n\ntype Args<T> = {\n  data: T\n  field: Field | TabAsField\n  id?: number | string\n  locale: string | undefined\n  req: PayloadRequest\n  siblingData: Data\n  user: User\n}\n\n// TODO: Make this works for rich text subfields\nexport const defaultValuePromise = async <T>({\n  id,\n  data,\n  field,\n  locale,\n  req,\n  siblingData,\n  user,\n}: Args<T>): Promise<void> => {\n  if (fieldAffectsData(field)) {\n    if (\n      typeof siblingData[field.name] === 'undefined' &&\n      typeof field.defaultValue !== 'undefined'\n    ) {\n      try {\n        siblingData[field.name] = await getDefaultValue({\n          defaultValue: field.defaultValue,\n          locale,\n          req,\n          user,\n          value: siblingData[field.name],\n        })\n      } catch (err) {\n        req.payload.logger.error({\n          err,\n          msg: `Error calculating default value for field: ${field.name}`,\n        })\n      }\n    }\n  }\n\n  // Traverse subfields\n  switch (field.type) {\n    case 'array': {\n      const rows = siblingData[field.name]\n\n      if (Array.isArray(rows)) {\n        const promises = []\n\n        rows.forEach((row) => {\n          promises.push(\n            iterateFields({\n              id,\n              data,\n              fields: field.fields,\n              locale,\n              req,\n              siblingData: row,\n              user,\n            }),\n          )\n        })\n\n        await Promise.all(promises)\n      }\n      break\n    }\n\n    case 'blocks': {\n      const rows = siblingData[field.name]\n\n      if (Array.isArray(rows)) {\n        const promises = []\n        rows.forEach((row) => {\n          const blockTypeToMatch = row.blockType\n          const block = field.blocks.find((blockType) => blockType.slug === blockTypeToMatch)\n\n          if (block) {\n            row.blockType = blockTypeToMatch\n\n            promises.push(\n              iterateFields({\n                id,\n                data,\n                fields: block.fields,\n                locale,\n                req,\n                siblingData: row,\n                user,\n              }),\n            )\n          }\n        })\n        await Promise.all(promises)\n      }\n\n      break\n    }\n\n    case 'collapsible':\n    case 'row': {\n      await iterateFields({\n        id,\n        data,\n        fields: field.fields,\n        locale,\n        req,\n        siblingData,\n        user,\n      })\n\n      break\n    }\n    case 'group': {\n      if (typeof siblingData[field.name] !== 'object') {\n        siblingData[field.name] = {}\n      }\n\n      const groupData = siblingData[field.name] as Record<string, unknown>\n\n      await iterateFields({\n        id,\n        data,\n        fields: field.fields,\n        locale,\n        req,\n        siblingData: groupData,\n        user,\n      })\n\n      break\n    }\n\n    case 'tab': {\n      let tabSiblingData\n      if (tabHasName(field)) {\n        if (typeof siblingData[field.name] !== 'object') {\n          siblingData[field.name] = {}\n        }\n\n        tabSiblingData = siblingData[field.name] as Record<string, unknown>\n      } else {\n        tabSiblingData = siblingData\n      }\n\n      await iterateFields({\n        id,\n        data,\n        fields: field.fields,\n        locale,\n        req,\n        siblingData: tabSiblingData,\n        user,\n      })\n\n      break\n    }\n\n    case 'tabs': {\n      await iterateFields({\n        id,\n        data,\n        fields: field.tabs.map((tab) => ({ ...tab, type: 'tab' })),\n        locale,\n        req,\n        siblingData,\n        user,\n      })\n\n      break\n    }\n\n    default: {\n      break\n    }\n  }\n}\n"],"names":["getDefaultValue","fieldAffectsData","tabHasName","iterateFields","defaultValuePromise","id","data","field","locale","req","siblingData","user","name","defaultValue","value","err","payload","logger","error","msg","type","rows","Array","isArray","promises","forEach","row","push","fields","Promise","all","blockTypeToMatch","blockType","block","blocks","find","slug","groupData","tabSiblingData","tabs","map","tab"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"file":"iterateFields.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/forms/fieldSchemasToFormState/calculateDefaultValues/iterateFields.ts"],"sourcesContent":["import type { Data, Field, PayloadRequest, TabAsField, User } from 'payload'\n\nimport { defaultValuePromise } from './promise.js'\n\ntype Args<T> = {\n  data: T\n  fields: (Field | TabAsField)[]\n  id?: number | string\n  locale: string | undefined\n  req: PayloadRequest\n  siblingData: Data\n  user: User\n}\n\nexport const iterateFields = async <T>({\n  id,\n  data,\n  fields,\n  locale,\n  req,\n  siblingData,\n  user,\n}: Args<T>): Promise<void> => {\n  const promises = []\n\n  fields.forEach((field) => {\n    promises.push(\n      defaultValuePromise({\n        id,\n        data,\n        field,\n        locale,\n        req,\n        siblingData,\n        user,\n      }),\n    )\n  })\n\n  await Promise.all(promises)\n}\n"],"names":["defaultValuePromise","iterateFields","id","data","fields","locale","req","siblingData","user","promises","forEach","field","push","Promise","all"],"mappings":";;;AAEA,SAASA,mBAAmB,QAAQ;;AAY7B,MAAMC,aAAA,GAAgB,MAAAA,CAAU,EACrCC,EAAE,EACFC,IAAI,EACJC,MAAM,EACNC,MAAM,EACNC,GAAG,EACHC,WAAW,EACXC,IAAAA,EACQ;IACR,MAAMC,QAAA,GAAW,EAAE;IAEnBL,MAAA,CAAOM,OAAO,CAAEC,KAAA;QACdF,QAAA,CAASG,IAAI,8aACXZ,sBAAAA,AAAA,EAAoB;YAClBE,EAAA;YACAC,IAAA;YACAQ,KAAA;YACAN,MAAA;YACAC,GAAA;YACAC,WAAA;YACAC;QACF;IAEJ;IAEA,MAAMK,OAAA,CAAQC,GAAG,CAACL,QAAA;AACpB","ignoreList":[0]}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 189, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/forms/fieldSchemasToFormState/calculateDefaultValues/index.ts"],"sourcesContent":["import type { Data, Field as FieldSchema, PayloadRequest, User } from 'payload'\n\nimport { iterateFields } from './iterateFields.js'\n\ntype Args = {\n  data: Data\n  fields: FieldSchema[]\n  id?: number | string\n  locale: string | undefined\n  req: PayloadRequest\n  siblingData: Data\n  user: User\n}\n\nexport const calculateDefaultValues = async ({\n  id,\n  data,\n  fields,\n  locale,\n  req,\n  user,\n}: Args): Promise<Data> => {\n  await iterateFields({\n    id,\n    data,\n    fields,\n    locale,\n    req,\n    siblingData: data,\n    user,\n  })\n\n  return data\n}\n"],"names":["iterateFields","calculateDefaultValues","id","data","fields","locale","req","user","siblingData"],"mappings":";;;AAEA,SAASA,aAAa,QAAQ;;AAYvB,MAAMC,sBAAA,GAAyB,MAAAA,CAAO,EAC3CC,EAAE,EACFC,IAAI,EACJC,MAAM,EACNC,MAAM,EACNC,GAAG,EACHC,IAAAA,EACK;IACL,ybAAMP,gBAAAA,AAAA,EAAc;QAClBE,EAAA;QACAC,IAAA;QACAC,MAAA;QACAC,MAAA;QACAC,GAAA;QACAE,WAAA,EAAaL,IAAA;QACbI;IACF;IAEA,OAAOJ,IAAA;AACT","ignoreList":[0]}},
    {"offset": {"line": 206, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"file":"getFilterOptionsQuery.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/forms/fieldSchemasToFormState/getFilterOptionsQuery.ts"],"sourcesContent":["import type { FilterOptions, FilterOptionsProps, Where } from 'payload'\n\nexport const getFilterOptionsQuery = async (\n  filterOptions: FilterOptions,\n  options: { relationTo: string | string[] } & Omit<FilterOptionsProps, 'relationTo'>,\n): Promise<{ [collection: string]: Where }> => {\n  const { relationTo } = options\n\n  const relations = Array.isArray(relationTo) ? relationTo : [relationTo]\n\n  const query = {}\n\n  if (typeof filterOptions !== 'undefined') {\n    await Promise.all(\n      relations.map(async (relation) => {\n        query[relation] =\n          typeof filterOptions === 'function'\n            ? await filterOptions({ ...options, relationTo: relation })\n            : filterOptions\n\n        if (query[relation] === true) {\n          query[relation] = {}\n        }\n\n        // this is an ugly way to prevent results from being returned\n        if (query[relation] === false) {\n          query[relation] = { id: { exists: false } }\n        }\n      }),\n    )\n  }\n\n  return query\n}\n"],"names":["getFilterOptionsQuery","filterOptions","options","relationTo","relations","Array","isArray","query","Promise","all","map","relation","id","exists"],"mappings":";;;AAEO,MAAMA,qBAAA,GAAwB,MAAAA,CACnCC,aAAA,EACAC,OAAA;IAEA,MAAM,EAAEC,UAAAA,EAAY,GAAGD,OAAA;IAEvB,MAAME,SAAA,GAAYC,KAAA,CAAMC,OAAO,CAACH,UAAA,IAAcA,UAAA,GAAa;QAACA,UAAA;KAAW;IAEvE,MAAMI,KAAA,GAAQ,CAAC;IAEf,IAAI,OAAON,aAAA,KAAkB,aAAa;QACxC,MAAMO,OAAA,CAAQC,GAAG,CACfL,SAAA,CAAUM,GAAG,CAAC,OAAOC,QAAA;YACnBJ,KAAK,CAACI,QAAA,CAAS,GACb,OAAOV,aAAA,KAAkB,aACrB,MAAMA,aAAA,CAAc;gBAAE,GAAGC,OAAO;gBAAEC,UAAA,EAAYQ;YAAS,KACvDV,aAAA;YAEN,IAAIM,KAAK,CAACI,QAAA,CAAS,KAAK,MAAM;gBAC5BJ,KAAK,CAACI,QAAA,CAAS,GAAG,CAAC;YACrB;YAEA,6DAAA;YACA,IAAIJ,KAAK,CAACI,QAAA,CAAS,KAAK,OAAO;gBAC7BJ,KAAK,CAACI,QAAA,CAAS,GAAG;oBAAEC,EAAA,EAAI;wBAAEC,MAAA,EAAQ;oBAAM;gBAAE;YAC5C;QACF;IAEJ;IAEA,OAAON,KAAA;AACT","ignoreList":[0]}},
    {"offset": {"line": 242, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"file":"addFieldStatePromise.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/forms/fieldSchemasToFormState/addFieldStatePromise.ts"],"sourcesContent":["import type {\n  ClientFieldSchemaMap,\n  Data,\n  DocumentPreferences,\n  Field,\n  FieldSchemaMap,\n  FieldState,\n  FormState,\n  FormStateWithoutComponents,\n  PayloadRequest,\n  SanitizedFieldPermissions,\n  SanitizedFieldsPermissions,\n  Validate,\n} from 'payload'\n\nimport ObjectIdImport from 'bson-objectid'\nimport {\n  deepCopyObjectSimple,\n  fieldAffectsData,\n  fieldHasSubFields,\n  fieldIsHiddenOrDisabled,\n  fieldIsID,\n  fieldIsLocalized,\n  getFieldPaths,\n  tabHasName,\n} from 'payload/shared'\n\nimport type { RenderFieldMethod } from './types.js'\n\nimport { getFilterOptionsQuery } from './getFilterOptionsQuery.js'\nimport { iterateFields } from './iterateFields.js'\n\nconst ObjectId = (ObjectIdImport.default ||\n  ObjectIdImport) as unknown as typeof ObjectIdImport.default\n\nexport type AddFieldStatePromiseArgs = {\n  addErrorPathToParent: (fieldPath: string) => void\n  /**\n   * if all parents are localized, then the field is localized\n   */\n  anyParentLocalized?: boolean\n  /**\n   * Data of the nearest parent block, or undefined\n   */\n  blockData: Data | undefined\n  clientFieldSchemaMap?: ClientFieldSchemaMap\n  collectionSlug?: string\n  data: Data\n  field: Field\n  fieldIndex: number\n  fieldSchemaMap: FieldSchemaMap\n  /**\n   * You can use this to filter down to only `localized` fields that require translation (type: text, textarea, etc.). Another plugin might want to look for only `point` type fields to do some GIS function. With the filter function you can go in like a surgeon.\n   */\n  filter?: (args: AddFieldStatePromiseArgs) => boolean\n  /**\n   * Force the value of fields like arrays or blocks to be the full value instead of the length @default false\n   */\n  forceFullValue?: boolean\n  fullData: Data\n  id: number | string\n  /**\n   * Whether the field schema should be included in the state\n   */\n  includeSchema?: boolean\n  indexPath: string\n  /**\n   * Whether to omit parent fields in the state. @default false\n   */\n  omitParents?: boolean\n  operation: 'create' | 'update'\n  parentIndexPath: string\n  parentPath: string\n  parentPermissions: SanitizedFieldsPermissions\n  parentSchemaPath: string\n  passesCondition: boolean\n  path: string\n  preferences: DocumentPreferences\n  previousFormState: FormState\n  renderAllFields: boolean\n  renderFieldFn: RenderFieldMethod\n  /**\n   * Req is used for validation and defaultValue calculation. If you don't need validation,\n   * just create your own req and pass in the locale and the user\n   */\n  req: PayloadRequest\n  schemaPath: string\n  /**\n   * Whether to skip checking the field's condition. @default false\n   */\n  skipConditionChecks?: boolean\n  /**\n   * Whether to skip validating the field. @default false\n   */\n  skipValidation?: boolean\n  state: FormStateWithoutComponents\n}\n\n/**\n * Flattens the fields schema and fields data.\n * The output is the field path (e.g. array.0.name) mapped to a FormField object.\n */\nexport const addFieldStatePromise = async (args: AddFieldStatePromiseArgs): Promise<void> => {\n  const {\n    id,\n    addErrorPathToParent: addErrorPathToParentArg,\n    anyParentLocalized = false,\n    blockData,\n    clientFieldSchemaMap,\n    collectionSlug,\n    data,\n    field,\n    fieldSchemaMap,\n    filter,\n    forceFullValue = false,\n    fullData,\n    includeSchema = false,\n    indexPath,\n    omitParents = false,\n    operation,\n    parentPath,\n    parentPermissions,\n    parentSchemaPath,\n    passesCondition,\n    path,\n    preferences,\n    previousFormState,\n    renderAllFields,\n    renderFieldFn,\n    req,\n    schemaPath,\n    skipConditionChecks = false,\n    skipValidation = false,\n    state,\n  } = args\n\n  if (!args.clientFieldSchemaMap && args.renderFieldFn) {\n    console.warn(\n      'clientFieldSchemaMap is not passed to addFieldStatePromise - this will reduce performance',\n    )\n  }\n\n  const requiresRender = renderAllFields || previousFormState?.[path]?.requiresRender\n\n  let fieldPermissions: SanitizedFieldPermissions = true\n\n  const fieldState: FieldState = {}\n\n  if (passesCondition === false) {\n    fieldState.passesCondition = false\n  }\n\n  if (includeSchema) {\n    fieldState.fieldSchema = field\n  }\n\n  if (fieldAffectsData(field) && !fieldIsHiddenOrDisabled(field)) {\n    fieldPermissions =\n      parentPermissions === true\n        ? parentPermissions\n        : deepCopyObjectSimple(parentPermissions?.[field.name])\n\n    let hasPermission: boolean =\n      fieldPermissions === true || deepCopyObjectSimple(fieldPermissions?.read)\n\n    if (typeof field?.access?.read === 'function') {\n      hasPermission = await field.access.read({\n        id,\n        blockData,\n        data: fullData,\n        req,\n        siblingData: data,\n      })\n    } else {\n      hasPermission = true\n    }\n\n    if (!hasPermission) {\n      return\n    }\n\n    const validate: Validate = field.validate\n\n    let validationResult: string | true = true\n\n    if (typeof validate === 'function' && !skipValidation && passesCondition) {\n      let jsonError\n\n      if (field.type === 'json' && typeof data[field.name] === 'string') {\n        try {\n          JSON.parse(data[field.name])\n        } catch (e) {\n          jsonError = e\n        }\n      }\n\n      try {\n        validationResult = await validate(data?.[field.name], {\n          ...field,\n          id,\n          blockData,\n          collectionSlug,\n          data: fullData,\n          event: 'onChange',\n          // @AlessioGr added `jsonError` in https://github.com/payloadcms/payload/commit/c7ea62a39473408c3ea912c4fbf73e11be4b538d\n          // @ts-expect-error-next-line\n          jsonError,\n          operation,\n          preferences,\n          previousValue: previousFormState?.[path]?.initialValue,\n          req,\n          siblingData: data,\n        })\n      } catch (err) {\n        validationResult = `Error validating field at path: ${path}`\n\n        req.payload.logger.error({\n          err,\n          msg: validationResult,\n        })\n      }\n    }\n\n    const addErrorPathToParent = (errorPath: string) => {\n      if (typeof addErrorPathToParentArg === 'function') {\n        addErrorPathToParentArg(errorPath)\n      }\n\n      if (!fieldState.errorPaths) {\n        fieldState.errorPaths = []\n      }\n\n      if (!fieldState.errorPaths.includes(errorPath)) {\n        fieldState.errorPaths.push(errorPath)\n        fieldState.valid = false\n      }\n    }\n\n    if (typeof validationResult === 'string') {\n      fieldState.errorMessage = validationResult\n      fieldState.valid = false\n      addErrorPathToParent(path)\n    }\n\n    switch (field.type) {\n      case 'array': {\n        const arrayValue = Array.isArray(data[field.name]) ? data[field.name] : []\n\n        const { promises, rows } = arrayValue.reduce(\n          (acc, row, i: number) => {\n            const parentPath = path + '.' + i\n            row.id = row?.id || new ObjectId().toHexString()\n\n            if (!omitParents && (!filter || filter(args))) {\n              const idKey = parentPath + '.id'\n\n              state[idKey] = {\n                initialValue: row.id,\n                value: row.id,\n              }\n\n              if (includeSchema) {\n                state[idKey].fieldSchema = field.fields.find((field) => fieldIsID(field))\n              }\n            }\n\n            acc.promises.push(\n              iterateFields({\n                id,\n                addErrorPathToParent,\n                anyParentLocalized: field.localized || anyParentLocalized,\n                blockData,\n                clientFieldSchemaMap,\n                collectionSlug,\n                data: row,\n                fields: field.fields,\n                fieldSchemaMap,\n                filter,\n                forceFullValue,\n                fullData,\n                includeSchema,\n                omitParents,\n                operation,\n                parentIndexPath: '',\n                parentPassesCondition: passesCondition,\n                parentPath,\n                parentSchemaPath: schemaPath,\n                permissions:\n                  fieldPermissions === true ? fieldPermissions : fieldPermissions?.fields || {},\n                preferences,\n                previousFormState,\n                renderAllFields: requiresRender,\n                renderFieldFn,\n                req,\n                skipConditionChecks,\n                skipValidation,\n                state,\n              }),\n            )\n\n            if (!acc.rows) {\n              acc.rows = []\n            }\n\n            acc.rows.push({\n              id: row.id,\n            })\n\n            const previousRows = previousFormState?.[path]?.rows || []\n            const collapsedRowIDsFromPrefs = preferences?.fields?.[path]?.collapsed\n\n            const collapsed = (() => {\n              // First, check if `previousFormState` has a matching row\n              const previousRow = previousRows.find((prevRow) => prevRow.id === row.id)\n              if (previousRow) {\n                return previousRow.collapsed ?? false\n              }\n\n              // If previousFormState is undefined, check preferences\n              if (collapsedRowIDsFromPrefs !== undefined) {\n                return collapsedRowIDsFromPrefs.includes(row.id) // Check if collapsed in preferences\n              }\n\n              // If neither exists, fallback to `field.admin.initCollapsed`\n              return field.admin.initCollapsed\n            })()\n\n            if (collapsed) {\n              acc.rows[acc.rows.length - 1].collapsed = collapsed\n            }\n\n            return acc\n          },\n          {\n            promises: [],\n            rows: undefined,\n          },\n        )\n\n        // Wait for all promises and update fields with the results\n        await Promise.all(promises)\n\n        if (rows) {\n          fieldState.rows = rows\n        }\n\n        // Unset requiresRender\n        // so it will be removed from form state\n        fieldState.requiresRender = false\n\n        // Add values to field state\n        if (data[field.name] !== null) {\n          fieldState.value = forceFullValue ? arrayValue : arrayValue.length\n          fieldState.initialValue = forceFullValue ? arrayValue : arrayValue.length\n\n          if (arrayValue.length > 0) {\n            fieldState.disableFormData = true\n          }\n        }\n\n        // Add field to state\n        if (!omitParents && (!filter || filter(args))) {\n          state[path] = fieldState\n        }\n\n        break\n      }\n\n      case 'blocks': {\n        const blocksValue = Array.isArray(data[field.name]) ? data[field.name] : []\n\n        const { promises, rowMetadata } = blocksValue.reduce(\n          (acc, row, i: number) => {\n            const block = field.blocks.find((blockType) => blockType.slug === row.blockType)\n            if (!block) {\n              throw new Error(\n                `Block with type \"${row.blockType}\" was found in block data, but no block with that type is defined in the config for field with schema path ${schemaPath}.`,\n              )\n            }\n\n            const parentPath = path + '.' + i\n\n            if (block) {\n              row.id = row?.id || new ObjectId().toHexString()\n\n              if (!omitParents && (!filter || filter(args))) {\n                // Handle block `id` field\n                const idKey = parentPath + '.id'\n\n                state[idKey] = {\n                  initialValue: row.id,\n                  value: row.id,\n                }\n\n                if (includeSchema) {\n                  state[idKey].fieldSchema = includeSchema\n                    ? block.fields.find((blockField) => fieldIsID(blockField))\n                    : undefined\n                }\n\n                // Handle `blockType` field\n                const fieldKey = parentPath + '.blockType'\n\n                state[fieldKey] = {\n                  initialValue: row.blockType,\n                  value: row.blockType,\n                }\n\n                if (includeSchema) {\n                  state[fieldKey].fieldSchema = block.fields.find(\n                    (blockField) => 'name' in blockField && blockField.name === 'blockType',\n                  )\n                }\n\n                // Handle `blockName` field\n                const blockNameKey = parentPath + '.blockName'\n\n                state[blockNameKey] = {}\n\n                if (row.blockName) {\n                  state[blockNameKey].initialValue = row.blockName\n                  state[blockNameKey].value = row.blockName\n                }\n\n                if (includeSchema) {\n                  state[blockNameKey].fieldSchema = block.fields.find(\n                    (blockField) => 'name' in blockField && blockField.name === 'blockName',\n                  )\n                }\n              }\n\n              acc.promises.push(\n                iterateFields({\n                  id,\n                  addErrorPathToParent,\n                  anyParentLocalized: field.localized || anyParentLocalized,\n                  blockData: row,\n                  clientFieldSchemaMap,\n                  collectionSlug,\n                  data: row,\n                  fields: block.fields,\n                  fieldSchemaMap,\n                  filter,\n                  forceFullValue,\n                  fullData,\n                  includeSchema,\n                  omitParents,\n                  operation,\n                  parentIndexPath: '',\n                  parentPassesCondition: passesCondition,\n                  parentPath,\n                  parentSchemaPath: schemaPath + '.' + block.slug,\n                  permissions:\n                    fieldPermissions === true\n                      ? fieldPermissions\n                      : parentPermissions?.[field.name]?.blocks?.[block.slug] === true\n                        ? true\n                        : parentPermissions?.[field.name]?.blocks?.[block.slug]?.fields || {},\n                  preferences,\n                  previousFormState,\n                  renderAllFields: requiresRender,\n                  renderFieldFn,\n                  req,\n                  skipConditionChecks,\n                  skipValidation,\n                  state,\n                }),\n              )\n\n              acc.rowMetadata.push({\n                id: row.id,\n                blockType: row.blockType,\n              })\n\n              const collapsedRowIDs = preferences?.fields?.[path]?.collapsed\n\n              const collapsed =\n                collapsedRowIDs === undefined\n                  ? field.admin.initCollapsed\n                  : collapsedRowIDs.includes(row.id)\n\n              if (collapsed) {\n                acc.rowMetadata[acc.rowMetadata.length - 1].collapsed = collapsed\n              }\n            }\n\n            return acc\n          },\n          {\n            promises: [],\n            rowMetadata: [],\n          },\n        )\n\n        await Promise.all(promises)\n\n        // Add values to field state\n        if (data[field.name] === null) {\n          fieldState.value = null\n          fieldState.initialValue = null\n        } else {\n          fieldState.value = forceFullValue ? blocksValue : blocksValue.length\n          fieldState.initialValue = forceFullValue ? blocksValue : blocksValue.length\n\n          if (blocksValue.length > 0) {\n            fieldState.disableFormData = true\n          }\n        }\n\n        fieldState.rows = rowMetadata\n\n        // Unset requiresRender\n        // so it will be removed from form state\n        fieldState.requiresRender = false\n\n        // Add field to state\n        if (!omitParents && (!filter || filter(args))) {\n          state[path] = fieldState\n        }\n\n        break\n      }\n\n      case 'group': {\n        if (!filter || filter(args)) {\n          fieldState.disableFormData = true\n          state[path] = fieldState\n        }\n\n        await iterateFields({\n          id,\n          addErrorPathToParent,\n          anyParentLocalized: field.localized || anyParentLocalized,\n          blockData,\n          clientFieldSchemaMap,\n          collectionSlug,\n          data: data?.[field.name] || {},\n          fields: field.fields,\n          fieldSchemaMap,\n          filter,\n          forceFullValue,\n          fullData,\n          includeSchema,\n          omitParents,\n          operation,\n          parentIndexPath: '',\n          parentPassesCondition: passesCondition,\n          parentPath: path,\n          parentSchemaPath: schemaPath,\n          permissions:\n            typeof fieldPermissions === 'boolean' ? fieldPermissions : fieldPermissions?.fields,\n          preferences,\n          previousFormState,\n          renderAllFields,\n          renderFieldFn,\n          req,\n          skipConditionChecks,\n          skipValidation,\n          state,\n        })\n\n        break\n      }\n      case 'relationship':\n      case 'upload': {\n        if (field.filterOptions) {\n          if (typeof field.filterOptions === 'object') {\n            if (typeof field.relationTo === 'string') {\n              fieldState.filterOptions = {\n                [field.relationTo]: field.filterOptions,\n              }\n            } else {\n              fieldState.filterOptions = field.relationTo.reduce((acc, relation) => {\n                acc[relation] = field.filterOptions\n                return acc\n              }, {})\n            }\n          }\n\n          if (typeof field.filterOptions === 'function') {\n            const query = await getFilterOptionsQuery(field.filterOptions, {\n              id,\n              blockData,\n              data: fullData,\n              relationTo: field.relationTo,\n              req,\n              siblingData: data,\n              user: req.user,\n            })\n\n            fieldState.filterOptions = query\n          }\n        }\n\n        if (field.hasMany) {\n          const relationshipValue = Array.isArray(data[field.name])\n            ? data[field.name].map((relationship) => {\n                if (Array.isArray(field.relationTo)) {\n                  return {\n                    relationTo: relationship.relationTo,\n                    value:\n                      relationship.value && typeof relationship.value === 'object'\n                        ? relationship.value?.id\n                        : relationship.value,\n                  }\n                }\n                if (typeof relationship === 'object' && relationship !== null) {\n                  return relationship.id\n                }\n                return relationship\n              })\n            : undefined\n\n          fieldState.value = relationshipValue\n          fieldState.initialValue = relationshipValue\n        } else if (Array.isArray(field.relationTo)) {\n          if (\n            data[field.name] &&\n            typeof data[field.name] === 'object' &&\n            'relationTo' in data[field.name] &&\n            'value' in data[field.name]\n          ) {\n            const value =\n              typeof data[field.name]?.value === 'object' &&\n              data[field.name]?.value &&\n              'id' in data[field.name].value\n                ? data[field.name].value.id\n                : data[field.name].value\n            const relationshipValue = {\n              relationTo: data[field.name]?.relationTo,\n              value,\n            }\n            fieldState.value = relationshipValue\n            fieldState.initialValue = relationshipValue\n          }\n        } else {\n          const relationshipValue =\n            data[field.name] && typeof data[field.name] === 'object' && 'id' in data[field.name]\n              ? data[field.name].id\n              : data[field.name]\n          fieldState.value = relationshipValue\n          fieldState.initialValue = relationshipValue\n        }\n\n        if (!filter || filter(args)) {\n          state[path] = fieldState\n        }\n\n        break\n      }\n\n      default: {\n        if (data[field.name] !== undefined) {\n          fieldState.value = data[field.name]\n          fieldState.initialValue = data[field.name]\n        }\n\n        // Add field to state\n        if (!filter || filter(args)) {\n          state[path] = fieldState\n        }\n\n        break\n      }\n    }\n  } else if (fieldHasSubFields(field) && !fieldAffectsData(field)) {\n    // Handle field types that do not use names (row, etc)\n\n    if (!filter || filter(args)) {\n      state[path] = {\n        disableFormData: true,\n      }\n\n      if (passesCondition === false) {\n        state[path].passesCondition = false\n      }\n    }\n\n    await iterateFields({\n      id,\n      // passthrough parent functionality\n      addErrorPathToParent: addErrorPathToParentArg,\n      anyParentLocalized: fieldIsLocalized(field) || anyParentLocalized,\n      blockData,\n      clientFieldSchemaMap,\n      collectionSlug,\n      data,\n      fields: field.fields,\n      fieldSchemaMap,\n      filter,\n      forceFullValue,\n      fullData,\n      includeSchema,\n      omitParents,\n      operation,\n      parentIndexPath: indexPath,\n      parentPassesCondition: passesCondition,\n      parentPath,\n      parentSchemaPath,\n      permissions: parentPermissions, // TODO: Verify this is correct\n      preferences,\n      previousFormState,\n      renderAllFields,\n      renderFieldFn,\n      req,\n      skipConditionChecks,\n      skipValidation,\n      state,\n    })\n  } else if (field.type === 'tabs') {\n    const promises = field.tabs.map((tab, tabIndex) => {\n      const isNamedTab = tabHasName(tab)\n\n      const {\n        indexPath: tabIndexPath,\n        path: tabPath,\n        schemaPath: tabSchemaPath,\n      } = getFieldPaths({\n        field: {\n          ...tab,\n          type: 'tab',\n        },\n        index: tabIndex,\n        parentIndexPath: indexPath,\n        parentPath,\n        parentSchemaPath,\n      })\n\n      let childPermissions: SanitizedFieldsPermissions = undefined\n\n      if (isNamedTab) {\n        if (parentPermissions === true) {\n          childPermissions = true\n        } else {\n          const tabPermissions = parentPermissions?.[tab.name]\n          if (tabPermissions === true) {\n            childPermissions = true\n          } else {\n            childPermissions = tabPermissions?.fields\n          }\n        }\n      } else {\n        childPermissions = parentPermissions\n      }\n\n      return iterateFields({\n        id,\n        addErrorPathToParent: addErrorPathToParentArg,\n        anyParentLocalized: tab.localized || anyParentLocalized,\n        blockData,\n        clientFieldSchemaMap,\n        collectionSlug,\n        data: isNamedTab ? data?.[tab.name] || {} : data,\n        fields: tab.fields,\n        fieldSchemaMap,\n        filter,\n        forceFullValue,\n        fullData,\n        includeSchema,\n        omitParents,\n        operation,\n        parentIndexPath: isNamedTab ? '' : tabIndexPath,\n        parentPassesCondition: passesCondition,\n        parentPath: isNamedTab ? tabPath : parentPath,\n        parentSchemaPath: isNamedTab ? tabSchemaPath : parentSchemaPath,\n        permissions: childPermissions,\n        preferences,\n        previousFormState,\n        renderAllFields,\n        renderFieldFn,\n        req,\n        skipConditionChecks,\n        skipValidation,\n        state,\n      })\n    })\n\n    await Promise.all(promises)\n  } else if (field.type === 'ui') {\n    if (!filter || filter(args)) {\n      state[path] = fieldState\n      state[path].disableFormData = true\n    }\n  }\n\n  if (requiresRender && renderFieldFn && !fieldIsHiddenOrDisabled(field)) {\n    const fieldState = state[path]\n\n    const fieldConfig = fieldSchemaMap.get(schemaPath)\n\n    if (!fieldConfig) {\n      if (schemaPath.endsWith('.blockType')) {\n        return\n      } else {\n        throw new Error(`Field config not found for ${schemaPath}`)\n      }\n    }\n\n    if (!fieldState) {\n      // Some fields (ie `Tab`) do not live in form state\n      // therefore we cannot attach customComponents to them\n      return\n    }\n\n    renderFieldFn({\n      id,\n      clientFieldSchemaMap,\n      collectionSlug,\n      data: fullData,\n      fieldConfig: fieldConfig as Field,\n      fieldSchemaMap,\n      fieldState,\n      formState: state,\n      indexPath,\n      operation,\n      parentPath,\n      parentSchemaPath,\n      path,\n      permissions: fieldPermissions,\n      preferences,\n      previousFieldState: previousFormState?.[path],\n      req,\n      schemaPath,\n      siblingData: data,\n    })\n  }\n}\n"],"names":["ObjectIdImport","deepCopyObjectSimple","fieldAffectsData","fieldHasSubFields","fieldIsHiddenOrDisabled","fieldIsID","fieldIsLocalized","getFieldPaths","tabHasName","getFilterOptionsQuery","iterateFields","ObjectId","default","addFieldStatePromise","args","id","addErrorPathToParent","addErrorPathToParentArg","anyParentLocalized","blockData","clientFieldSchemaMap","collectionSlug","data","field","fieldSchemaMap","filter","forceFullValue","fullData","includeSchema","indexPath","omitParents","operation","parentPath","parentPermissions","parentSchemaPath","passesCondition","path","preferences","previousFormState","renderAllFields","renderFieldFn","req","schemaPath","skipConditionChecks","skipValidation","state","console","warn","requiresRender","fieldPermissions","fieldState","fieldSchema","name","hasPermission","read","access","siblingData","validate","validationResult","jsonError","type","JSON","parse","e","event","previousValue","initialValue","err","payload","logger","error","msg","errorPath","errorPaths","includes","push","valid","errorMessage","arrayValue","Array","isArray","promises","rows","reduce","acc","row","i","toHexString","idKey","value","fields","find","localized","parentIndexPath","parentPassesCondition","permissions","previousRows","collapsedRowIDsFromPrefs","collapsed","previousRow","prevRow","undefined","admin","initCollapsed","length","Promise","all","disableFormData","blocksValue","rowMetadata","block","blocks","blockType","slug","Error","blockField","fieldKey","blockNameKey","blockName","collapsedRowIDs","filterOptions","relationTo","relation","query","user","hasMany","relationshipValue","map","relationship","tabs","tab","tabIndex","isNamedTab","tabIndexPath","tabPath","tabSchemaPath","index","childPermissions","tabPermissions","fieldConfig","get","endsWith","formState","previousFieldState"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 813, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 819, "column": 0}, "map": {"version":3,"file":"iterateFields.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/forms/fieldSchemasToFormState/iterateFields.ts"],"sourcesContent":["import type {\n  ClientFieldSchemaMap,\n  Data,\n  DocumentPreferences,\n  Field as FieldSchema,\n  FieldSchemaMap,\n  FormState,\n  FormStateWithoutComponents,\n  PayloadRequest,\n  SanitizedFieldsPermissions,\n} from 'payload'\n\nimport { getFieldPaths } from 'payload/shared'\n\nimport type { AddFieldStatePromiseArgs } from './addFieldStatePromise.js'\nimport type { RenderFieldMethod } from './types.js'\n\nimport { addFieldStatePromise } from './addFieldStatePromise.js'\n\ntype Args = {\n  addErrorPathToParent: (fieldPath: string) => void\n  /**\n   * if any parents is localized, then the field is localized. @default false\n   */\n  anyParentLocalized?: boolean\n  /**\n   * Data of the nearest parent block, or undefined\n   */\n  blockData: Data | undefined\n  clientFieldSchemaMap?: ClientFieldSchemaMap\n  collectionSlug?: string\n  data: Data\n  fields: FieldSchema[]\n  fieldSchemaMap: FieldSchemaMap\n  filter?: (args: AddFieldStatePromiseArgs) => boolean\n  /**\n   * Force the value of fields like arrays or blocks to be the full value instead of the length @default false\n   */\n  forceFullValue?: boolean\n  fullData: Data\n  id?: number | string\n  /**\n   * Whether the field schema should be included in the state. @default false\n   */\n  includeSchema?: boolean\n  /**\n   * Whether to omit parent fields in the state. @default false\n   */\n  omitParents?: boolean\n  /**\n   * operation is only needed for validation\n   */\n  operation: 'create' | 'update'\n  parentIndexPath: string\n  parentPassesCondition?: boolean\n  parentPath: string\n  parentSchemaPath: string\n  permissions: SanitizedFieldsPermissions\n  preferences?: DocumentPreferences\n  previousFormState: FormState\n  renderAllFields: boolean\n  renderFieldFn: RenderFieldMethod\n  req: PayloadRequest\n  /**\n   * Whether to skip checking the field's condition. @default false\n   */\n  skipConditionChecks?: boolean\n  /**\n   * Whether to skip validating the field. @default false\n   */\n  skipValidation?: boolean\n  state?: FormStateWithoutComponents\n}\n\n/**\n * Flattens the fields schema and fields data\n */\nexport const iterateFields = async ({\n  id,\n  addErrorPathToParent: addErrorPathToParentArg,\n  anyParentLocalized = false,\n  blockData,\n  clientFieldSchemaMap,\n  collectionSlug,\n  data,\n  fields,\n  fieldSchemaMap,\n  filter,\n  forceFullValue = false,\n  fullData,\n  includeSchema = false,\n  omitParents = false,\n  operation,\n  parentIndexPath,\n  parentPassesCondition = true,\n  parentPath,\n  parentSchemaPath,\n  permissions,\n  preferences,\n  previousFormState,\n  renderAllFields,\n  renderFieldFn: renderFieldFn,\n  req,\n  skipConditionChecks = false,\n  skipValidation = false,\n  state = {},\n}: Args): Promise<void> => {\n  const promises = []\n\n  fields.forEach((field, fieldIndex) => {\n    let passesCondition = true\n\n    const { indexPath, path, schemaPath } = getFieldPaths({\n      field,\n      index: fieldIndex,\n      parentIndexPath: 'name' in field ? '' : parentIndexPath,\n      parentPath,\n      parentSchemaPath,\n    })\n\n    if (!skipConditionChecks) {\n      try {\n        passesCondition = Boolean(\n          (field?.admin?.condition\n            ? Boolean(\n                field.admin.condition(fullData || {}, data || {}, { blockData, user: req.user }),\n              )\n            : true) && parentPassesCondition,\n        )\n      } catch (err) {\n        passesCondition = false\n\n        req.payload.logger.error({\n          err,\n          msg: `Error evaluating field condition at path: ${path}`,\n        })\n      }\n    }\n\n    promises.push(\n      addFieldStatePromise({\n        id,\n        addErrorPathToParent: addErrorPathToParentArg,\n        anyParentLocalized,\n        blockData,\n        clientFieldSchemaMap,\n        collectionSlug,\n        data,\n        field,\n        fieldIndex,\n        fieldSchemaMap,\n        filter,\n        forceFullValue,\n        fullData,\n        includeSchema,\n        indexPath,\n        omitParents,\n        operation,\n        parentIndexPath,\n        parentPath,\n        parentPermissions: permissions,\n        parentSchemaPath,\n        passesCondition,\n        path,\n        preferences,\n        previousFormState,\n        renderAllFields,\n        renderFieldFn,\n        req,\n        schemaPath,\n        skipConditionChecks,\n        skipValidation,\n        state,\n      }),\n    )\n  })\n\n  await Promise.all(promises)\n}\n"],"names":["getFieldPaths","addFieldStatePromise","iterateFields","id","addErrorPathToParent","addErrorPathToParentArg","anyParentLocalized","blockData","clientFieldSchemaMap","collectionSlug","data","fields","fieldSchemaMap","filter","forceFullValue","fullData","includeSchema","omitParents","operation","parentIndexPath","parentPassesCondition","parentPath","parentSchemaPath","permissions","preferences","previousFormState","renderAllFields","renderFieldFn","req","skipConditionChecks","skipValidation","state","promises","forEach","field","fieldIndex","passesCondition","indexPath","path","schemaPath","index","Boolean","admin","condition","user","err","payload","logger","error","msg","push","parentPermissions","Promise","all"],"mappings":";;;AAYA,SAASA,aAAa,QAAQ;AAK9B,SAASC,oBAAoB,QAAQ;;;AA4D9B,MAAMC,aAAA,GAAgB,MAAAA,CAAO,EAClCC,EAAE,EACFC,oBAAA,EAAsBC,uBAAuB,EAC7CC,kBAAA,GAAqB,KAAK,EAC1BC,SAAS,EACTC,oBAAoB,EACpBC,cAAc,EACdC,IAAI,EACJC,MAAM,EACNC,cAAc,EACdC,MAAM,EACNC,cAAA,GAAiB,KAAK,EACtBC,QAAQ,EACRC,aAAA,GAAgB,KAAK,EACrBC,WAAA,GAAc,KAAK,EACnBC,SAAS,EACTC,eAAe,EACfC,qBAAA,GAAwB,IAAI,EAC5BC,UAAU,EACVC,gBAAgB,EAChBC,WAAW,EACXC,WAAW,EACXC,iBAAiB,EACjBC,eAAe,EACfC,aAAA,EAAeA,aAAa,EAC5BC,GAAG,EACHC,mBAAA,GAAsB,KAAK,EAC3BC,cAAA,GAAiB,KAAK,EACtBC,KAAA,GAAQ,CAAC,CAAA,EACJ;IACL,MAAMC,QAAA,GAAW,EAAE;IAEnBrB,MAAA,CAAOsB,OAAO,CAAC,CAACC,KAAA,EAAOC,UAAA;QACrB,IAAIC,eAAA,GAAkB;QAEtB,MAAM,EAAEC,SAAS,EAAEC,IAAI,EAAEC,UAAAA,EAAY,GAAGvC,uYAAAA,AAAA,EAAc;YACpDkC,KAAA;YACAM,KAAA,EAAOL,UAAA;YACPhB,eAAA,EAAiB,UAAUe,KAAA,GAAQ,KAAKf,eAAA;YACxCE,UAAA;YACAC;QACF;QAEA,IAAI,CAACO,mBAAA,EAAqB;YACxB,IAAI;gBACFO,eAAA,GAAkBK,OAAA,CAChB,CAACP,KAAA,EAAOQ,KAAA,EAAOC,SAAA,GACXF,OAAA,CACEP,KAAA,CAAMQ,KAAK,CAACC,SAAS,CAAC5B,QAAA,IAAY,CAAC,GAAGL,IAAA,IAAQ,CAAC,GAAG;oBAAEH,SAAA;oBAAWqC,IAAA,EAAMhB,GAAA,CAAIgB,IAAAA;gBAAK,MAEhF,IAAG,KAAMxB,qBAAA;YAEjB,EAAE,OAAOyB,GAAA,EAAK;gBACZT,eAAA,GAAkB;gBAElBR,GAAA,CAAIkB,OAAO,CAACC,MAAM,CAACC,KAAK,CAAC;oBACvBH,GAAA;oBACAI,GAAA,EAAK,CAAA,0CAAA,EAA6CX,IAAA,EAAA;gBACpD;YACF;QACF;QAEAN,QAAA,CAASkB,IAAI,EACXjD,sbAAAA,AAAA,EAAqB;YACnBE,EAAA;YACAC,oBAAA,EAAsBC,uBAAA;YACtBC,kBAAA;YACAC,SAAA;YACAC,oBAAA;YACAC,cAAA;YACAC,IAAA;YACAwB,KAAA;YACAC,UAAA;YACAvB,cAAA;YACAC,MAAA;YACAC,cAAA;YACAC,QAAA;YACAC,aAAA;YACAqB,SAAA;YACApB,WAAA;YACAC,SAAA;YACAC,eAAA;YACAE,UAAA;YACA8B,iBAAA,EAAmB5B,WAAA;YACnBD,gBAAA;YACAc,eAAA;YACAE,IAAA;YACAd,WAAA;YACAC,iBAAA;YACAC,eAAA;YACAC,aAAA;YACAC,GAAA;YACAW,UAAA;YACAV,mBAAA;YACAC,cAAA;YACAC;QACF;IAEJ;IAEA,MAAMqB,OAAA,CAAQC,GAAG,CAACrB,QAAA;AACpB","ignoreList":[0]}},
    {"offset": {"line": 888, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 894, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/forms/fieldSchemasToFormState/index.tsx"],"sourcesContent":["import type {\n  ClientFieldSchemaMap,\n  Data,\n  DocumentPreferences,\n  Field,\n  FieldSchemaMap,\n  FormState,\n  FormStateWithoutComponents,\n  PayloadRequest,\n  SanitizedFieldsPermissions,\n} from 'payload'\n\nimport type { RenderFieldMethod } from './types.js'\n\nimport { calculateDefaultValues } from './calculateDefaultValues/index.js'\nimport { iterateFields } from './iterateFields.js'\n\ntype Args = {\n  /**\n   * The client field schema map is required for field rendering.\n   * If fields should not be rendered (=> `renderFieldFn` is not provided),\n   * then the client field schema map is not required.\n   */\n  clientFieldSchemaMap?: ClientFieldSchemaMap\n  collectionSlug?: string\n  data?: Data\n  /**\n   * If this is undefined, the `data` passed to this function will serve as `fullData` and `data` when iterating over\n   * the top-level-fields to generate form state.\n   * For sub fields, the `data` will be narrowed down to the sub fields, while `fullData` remains the same.\n   *\n   * Usually, the `data` passed to this function will be the document data. This means that running validation, read access control\n   * or executing filterOptions here will have access to the full document through the passed `fullData` parameter, and that `fullData` and `data` will be identical.\n   *\n   * In some cases however, this function is used to generate form state solely for sub fields - independent from the parent form state.\n   * This means that `data` will be the form state of the sub fields - the document data won't be available here.\n   *\n   * In these cases, you can pass `documentData` which will be used as `fullData` instead of `data`.\n   *\n   * This is useful for lexical blocks, as lexical block fields there are not part of the parent form state, yet we still want\n   * document data to be available for validation and filterOptions, under the `data` key.\n   */\n  documentData?: Data\n  fields: Field[] | undefined\n  /**\n   * The field schema map is required for field rendering.\n   * If fields should not be rendered (=> `renderFieldFn` is not provided),\n   * then the field schema map is not required.\n   */\n  fieldSchemaMap: FieldSchemaMap | undefined\n  id?: number | string\n  /**\n   * Validation, filterOptions and read access control will receive the `blockData`, which is the data of the nearest parent block. You can pass in\n   * the initial block data here, which will be used as `blockData` for the top-level fields, until the first block is encountered.\n   */\n  initialBlockData?: Data\n  operation?: 'create' | 'update'\n  permissions: SanitizedFieldsPermissions\n  preferences: DocumentPreferences\n  /**\n   * Optionally accept the previous form state,\n   * to be able to determine if custom fields need to be re-rendered.\n   */\n  previousFormState?: FormState\n  /**\n   * If renderAllFields is true, then no matter what is in previous form state,\n   * all custom fields will be re-rendered.\n   */\n  renderAllFields: boolean\n  renderFieldFn?: RenderFieldMethod\n  req: PayloadRequest\n  schemaPath: string\n  skipValidation?: boolean\n}\n\nexport const fieldSchemasToFormState = async ({\n  id,\n  clientFieldSchemaMap,\n  collectionSlug,\n  data = {},\n  documentData,\n  fields,\n  fieldSchemaMap,\n  initialBlockData,\n  operation,\n  permissions,\n  preferences,\n  previousFormState,\n  renderAllFields,\n  renderFieldFn,\n  req,\n  schemaPath,\n  skipValidation,\n}: Args): Promise<FormState> => {\n  if (!clientFieldSchemaMap && renderFieldFn) {\n    console.warn(\n      'clientFieldSchemaMap is not passed to fieldSchemasToFormState - this will reduce performance',\n    )\n  }\n\n  if (fields && fields.length) {\n    const state: FormStateWithoutComponents = {}\n\n    const dataWithDefaultValues = { ...data }\n\n    await calculateDefaultValues({\n      id,\n      data: dataWithDefaultValues,\n      fields,\n      locale: req.locale,\n      req,\n      siblingData: dataWithDefaultValues,\n      user: req.user,\n    })\n\n    let fullData = dataWithDefaultValues\n\n    if (documentData) {\n      // By the time this function is used to get form state for nested forms, their default values should have already been calculated\n      // => no need to run calculateDefaultValues here\n      fullData = documentData\n    }\n\n    await iterateFields({\n      id,\n      addErrorPathToParent: null,\n      blockData: initialBlockData,\n      clientFieldSchemaMap,\n      collectionSlug,\n      data: dataWithDefaultValues,\n      fields,\n      fieldSchemaMap,\n      fullData,\n      operation,\n      parentIndexPath: '',\n      parentPassesCondition: true,\n      parentPath: '',\n      parentSchemaPath: schemaPath,\n      permissions,\n      preferences,\n      previousFormState,\n      renderAllFields,\n      renderFieldFn,\n      req,\n      skipValidation,\n      state,\n    })\n\n    return state\n  }\n\n  return {}\n}\n\nexport { iterateFields }\n"],"names":["calculateDefaultValues","iterateFields","fieldSchemasToFormState","id","clientFieldSchemaMap","collectionSlug","data","documentData","fields","fieldSchemaMap","initialBlockData","operation","permissions","preferences","previousFormState","renderAllFields","renderFieldFn","req","schemaPath","skipValidation","console","warn","length","state","dataWithDefaultValues","locale","siblingData","user","fullData","addErrorPathToParent","blockData","parentIndexPath","parentPassesCondition","parentPath","parentSchemaPath"],"mappings":";;;AAcA,SAASA,sBAAsB,QAAQ;AACvC,SAASC,aAAa,QAAQ;;;AA4DvB,MAAMC,uBAAA,GAA0B,MAAAA,CAAO,EAC5CC,EAAE,EACFC,oBAAoB,EACpBC,cAAc,EACdC,IAAA,GAAO,CAAC,CAAC,EACTC,YAAY,EACZC,MAAM,EACNC,cAAc,EACdC,gBAAgB,EAChBC,SAAS,EACTC,WAAW,EACXC,WAAW,EACXC,iBAAiB,EACjBC,eAAe,EACfC,aAAa,EACbC,GAAG,EACHC,UAAU,EACVC,cAAAA,EACK;IACL,IAAI,CAACf,oBAAA,IAAwBY,aAAA,EAAe;QAC1CI,OAAA,CAAQC,IAAI,CACV;IAEJ;IAEA,IAAIb,MAAA,IAAUA,MAAA,CAAOc,MAAM,EAAE;QAC3B,MAAMC,KAAA,GAAoC,CAAC;QAE3C,MAAMC,qBAAA,GAAwB;YAAE,GAAGlB,IAAAA;QAAK;QAExC,ibAAMN,yBAAAA,AAAA,EAAuB;YAC3BG,EAAA;YACAG,IAAA,EAAMkB,qBAAA;YACNhB,MAAA;YACAiB,MAAA,EAAQR,GAAA,CAAIQ,MAAM;YAClBR,GAAA;YACAS,WAAA,EAAaF,qBAAA;YACbG,IAAA,EAAMV,GAAA,CAAIU,IAAAA;QACZ;QAEA,IAAIC,QAAA,GAAWJ,qBAAA;QAEf,IAAIjB,YAAA,EAAc;YAChB,iIAAA;YACA,gDAAA;YACAqB,QAAA,GAAWrB,YAAA;QACb;QAEA,+ZAAMN,gBAAAA,AAAA,EAAc;YAClBE,EAAA;YACA0B,oBAAA,EAAsB;YACtBC,SAAA,EAAWpB,gBAAA;YACXN,oBAAA;YACAC,cAAA;YACAC,IAAA,EAAMkB,qBAAA;YACNhB,MAAA;YACAC,cAAA;YACAmB,QAAA;YACAjB,SAAA;YACAoB,eAAA,EAAiB;YACjBC,qBAAA,EAAuB;YACvBC,UAAA,EAAY;YACZC,gBAAA,EAAkBhB,UAAA;YAClBN,WAAA;YACAC,WAAA;YACAC,iBAAA;YACAC,eAAA;YACAC,aAAA;YACAC,GAAA;YACAE,cAAA;YACAI;QACF;QAEA,OAAOA,KAAA;IACT;IAEA,OAAO,CAAC;AACV","ignoreList":[0]}},
    {"offset": {"line": 955, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 961, "column": 0}, "map": {"version":3,"file":"traverseFields.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/utilities/buildFieldSchemaMap/traverseFields.ts"],"sourcesContent":["import type { I18n } from '@payloadcms/translations'\nimport type { Field, FieldSchemaMap, SanitizedConfig } from 'payload'\n\nimport { MissingEditorProp } from 'payload'\nimport { getFieldPaths, tabHasName } from 'payload/shared'\n\ntype Args = {\n  config: SanitizedConfig\n  fields: Field[]\n  i18n: I18n<any, any>\n  parentIndexPath: string\n  parentSchemaPath: string\n  schemaMap: FieldSchemaMap\n}\n\nexport const traverseFields = ({\n  config,\n  fields,\n  i18n,\n  parentIndexPath,\n  parentSchemaPath,\n  schemaMap,\n}: Args) => {\n  for (const [index, field] of fields.entries()) {\n    const { indexPath, schemaPath } = getFieldPaths({\n      field,\n      index,\n      parentIndexPath: 'name' in field ? '' : parentIndexPath,\n      parentPath: '',\n      parentSchemaPath,\n    })\n\n    schemaMap.set(schemaPath, field)\n\n    switch (field.type) {\n      case 'array':\n      case 'group':\n        traverseFields({\n          config,\n          fields: field.fields,\n          i18n,\n          parentIndexPath: '',\n          parentSchemaPath: schemaPath,\n          schemaMap,\n        })\n\n        break\n\n      case 'blocks':\n        field.blocks.map((block) => {\n          const blockSchemaPath = `${schemaPath}.${block.slug}`\n\n          schemaMap.set(blockSchemaPath, block)\n          traverseFields({\n            config,\n            fields: block.fields,\n            i18n,\n            parentIndexPath: '',\n            parentSchemaPath: blockSchemaPath,\n            schemaMap,\n          })\n        })\n\n        break\n      case 'collapsible':\n      case 'row':\n        traverseFields({\n          config,\n          fields: field.fields,\n          i18n,\n          parentIndexPath: indexPath,\n          parentSchemaPath,\n          schemaMap,\n        })\n\n        break\n\n      case 'richText':\n        if (!field?.editor) {\n          throw new MissingEditorProp(field) // while we allow disabling editor functionality, you should not have any richText fields defined if you do not have an editor\n        }\n\n        if (typeof field.editor === 'function') {\n          throw new Error('Attempted to access unsanitized rich text editor.')\n        }\n\n        if (typeof field.editor.generateSchemaMap === 'function') {\n          field.editor.generateSchemaMap({\n            config,\n            field,\n            i18n,\n            schemaMap,\n            schemaPath,\n          })\n        }\n\n        break\n\n      case 'tabs':\n        field.tabs.map((tab, tabIndex) => {\n          const isNamedTab = tabHasName(tab)\n\n          const { indexPath: tabIndexPath, schemaPath: tabSchemaPath } = getFieldPaths({\n            field: {\n              ...tab,\n              type: 'tab',\n            },\n            index: tabIndex,\n            parentIndexPath: indexPath,\n            parentPath: '',\n            parentSchemaPath,\n          })\n\n          schemaMap.set(tabSchemaPath, tab)\n\n          traverseFields({\n            config,\n            fields: tab.fields,\n            i18n,\n            parentIndexPath: isNamedTab ? '' : tabIndexPath,\n            parentSchemaPath: isNamedTab ? tabSchemaPath : parentSchemaPath,\n            schemaMap,\n          })\n        })\n\n        break\n    }\n  }\n}\n"],"names":["MissingEditorProp","getFieldPaths","tabHasName","traverseFields","config","fields","i18n","parentIndexPath","parentSchemaPath","schemaMap","index","field","entries","indexPath","schemaPath","parentPath","set","type","blocks","map","block","blockSchemaPath","slug","editor","Error","generateSchemaMap","tabs","tab","tabIndex","isNamedTab","tabIndexPath","tabSchemaPath"],"mappings":";;;AAIA,SAASC,aAAa,EAAEC,UAAU,QAAQ;AAD1C,SAASF,iBAAiB,QAAQ;;;;AAY3B,MAAMG,cAAA,GAAiBA,CAAC,EAC7BC,MAAM,EACNC,MAAM,EACNC,IAAI,EACJC,eAAe,EACfC,gBAAgB,EAChBC,SAAAA,EACK;IACL,KAAK,MAAM,CAACC,KAAA,EAAOC,KAAA,CAAM,IAAIN,MAAA,CAAOO,OAAO,GAAI;QAC7C,MAAM,EAAEC,SAAS,EAAEC,UAAAA,EAAY,0XAAGb,gBAAAA,AAAA,EAAc;YAC9CU,KAAA;YACAD,KAAA;YACAH,eAAA,EAAiB,UAAUI,KAAA,GAAQ,KAAKJ,eAAA;YACxCQ,UAAA,EAAY;YACZP;QACF;QAEAC,SAAA,CAAUO,GAAG,CAACF,UAAA,EAAYH,KAAA;QAE1B,OAAQA,KAAA,CAAMM,IAAI;YAChB,KAAK;YACL,KAAK;gBACHd,cAAA,CAAe;oBACbC,MAAA;oBACAC,MAAA,EAAQM,KAAA,CAAMN,MAAM;oBACpBC,IAAA;oBACAC,eAAA,EAAiB;oBACjBC,gBAAA,EAAkBM,UAAA;oBAClBL;gBACF;gBAEA;YAEF,KAAK;gBACHE,KAAA,CAAMO,MAAM,CAACC,GAAG,EAAEC,KAAA;oBAChB,MAAMC,eAAA,GAAkB,GAAGP,UAAA,CAAA,CAAA,EAAcM,KAAA,CAAME,IAAI,EAAE;oBAErDb,SAAA,CAAUO,GAAG,CAACK,eAAA,EAAiBD,KAAA;oBAC/BjB,cAAA,CAAe;wBACbC,MAAA;wBACAC,MAAA,EAAQe,KAAA,CAAMf,MAAM;wBACpBC,IAAA;wBACAC,eAAA,EAAiB;wBACjBC,gBAAA,EAAkBa,eAAA;wBAClBZ;oBACF;gBACF;gBAEA;YACF,KAAK;YACL,KAAK;gBACHN,cAAA,CAAe;oBACbC,MAAA;oBACAC,MAAA,EAAQM,KAAA,CAAMN,MAAM;oBACpBC,IAAA;oBACAC,eAAA,EAAiBM,SAAA;oBACjBL,gBAAA;oBACAC;gBACF;gBAEA;YAEF,KAAK;gBACH,IAAI,CAACE,KAAA,EAAOY,MAAA,EAAQ;oBAClB,MAAM,IAAIvB,2YAAA,CAAkBW,KAAA,EAAO,8HAAA;;gBACrC;gBAEA,IAAI,OAAOA,KAAA,CAAMY,MAAM,KAAK,YAAY;oBACtC,MAAM,IAAIC,KAAA,CAAM;gBAClB;gBAEA,IAAI,OAAOb,KAAA,CAAMY,MAAM,CAACE,iBAAiB,KAAK,YAAY;oBACxDd,KAAA,CAAMY,MAAM,CAACE,iBAAiB,CAAC;wBAC7BrB,MAAA;wBACAO,KAAA;wBACAL,IAAA;wBACAG,SAAA;wBACAK;oBACF;gBACF;gBAEA;YAEF,KAAK;gBACHH,KAAA,CAAMe,IAAI,CAACP,GAAG,CAAC,CAACQ,GAAA,EAAKC,QAAA;oBACnB,MAAMC,UAAA,4XAAa3B,aAAAA,AAAA,EAAWyB,GAAA;oBAE9B,MAAM,EAAEd,SAAA,EAAWiB,YAAY,EAAEhB,UAAA,EAAYiB,aAAAA,EAAe,0XAAG9B,gBAAAA,AAAA,EAAc;wBAC3EU,KAAA,EAAO;4BACL,GAAGgB,GAAG;4BACNV,IAAA,EAAM;wBACR;wBACAP,KAAA,EAAOkB,QAAA;wBACPrB,eAAA,EAAiBM,SAAA;wBACjBE,UAAA,EAAY;wBACZP;oBACF;oBAEAC,SAAA,CAAUO,GAAG,CAACe,aAAA,EAAeJ,GAAA;oBAE7BxB,cAAA,CAAe;wBACbC,MAAA;wBACAC,MAAA,EAAQsB,GAAA,CAAItB,MAAM;wBAClBC,IAAA;wBACAC,eAAA,EAAiBsB,UAAA,GAAa,KAAKC,YAAA;wBACnCtB,gBAAA,EAAkBqB,UAAA,GAAaE,aAAA,GAAgBvB,gBAAA;wBAC/CC;oBACF;gBACF;gBAEA;QACJ;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 1061, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1067, "column": 0}, "map": {"version":3,"file":"removeUndefined.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/utilities/removeUndefined.ts"],"sourcesContent":["export function removeUndefined<T extends object>(obj: T): T {\n  return Object.fromEntries(Object.entries(obj).filter(([, value]) => value !== undefined)) as T\n}\n"],"names":["removeUndefined","obj","Object","fromEntries","entries","filter","value","undefined"],"mappings":";;;AAAO,SAASA,gBAAkCC,GAAM;IACtD,OAAOC,MAAA,CAAOC,WAAW,CAACD,MAAA,CAAOE,OAAO,CAACH,GAAA,EAAKI,MAAM,CAAC,CAAC,GAAGC,KAAA,CAAM,GAAKA,KAAA,KAAUC,SAAA;AAChF","ignoreList":[0]}},
    {"offset": {"line": 1073, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1079, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/elements/RenderServerComponent/index.tsx"],"sourcesContent":["import type { ImportMap, PayloadComponent } from 'payload'\n\nimport { getFromImportMap, isPlainObject, isReactServerComponentOrFunction } from 'payload/shared'\nimport React from 'react'\n\nimport { removeUndefined } from '../../utilities/removeUndefined.js'\n\ntype RenderServerComponentFn = (args: {\n  readonly clientProps?: object\n  readonly Component?:\n    | PayloadComponent\n    | PayloadComponent[]\n    | React.ComponentType\n    | React.ComponentType[]\n  readonly Fallback?: React.ComponentType\n  readonly importMap: ImportMap\n  readonly key?: string\n  readonly serverProps?: object\n}) => React.ReactNode\n\n/**\n * Can be used to render both MappedComponents and React Components.\n */\nexport const RenderServerComponent: RenderServerComponentFn = ({\n  clientProps = {},\n  Component,\n  Fallback,\n  importMap,\n  key,\n  serverProps,\n}) => {\n  if (Array.isArray(Component)) {\n    return Component.map((c, index) =>\n      RenderServerComponent({\n        clientProps,\n        Component: c,\n        importMap,\n        key: index,\n        serverProps,\n      }),\n    )\n  }\n\n  if (typeof Component === 'function') {\n    const isRSC = isReactServerComponentOrFunction(Component)\n\n    // prevent $undefined from being passed through the rsc requests\n    const sanitizedProps = removeUndefined({\n      ...clientProps,\n      ...(isRSC ? serverProps : {}),\n    })\n\n    return <Component key={key} {...sanitizedProps} />\n  }\n\n  if (typeof Component === 'string' || isPlainObject(Component)) {\n    const ResolvedComponent = getFromImportMap<React.ComponentType>({\n      importMap,\n      PayloadComponent: Component,\n      schemaPath: '',\n    })\n\n    if (ResolvedComponent) {\n      const isRSC = isReactServerComponentOrFunction(ResolvedComponent)\n\n      // prevent $undefined from being passed through rsc requests\n      const sanitizedProps = removeUndefined({\n        ...clientProps,\n        ...(isRSC ? serverProps : {}),\n        ...(isRSC && typeof Component === 'object' && Component?.serverProps\n          ? Component.serverProps\n          : {}),\n        ...(typeof Component === 'object' && Component?.clientProps ? Component.clientProps : {}),\n      })\n\n      return <ResolvedComponent key={key} {...sanitizedProps} />\n    }\n  }\n\n  return Fallback\n    ? RenderServerComponent({\n        clientProps,\n        Component: Fallback,\n        importMap,\n        key,\n        serverProps,\n      })\n    : null\n}\n"],"names":["getFromImportMap","isPlainObject","isReactServerComponentOrFunction","React","removeUndefined","RenderServerComponent","clientProps","Component","Fallback","importMap","key","serverProps","Array","isArray","map","c","index","isRSC","sanitizedProps","_jsx","ResolvedComponent","PayloadComponent","schemaPath"],"mappings":";;;;AAGA,OAAOG,KAAA,MAAW;AADlB,SAASH,gBAAgB,EAAEC,aAAa,EAAEC,gCAAgC,QAAQ;;;AAGlF,SAASE,eAAe,QAAQ;;;;;AAkBzB,MAAMC,qBAAA,GAAiDA,CAAC,EAC7DC,WAAA,GAAc,CAAC,CAAC,EAChBC,SAAS,EACTC,QAAQ,EACRC,SAAS,EACTC,GAAG,EACHC,WAAAA,EACD;IACC,IAAIC,KAAA,CAAMC,OAAO,CAACN,SAAA,GAAY;QAC5B,OAAOA,SAAA,CAAUO,GAAG,CAAC,CAACC,CAAA,EAAGC,KAAA,GACvBX,qBAAA,CAAsB;gBACpBC,WAAA;gBACAC,SAAA,EAAWQ,CAAA;gBACXN,SAAA;gBACAC,GAAA,EAAKM,KAAA;gBACLL;YACF;IAEJ;IAEA,IAAI,OAAOJ,SAAA,KAAc,YAAY;QACnC,MAAMU,KAAA,gYAAQf,mCAAAA,AAAA,EAAiCK,SAAA;QAE/C,gEAAA;QACA,MAAMW,cAAA,uYAAiBd,kBAAAA,AAAA,EAAgB;YACrC,GAAGE,WAAW;YACd,GAAIW,KAAA,GAAQN,WAAA,GAAc,CAAC,CAAC;QAC9B;QAEA,OAAA,WAAA,qXAAOQ,MAAAA,AAAA,EAACZ,SAAA,EAAA;YAAqB,GAAGW,cAAAA;WAATR,GAAA;IACzB;IAEA,IAAI,OAAOH,SAAA,KAAc,sYAAYN,gBAAAA,AAAA,EAAcM,SAAA,GAAY;QAC7D,MAAMa,iBAAA,+YAAoBpB,mBAAA,AAAAA,EAAsC;YAC9DS,SAAA;YACAY,gBAAA,EAAkBd,SAAA;YAClBe,UAAA,EAAY;QACd;QAEA,IAAIF,iBAAA,EAAmB;YACrB,MAAMH,KAAA,gYAAQf,mCAAAA,AAAA,EAAiCkB,iBAAA;YAE/C,4DAAA;YACA,MAAMF,cAAA,GAAiBd,sZAAAA,AAAA,EAAgB;gBACrC,GAAGE,WAAW;gBACd,GAAIW,KAAA,GAAQN,WAAA,GAAc,CAAC,CAAC;gBAC5B,GAAIM,KAAA,IAAS,OAAOV,SAAA,KAAc,YAAYA,SAAA,EAAWI,WAAA,GACrDJ,SAAA,CAAUI,WAAW,GACrB,CAAC,CAAC;gBACN,GAAI,OAAOJ,SAAA,KAAc,YAAYA,SAAA,EAAWD,WAAA,GAAcC,SAAA,CAAUD,WAAW,GAAG,CAAC,CAAC;YAC1F;YAEA,OAAA,WAAA,qXAAOa,MAAAA,AAAA,EAACC,iBAAA,EAAA;gBAA6B,GAAGF,cAAAA;eAATR,GAAA;QACjC;IACF;IAEA,OAAOF,QAAA,GACHH,qBAAA,CAAsB;QACpBC,WAAA;QACAC,SAAA,EAAWC,QAAA;QACXC,SAAA;QACAC,GAAA;QACAC;IACF,KACA;AACN","ignoreList":[0]}},
    {"offset": {"line": 1141, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1147, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/elements/TableColumns/filterFields.tsx","file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/elements/TableColumns/getInitialColumns.ts","file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/elements/Translation/index.tsx","file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/elements/withMergedProps/index.tsx","file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/elements/WithServerSideProps/index.tsx","file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/fields/mergeFieldStyles.ts","file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/forms/Form/reduceToSerializableFields.ts","file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/graphics/Icon/index.tsx","file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/graphics/Logo/index.tsx","file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/utilities/abortAndIgnore.ts","file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/utilities/api.ts","file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/utilities/findLocaleFromCode.ts","file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/utilities/formatAdminURL.ts","file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/node_modules/.pnpm/%40date-fns%2Btz%401.2.0/node_modules/%40date-fns/tz/tzOffset/index.js","file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/node_modules/.pnpm/%40date-fns%2Btz%401.2.0/node_modules/%40date-fns/tz/date/mini.js","file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/utilities/formatDate.ts","file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/utilities/formatDocTitle.ts","file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/utilities/groupNavItems.ts","file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/utilities/handleBackToDashboard.tsx","file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/utilities/handleGoBack.tsx","file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/utilities/handleTakeOver.tsx","file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/utilities/hasSavePermission.ts","file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/utilities/isClientUserObject.ts","file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/utilities/isEditing.ts","file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/utilities/mergeListSearchAndWhere.ts","file:///home/eric/Documents/GitHub/astro-payload-mono/apps/payload/node_modules/.pnpm/%40payloadcms%2Bui%403.23.0_%40types%2Breact%4019.0.1_monaco-editor%400.52.2_next%4015.1.0_react-dom%4019.0.0_r_2tercydr2dzrf5ho5p5d3sfnxm/node_modules/%40payloadcms/ui/src/utilities/sanitizeID.ts"],"sourcesContent":["import type { ClientField, Field } from 'payload'\n\nimport { fieldIsHiddenOrDisabled, fieldIsID } from 'payload/shared'\n\n/**\n * Filters fields that are hidden, disabled, or have `disableListColumn` set to `true`\n * Does so recursively for `tabs` fields.\n */\nexport const filterFields = <T extends ClientField | Field>(incomingFields: T[]): T[] => {\n  const shouldSkipField = (field: T): boolean =>\n    (field.type !== 'ui' && fieldIsHiddenOrDisabled(field) && !fieldIsID(field)) ||\n    field?.admin?.disableListColumn === true\n\n  const fields: T[] = incomingFields?.reduce((acc, field) => {\n    if (shouldSkipField(field)) {\n      return acc\n    }\n\n    // extract top-level `tabs` fields and filter out the same\n    const formattedField: T =\n      field.type === 'tabs' && 'tabs' in field\n        ? {\n            ...field,\n            tabs: field.tabs.map((tab) => ({\n              ...tab,\n              fields: tab.fields.filter((tabField) => !shouldSkipField(tabField)),\n            })),\n          }\n        : field\n\n    acc.push(formattedField)\n\n    return acc\n  }, [])\n\n  return fields\n}\n","import type { ClientField, CollectionConfig, Field, ListPreferences } from 'payload'\n\nimport { fieldAffectsData } from 'payload/shared'\n\nconst getRemainingColumns = <T extends ClientField[] | Field[]>(\n  fields: T,\n  useAsTitle: string,\n): ListPreferences['columns'] =>\n  fields?.reduce((remaining, field) => {\n    if (fieldAffectsData(field) && field.name === useAsTitle) {\n      return remaining\n    }\n\n    if (!fieldAffectsData(field) && 'fields' in field) {\n      return [...remaining, ...getRemainingColumns(field.fields, useAsTitle)]\n    }\n\n    if (field.type === 'tabs' && 'tabs' in field) {\n      return [\n        ...remaining,\n        ...field.tabs.reduce(\n          (tabFieldColumns, tab) => [\n            ...tabFieldColumns,\n            ...('name' in tab ? [tab.name] : getRemainingColumns(tab.fields, useAsTitle)),\n          ],\n          [],\n        ),\n      ]\n    }\n\n    return [...remaining, field.name]\n  }, [])\n\n/**\n * Returns the initial columns to display in the table based on the following criteria:\n * 1. If `defaultColumns` is set in the collection config, use those columns\n * 2. Otherwise take `useAtTitle, if set, and the next 3 fields that are not hidden or disabled\n */\nexport const getInitialColumns = <T extends ClientField[] | Field[]>(\n  fields: T,\n  useAsTitle: CollectionConfig['admin']['useAsTitle'],\n  defaultColumns: CollectionConfig['admin']['defaultColumns'],\n): ListPreferences['columns'] => {\n  let initialColumns = []\n\n  if (Array.isArray(defaultColumns) && defaultColumns.length >= 1) {\n    initialColumns = defaultColumns\n  } else {\n    if (useAsTitle) {\n      initialColumns.push(useAsTitle)\n    }\n\n    const remainingColumns = getRemainingColumns(fields, useAsTitle)\n\n    initialColumns = initialColumns.concat(remainingColumns)\n    initialColumns = initialColumns.slice(0, 4)\n  }\n\n  return initialColumns.map((column) => ({\n    accessor: column,\n    active: true,\n  }))\n}\n","import type { ClientTranslationKeys, TFunction } from '@payloadcms/translations'\n\nimport * as React from 'react'\n\nconst RecursiveTranslation: React.FC<{\n  elements?: Record<string, React.FC<{ children: React.ReactNode }>>\n  translationString: string\n}> = ({ elements, translationString }) => {\n  const regex = /(<[^>]+>.*?<\\/[^>]+>)/g\n  const sections = translationString.split(regex)\n\n  return (\n    <span>\n      {sections.map((section, index) => {\n        if (elements && section.startsWith('<') && section.endsWith('>')) {\n          const elementKey = section[1]\n          const Element = elements[elementKey]\n\n          if (Element) {\n            const regex = new RegExp(`<${elementKey}>(.*?)<\\/${elementKey}>`, 'g')\n            const children = section.replace(regex, (_, group) => group)\n\n            return (\n              <Element key={index}>\n                <RecursiveTranslation translationString={children} />\n              </Element>\n            )\n          }\n        }\n\n        return section\n      })}\n    </span>\n  )\n}\n\nexport type TranslationProps = {\n  elements?: Record<string, React.FC<{ children: React.ReactNode }>>\n  i18nKey: ClientTranslationKeys\n  t: TFunction\n  variables?: Record<string, unknown>\n}\n\nexport const Translation: React.FC<TranslationProps> = ({ elements, i18nKey, t, variables }) => {\n  const stringWithVariables = t(i18nKey, variables || {})\n\n  if (!elements) {\n    return stringWithVariables\n  }\n\n  return <RecursiveTranslation elements={elements} translationString={stringWithVariables} />\n}\n","import { isReactServerComponentOrFunction, serverProps } from 'payload/shared'\nimport React from 'react'\n\n/**\n * Creates a higher-order component (HOC) that merges predefined properties (`toMergeIntoProps`)\n * with any properties passed to the resulting component.\n *\n * Use this when you want to pre-specify some props for a component, while also allowing users to\n * pass in their own props. The HOC ensures the passed props and predefined props are combined before\n * rendering the original component.\n *\n * @example\n * const PredefinedComponent = getMergedPropsComponent({\n *   Component: OriginalComponent,\n *   toMergeIntoProps: { someExtraValue: 5 }\n * });\n * // Using <PredefinedComponent customProp=\"value\" /> will result in\n * // <OriginalComponent customProp=\"value\" someExtraValue={5} />\n *\n * @returns A higher-order component with combined properties.\n *\n * @param Component - The original component to wrap.\n * @param sanitizeServerOnlyProps - If true, server-only props will be removed from the merged props. @default true if the component is not a server component, false otherwise.\n * @param toMergeIntoProps - The properties to merge into the passed props.\n */\nexport function withMergedProps<ToMergeIntoProps, CompleteReturnProps>({\n  Component,\n  sanitizeServerOnlyProps,\n  toMergeIntoProps,\n}: {\n  Component: React.FC<CompleteReturnProps>\n  sanitizeServerOnlyProps?: boolean\n  toMergeIntoProps: ToMergeIntoProps\n}): React.FC<CompleteReturnProps> {\n  if (sanitizeServerOnlyProps === undefined) {\n    sanitizeServerOnlyProps = !isReactServerComponentOrFunction(Component)\n  }\n  // A wrapper around the args.Component to inject the args.toMergeArgs as props, which are merged with the passed props\n  const MergedPropsComponent: React.FC<CompleteReturnProps> = (passedProps) => {\n    const mergedProps = simpleMergeProps(passedProps, toMergeIntoProps) as CompleteReturnProps\n\n    if (sanitizeServerOnlyProps) {\n      serverProps.forEach((prop) => {\n        delete mergedProps[prop]\n      })\n    }\n\n    return <Component {...mergedProps} />\n  }\n\n  return MergedPropsComponent\n}\n\nfunction simpleMergeProps(props, toMerge) {\n  return { ...props, ...toMerge }\n}\n","import type { WithServerSidePropsComponent } from 'payload'\n\nimport { isReactServerComponentOrFunction } from 'payload/shared'\nimport React from 'react'\n\nexport const WithServerSideProps: WithServerSidePropsComponent = ({\n  Component,\n  serverOnlyProps,\n  ...rest\n}) => {\n  if (Component) {\n    const WithServerSideProps: React.FC = (passedProps) => {\n      const propsWithServerOnlyProps = {\n        ...passedProps,\n        ...(isReactServerComponentOrFunction(Component) ? (serverOnlyProps ?? {}) : {}),\n      }\n\n      return <Component {...propsWithServerOnlyProps} />\n    }\n\n    return WithServerSideProps(rest)\n  }\n\n  return null\n}\n","import type { ClientField } from 'payload'\n\nexport const mergeFieldStyles = (\n  field: ClientField | Omit<ClientField, 'type'>,\n): React.CSSProperties => ({\n  ...(field?.admin?.style || {}),\n  ...(field?.admin?.width\n    ? {\n        '--field-width': field.admin.width,\n      }\n    : {\n        flex: '1 1 auto',\n      }),\n  // allow flex overrides to still take precedence over the fallback\n  ...(field?.admin?.style?.flex\n    ? {\n        flex: field.admin.style.flex,\n      }\n    : {}),\n})\n","import { type FormField, type FormState } from 'payload'\n\ntype BlacklistedKeys = 'customComponents' | 'validate'\nconst blacklistedKeys: BlacklistedKeys[] = ['validate', 'customComponents']\n\nconst sanitizeField = (incomingField: FormField): FormField => {\n  const field = { ...incomingField } // shallow copy, as we only need to remove top-level keys\n\n  for (const key of blacklistedKeys) {\n    delete field[key]\n  }\n\n  return field\n}\n\n/**\n * Takes in FormState and removes fields that are not serializable.\n * Returns FormState without blacklisted keys.\n */\nexport const reduceToSerializableFields = (\n  fields: FormState,\n): {\n  [key: string]: Omit<FormField, BlacklistedKeys>\n} => {\n  const result: Record<string, Omit<FormField, BlacklistedKeys>> = {}\n\n  for (const key in fields) {\n    result[key] = sanitizeField(fields[key])\n  }\n\n  return result\n}\n","import React from 'react'\n\nexport const PayloadIcon: React.FC<{\n  fill?: string\n}> = ({ fill: fillFromProps }) => {\n  const fill = fillFromProps || 'var(--theme-elevation-1000)'\n\n  return (\n    <svg\n      className=\"graphic-icon\"\n      height=\"100%\"\n      viewBox=\"0 0 25 25\"\n      width=\"100%\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path\n        d=\"M11.8673 21.2336L4.40922 16.9845C4.31871 16.9309 4.25837 16.8355 4.25837 16.7282V10.1609C4.25837 10.0477 4.38508 9.97616 4.48162 10.0298L13.1404 14.9642C13.2611 15.0358 13.412 14.9464 13.412 14.8093V11.6091C13.412 11.4839 13.3456 11.3647 13.2309 11.2992L2.81624 5.36353C2.72573 5.30989 2.60505 5.30989 2.51454 5.36353L1.15085 6.14422C1.06034 6.19786 1 6.29321 1 6.40048V18.5995C1 18.7068 1.06034 18.8021 1.15085 18.8558L11.8491 24.9583C11.9397 25.0119 12.0603 25.0119 12.1509 24.9583L21.1355 19.8331C21.2562 19.7616 21.2562 19.5948 21.1355 19.5232L18.3357 17.9261C18.2211 17.8605 18.0883 17.8605 17.9737 17.9261L12.175 21.2336C12.0845 21.2872 11.9638 21.2872 11.8733 21.2336H11.8673Z\"\n        fill={fill}\n      />\n      <path\n        d=\"M22.8491 6.13827L12.1508 0.0417218C12.0603 -0.0119135 11.9397 -0.0119135 11.8491 0.0417218L6.19528 3.2658C6.0746 3.33731 6.0746 3.50418 6.19528 3.57569L8.97092 5.16091C9.08557 5.22647 9.21832 5.22647 9.33296 5.16091L11.8672 3.71872C11.9578 3.66508 12.0784 3.66508 12.1689 3.71872L19.627 7.96782C19.7175 8.02146 19.7778 8.11681 19.7778 8.22408V14.8212C19.7778 14.9464 19.8442 15.0656 19.9589 15.1311L22.7345 16.7104C22.8552 16.7819 23.006 16.6925 23.006 16.5554V6.40048C23.006 6.29321 22.9457 6.19786 22.8552 6.14423L22.8491 6.13827Z\"\n        fill={fill}\n      />\n    </svg>\n  )\n}\n","import React from 'react'\n\nconst css = `\n  .graphic-logo path {\n    fill: var(--theme-elevation-1000);\n  }\n`\n\nexport const PayloadLogo: React.FC = () => (\n  <svg\n    className=\"graphic-logo\"\n    fill=\"none\"\n    height=\"43.5\"\n    id=\"b\"\n    viewBox=\"0 0 193.38 43.5\"\n    width=\"193.38\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <style>{css}</style>\n    <g id=\"c\">\n      <path d=\"M18.01,35.63l-12.36-7.13c-.15-.09-.25-.25-.25-.43v-11.02c0-.19.21-.31.37-.22l14.35,8.28c.2.12.45-.03.45-.26v-5.37c0-.21-.11-.41-.3-.52L3.01,9c-.15-.09-.35-.09-.5,0l-2.26,1.31c-.15.09-.25.25-.25.43v20.47c0,.18.1.34.25.43l17.73,10.24c.15.09.35.09.5,0l14.89-8.6c.2-.12.2-.4,0-.52l-4.64-2.68c-.19-.11-.41-.11-.6,0l-9.61,5.55c-.15.09-.35.09-.5,0Z\" />\n      <path d=\"M36.21,10.3L18.48.07c-.15-.09-.35-.09-.5,0l-9.37,5.41c-.2.12-.2.4,0,.52l4.6,2.66c.19.11.41.11.6,0l4.2-2.42c.15-.09.35-.09.5,0l12.36,7.13c.15.09.25.25.25.43v11.07c0,.21.11.41.3.52l4.6,2.65c.2.12.45-.03.45-.26V10.74c0-.18-.1-.34-.25-.43Z\" />\n      <g id=\"d\">\n        <path d=\"M193.38,9.47c0,1.94-1.48,3.32-3.3,3.32s-3.31-1.39-3.31-3.32,1.49-3.31,3.31-3.31,3.3,1.39,3.3,3.31ZM192.92,9.47c0-1.68-1.26-2.88-2.84-2.88s-2.84,1.2-2.84,2.88,1.26,2.89,2.84,2.89,2.84-1.2,2.84-2.89ZM188.69,11.17v-3.51h1.61c.85,0,1.35.39,1.35,1.15,0,.53-.3.86-.67,1.02l.79,1.35h-.89l-.72-1.22h-.64v1.22h-.82ZM190.18,9.31c.46,0,.64-.16.64-.5s-.19-.49-.64-.49h-.67v.99h.67Z\" />\n        <path d=\"M54.72,24.84v10.93h-5.4V6.1h12.26c7.02,0,11.1,3.2,11.1,9.39s-4.07,9.35-11.06,9.35h-6.9,0ZM61.12,20.52c4.07,0,6.11-1.66,6.11-5.03s-2.04-5.03-6.11-5.03h-6.4v10.06h6.4Z\" />\n        <path d=\"M85.94,32.45c-1,2.41-3.66,3.78-7.02,3.78-4.11,0-7.11-2.29-7.11-6.11,0-4.24,3.32-5.98,7.61-6.48l6.32-.71v-1c0-2.58-1.58-3.82-3.99-3.82s-3.74,1.29-3.91,3.24h-5.11c.46-4.53,3.99-7.19,9.18-7.19,5.74,0,9.02,2.7,9.02,8.19v8.15c0,1.95.08,3.58.42,5.28h-5.11c-.21-1.16-.29-2.29-.29-3.32h0ZM85.73,27.58v-1.29l-4.7.54c-2.24.29-3.95.79-3.95,2.99,0,1.66,1.16,2.7,3.28,2.7,2.74,0,5.36-1.62,5.36-4.95h0Z\" />\n        <path d=\"M90.39,14.66h5.4l5.86,15.92h.08l5.57-15.92h5.28l-8.23,21.49c-2,5.28-4.45,7.32-8.89,7.36-.71,0-1.7-.08-2.45-.21v-4.03c.62.13.96.13,1.41.13,2.16,0,3.07-.75,4.2-3.66l-8.23-21.07h0Z\" />\n        <path d=\"M113.46,35.77V6.1h5.32v29.67h-5.32Z\" />\n        <path d=\"M130.79,36.27c-6.23,0-10.68-4.2-10.68-11.05s4.45-11.05,10.68-11.05,10.68,4.24,10.68,11.05-4.45,11.05-10.68,11.05ZM130.79,32.32c3.41,0,5.36-2.66,5.36-7.11s-1.95-7.11-5.36-7.11-5.36,2.7-5.36,7.11,1.91,7.11,5.36,7.11Z\" />\n        <path d=\"M156.19,32.45c-1,2.41-3.66,3.78-7.02,3.78-4.11,0-7.11-2.29-7.11-6.11,0-4.24,3.32-5.98,7.61-6.48l6.32-.71v-1c0-2.58-1.58-3.82-3.99-3.82s-3.74,1.29-3.91,3.24h-5.11c.46-4.53,3.99-7.19,9.19-7.19,5.74,0,9.02,2.7,9.02,8.19v8.15c0,1.95.08,3.58.42,5.28h-5.11c-.21-1.16-.29-2.29-.29-3.32h0ZM155.98,27.58v-1.29l-4.7.54c-2.24.29-3.95.79-3.95,2.99,0,1.66,1.16,2.7,3.28,2.7,2.74,0,5.36-1.62,5.36-4.95h0Z\" />\n        <path d=\"M178.5,32.41c-1.04,2.12-3.58,3.87-6.78,3.87-5.53,0-9.31-4.49-9.31-11.05s3.78-11.05,9.31-11.05c3.28,0,5.69,1.83,6.69,3.95V6.1h5.32v29.67h-5.24v-3.37h0ZM178.55,24.84c0-4.11-1.95-6.78-5.32-6.78s-5.45,2.83-5.45,7.15,2,7.15,5.45,7.15,5.32-2.66,5.32-6.78v-.75h0Z\" />\n      </g>\n    </g>\n  </svg>\n)\n","export function abortAndIgnore(abortController: AbortController) {\n  if (abortController) {\n    try {\n      abortController.abort()\n    } catch (_err) {\n      // swallow error\n    }\n  }\n}\n\n/**\n * Use this function when an effect is triggered multiple times over and you want to cancel the previous effect.\n * It will abort the previous effect and create a new AbortController for the next effect.\n * Important: You must also _reset_ the `abortControllerRef` after the effect is done, otherwise the next effect will be aborted immediately.\n * For example, run `abortControllerRef.current = null` in a `finally` block or after an awaited promise.\n * @param abortControllerRef\n * @returns {AbortController}\n */\nexport function handleAbortRef(\n  abortControllerRef: React.RefObject<AbortController>,\n): AbortController {\n  const newController = new AbortController()\n\n  if (abortControllerRef.current) {\n    try {\n      abortControllerRef.current.abort()\n    } catch (_err) {\n      // swallow error\n    }\n  }\n\n  abortControllerRef.current = newController\n\n  return newController\n}\n","import * as qs from 'qs-esm'\n\ntype GetOptions = {\n  params?: Record<string, unknown>\n} & RequestInit\n\nexport const requests = {\n  delete: (url: string, options: RequestInit = { headers: {} }): Promise<Response> => {\n    const headers = options && options.headers ? { ...options.headers } : {}\n\n    const formattedOptions: RequestInit = {\n      ...options,\n      credentials: 'include',\n      headers: {\n        ...headers,\n      },\n      method: 'delete',\n    }\n\n    return fetch(url, formattedOptions)\n  },\n\n  get: (url: string, options: GetOptions = { headers: {} }): Promise<Response> => {\n    let query = ''\n    if (options.params) {\n      query = qs.stringify(options.params, { addQueryPrefix: true })\n    }\n    return fetch(`${url}${query}`, {\n      credentials: 'include',\n      ...options,\n    })\n  },\n\n  patch: (url: string, options: RequestInit = { headers: {} }): Promise<Response> => {\n    const headers = options && options.headers ? { ...options.headers } : {}\n\n    const formattedOptions: RequestInit = {\n      ...options,\n      credentials: 'include',\n      headers: {\n        ...headers,\n      },\n      method: 'PATCH',\n    }\n\n    return fetch(url, formattedOptions)\n  },\n\n  post: (url: string, options: RequestInit = { headers: {} }): Promise<Response> => {\n    const headers = options && options.headers ? { ...options.headers } : {}\n\n    const formattedOptions: RequestInit = {\n      ...options,\n      credentials: 'include',\n      headers: {\n        ...headers,\n      },\n      method: 'post',\n    }\n\n    return fetch(`${url}`, formattedOptions)\n  },\n\n  put: (url: string, options: RequestInit = { headers: {} }): Promise<Response> => {\n    const headers = options && options.headers ? { ...options.headers } : {}\n\n    const formattedOptions: RequestInit = {\n      ...options,\n      credentials: 'include',\n      headers: {\n        ...headers,\n      },\n      method: 'put',\n    }\n\n    return fetch(url, formattedOptions)\n  },\n}\n","import type { Locale, SanitizedLocalizationConfig } from 'payload'\n/*\n return the Locale for given locale code, else return null\n*/\nexport const findLocaleFromCode = (\n  localizationConfig: SanitizedLocalizationConfig,\n  locale: string,\n): Locale | null => {\n  if (!localizationConfig?.locales || localizationConfig.locales.length === 0) {\n    return null\n  }\n\n  return localizationConfig.locales.find((el) => el?.code === locale)\n}\n","import type { Config } from 'payload'\n\n/** Will read the `routes.admin` config and appropriately handle `\"/\"` admin paths */\nexport const formatAdminURL = (args: {\n  adminRoute: Config['routes']['admin']\n  basePath?: string\n  path: string\n  serverURL?: Config['serverURL']\n}): string => {\n  const { adminRoute, basePath = '', path, serverURL } = args\n\n  if (adminRoute) {\n    if (adminRoute === '/') {\n      if (!path) {\n        return `${serverURL || ''}${basePath}${adminRoute}`\n      }\n    } else {\n      return `${serverURL || ''}${basePath}${adminRoute}${path}`\n    }\n  }\n\n  return `${serverURL || ''}${basePath}${path}`\n}\n","const offsetFormatCache = {};\nconst offsetCache = {};\n\n/**\n * The function extracts UTC offset in minutes from the given date in specified\n * time zone.\n *\n * Unlike `Date.prototype.getTimezoneOffset`, this function returns the value\n * mirrored to the sign of the offset in the time zone. For Asia/Singapore\n * (UTC+8), `tzOffset` returns 480, while `getTimezoneOffset` returns -480.\n *\n * @param timeZone - Time zone name (IANA or UTC offset)\n * @param date - Date to check the offset for\n *\n * @returns UTC offset in minutes\n */\nexport function tzOffset(timeZone, date) {\n  try {\n    const format = offsetFormatCache[timeZone] ||= new Intl.DateTimeFormat(\"en-GB\", {\n      timeZone,\n      hour: \"numeric\",\n      timeZoneName: \"longOffset\"\n    }).format;\n    const offsetStr = format(date).split('GMT')[1] || '';\n    if (offsetStr in offsetCache) return offsetCache[offsetStr];\n    return calcOffset(offsetStr, offsetStr.split(\":\"));\n  } catch {\n    // Fallback to manual parsing if the runtime doesn't support ±HH:MM/±HHMM/±HH\n    // See: https://github.com/nodejs/node/issues/53419\n    if (timeZone in offsetCache) return offsetCache[timeZone];\n    const captures = timeZone?.match(offsetRe);\n    if (captures) return calcOffset(timeZone, captures.slice(1));\n    return NaN;\n  }\n}\nconst offsetRe = /([+-]\\d\\d):?(\\d\\d)?/;\nfunction calcOffset(cacheStr, values) {\n  const hours = +values[0];\n  const minutes = +(values[1] || 0);\n  return offsetCache[cacheStr] = hours > 0 ? hours * 60 + minutes : hours * 60 - minutes;\n}","import { tzOffset } from \"../tzOffset/index.js\";\nexport class TZDateMini extends Date {\n  //#region static\n\n  constructor(...args) {\n    super();\n    if (args.length > 1 && typeof args[args.length - 1] === \"string\") {\n      this.timeZone = args.pop();\n    }\n    this.internal = new Date();\n    if (isNaN(tzOffset(this.timeZone, this))) {\n      this.setTime(NaN);\n    } else {\n      if (!args.length) {\n        this.setTime(Date.now());\n      } else if (typeof args[0] === \"number\" && (args.length === 1 || args.length === 2 && typeof args[1] !== \"number\")) {\n        this.setTime(args[0]);\n      } else if (typeof args[0] === \"string\") {\n        this.setTime(+new Date(args[0]));\n      } else if (args[0] instanceof Date) {\n        this.setTime(+args[0]);\n      } else {\n        this.setTime(+new Date(...args));\n        adjustToSystemTZ(this, NaN);\n        syncToInternal(this);\n      }\n    }\n  }\n  static tz(tz, ...args) {\n    return args.length ? new TZDateMini(...args, tz) : new TZDateMini(Date.now(), tz);\n  }\n\n  //#endregion\n\n  //#region time zone\n\n  withTimeZone(timeZone) {\n    return new TZDateMini(+this, timeZone);\n  }\n  getTimezoneOffset() {\n    return -tzOffset(this.timeZone, this);\n  }\n\n  //#endregion\n\n  //#region time\n\n  setTime(time) {\n    Date.prototype.setTime.apply(this, arguments);\n    syncToInternal(this);\n    return +this;\n  }\n\n  //#endregion\n\n  //#region date-fns integration\n\n  [Symbol.for(\"constructDateFrom\")](date) {\n    return new TZDateMini(+new Date(date), this.timeZone);\n  }\n\n  //#endregion\n}\n\n// Assign getters and setters\nconst re = /^(get|set)(?!UTC)/;\nObject.getOwnPropertyNames(Date.prototype).forEach(method => {\n  if (!re.test(method)) return;\n  const utcMethod = method.replace(re, \"$1UTC\");\n  // Filter out methods without UTC counterparts\n  if (!TZDateMini.prototype[utcMethod]) return;\n  if (method.startsWith(\"get\")) {\n    // Delegate to internal date's UTC method\n    TZDateMini.prototype[method] = function () {\n      return this.internal[utcMethod]();\n    };\n  } else {\n    // Assign regular setter\n    TZDateMini.prototype[method] = function () {\n      Date.prototype[utcMethod].apply(this.internal, arguments);\n      syncFromInternal(this);\n      return +this;\n    };\n\n    // Assign UTC setter\n    TZDateMini.prototype[utcMethod] = function () {\n      Date.prototype[utcMethod].apply(this, arguments);\n      syncToInternal(this);\n      return +this;\n    };\n  }\n});\n\n/**\n * Function syncs time to internal date, applying the time zone offset.\n *\n * @param {Date} date - Date to sync\n */\nfunction syncToInternal(date) {\n  date.internal.setTime(+date);\n  date.internal.setUTCMinutes(date.internal.getUTCMinutes() - date.getTimezoneOffset());\n}\n\n/**\n * Function syncs the internal date UTC values to the date. It allows to get\n * accurate timestamp value.\n *\n * @param {Date} date - The date to sync\n */\nfunction syncFromInternal(date) {\n  // First we transpose the internal values\n  Date.prototype.setFullYear.call(date, date.internal.getUTCFullYear(), date.internal.getUTCMonth(), date.internal.getUTCDate());\n  Date.prototype.setHours.call(date, date.internal.getUTCHours(), date.internal.getUTCMinutes(), date.internal.getUTCSeconds(), date.internal.getUTCMilliseconds());\n\n  // Now we have to adjust the date to the system time zone\n  adjustToSystemTZ(date);\n}\n\n/**\n * Function adjusts the date to the system time zone. It uses the time zone\n * differences to calculate the offset and adjust the date.\n *\n * @param {Date} date - Date to adjust\n */\nfunction adjustToSystemTZ(date) {\n  // Save the time zone offset before all the adjustments\n  const offset = tzOffset(date.timeZone, date);\n\n  //#region System DST adjustment\n\n  // The biggest problem with using the system time zone is that when we create\n  // a date from internal values stored in UTC, the system time zone might end\n  // up on the DST hour:\n  //\n  //   $ TZ=America/New_York node\n  //   > new Date(2020, 2, 8, 1).toString()\n  //   'Sun Mar 08 2020 01:00:00 GMT-0500 (Eastern Standard Time)'\n  //   > new Date(2020, 2, 8, 2).toString()\n  //   'Sun Mar 08 2020 03:00:00 GMT-0400 (Eastern Daylight Time)'\n  //   > new Date(2020, 2, 8, 3).toString()\n  //   'Sun Mar 08 2020 03:00:00 GMT-0400 (Eastern Daylight Time)'\n  //   > new Date(2020, 2, 8, 4).toString()\n  //   'Sun Mar 08 2020 04:00:00 GMT-0400 (Eastern Daylight Time)'\n  //\n  // Here we get the same hour for both 2 and 3, because the system time zone\n  // has DST beginning at 8 March 2020, 2 a.m. and jumps to 3 a.m. So we have\n  // to adjust the internal date to reflect that.\n  //\n  // However we want to adjust only if that's the DST hour the change happenes,\n  // not the hour where DST moves to.\n\n  // We calculate the previous hour to see if the time zone offset has changed\n  // and we have landed on the DST hour.\n  const prevHour = new Date(+date);\n  // We use UTC methods here as we don't want to land on the same hour again\n  // in case of DST.\n  prevHour.setUTCHours(prevHour.getUTCHours() - 1);\n\n  // Calculate if we are on the system DST hour.\n  const systemOffset = -new Date(+date).getTimezoneOffset();\n  const prevHourSystemOffset = -new Date(+prevHour).getTimezoneOffset();\n  const systemDSTChange = systemOffset - prevHourSystemOffset;\n  // Detect the DST shift. System DST change will occur both on\n  const dstShift = Date.prototype.getHours.apply(date) !== date.internal.getUTCHours();\n\n  // Move the internal date when we are on the system DST hour.\n  if (systemDSTChange && dstShift) date.internal.setUTCMinutes(date.internal.getUTCMinutes() + systemDSTChange);\n\n  //#endregion\n\n  //#region System diff adjustment\n\n  // Now we need to adjust the date, since we just applied internal values.\n  // We need to calculate the difference between the system and date time zones\n  // and apply it to the date.\n\n  const offsetDiff = systemOffset - offset;\n  if (offsetDiff) Date.prototype.setUTCMinutes.call(date, Date.prototype.getUTCMinutes.call(date) + offsetDiff);\n\n  //#endregion\n\n  //#region Post-adjustment DST fix\n\n  const postOffset = tzOffset(date.timeZone, date);\n  const postSystemOffset = -new Date(+date).getTimezoneOffset();\n  const postOffsetDiff = postSystemOffset - postOffset;\n  const offsetChanged = postOffset !== offset;\n  const postDiff = postOffsetDiff - offsetDiff;\n  if (offsetChanged && postDiff) {\n    Date.prototype.setUTCMinutes.call(date, Date.prototype.getUTCMinutes.call(date) + postDiff);\n\n    // Now we need to check if got offset change during the post-adjustment.\n    // If so, we also need both dates to reflect that.\n\n    const newOffset = tzOffset(date.timeZone, date);\n    const offsetChange = postOffset - newOffset;\n    if (offsetChange) {\n      date.internal.setUTCMinutes(date.internal.getUTCMinutes() + offsetChange);\n      Date.prototype.setUTCMinutes.call(date, Date.prototype.getUTCMinutes.call(date) + offsetChange);\n    }\n  }\n\n  //#endregion\n}","import type { I18n } from '@payloadcms/translations'\n\nimport { TZDateMini as TZDate } from '@date-fns/tz/date/mini'\nimport { format, formatDistanceToNow, transpose } from 'date-fns'\n\ntype FormatDateArgs = {\n  date: Date | number | string | undefined\n  i18n: I18n<any, any>\n  pattern: string\n  timezone?: string\n}\n\nexport const formatDate = ({ date, i18n, pattern, timezone }: FormatDateArgs): string => {\n  const theDate = new TZDate(new Date(date))\n\n  if (timezone) {\n    const DateWithOriginalTz = TZDate.tz(timezone)\n\n    const modifiedDate = theDate.withTimeZone(timezone)\n\n    // Transpose the date to the selected timezone\n    const dateWithTimezone = transpose(modifiedDate, DateWithOriginalTz)\n\n    // Transpose the date to the user's timezone - this is necessary because the react-datepicker component insists on displaying the date in the user's timezone\n    return i18n.dateFNS\n      ? format(dateWithTimezone, pattern, { locale: i18n.dateFNS })\n      : `${i18n.t('general:loading')}...`\n  }\n\n  return i18n.dateFNS\n    ? format(theDate, pattern, { locale: i18n.dateFNS })\n    : `${i18n.t('general:loading')}...`\n}\n\ntype FormatTimeToNowArgs = {\n  date: Date | number | string | undefined\n  i18n: I18n<any, any>\n}\n\nexport const formatTimeToNow = ({ date, i18n }: FormatTimeToNowArgs): string => {\n  const theDate = new Date(date)\n  return i18n?.dateFNS\n    ? formatDistanceToNow(theDate, { locale: i18n.dateFNS })\n    : `${i18n.t('general:loading')}...`\n}\n","import type { I18n } from '@payloadcms/translations'\nimport type {\n  ClientCollectionConfig,\n  ClientGlobalConfig,\n  SanitizedConfig,\n  TypeWithID,\n} from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\n\nimport { formatDate } from '../utilities/formatDate.js'\n\nexport const formatDocTitle = ({\n  collectionConfig,\n  data,\n  dateFormat: dateFormatFromConfig,\n  fallback,\n  globalConfig,\n  i18n,\n}: {\n  collectionConfig?: ClientCollectionConfig\n  data: TypeWithID\n  dateFormat: SanitizedConfig['admin']['dateFormat']\n  fallback?: string\n  globalConfig?: ClientGlobalConfig\n  i18n: I18n<any, any>\n}): string => {\n  let title: string\n\n  if (collectionConfig) {\n    const useAsTitle = collectionConfig?.admin?.useAsTitle\n\n    if (useAsTitle) {\n      title = data?.[useAsTitle] || title\n\n      if (title) {\n        const fieldConfig = collectionConfig.fields.find(\n          (f) => 'name' in f && f.name === useAsTitle,\n        )\n\n        const isDate = fieldConfig?.type === 'date'\n\n        if (isDate) {\n          const dateFormat =\n            ('date' in fieldConfig.admin && fieldConfig?.admin?.date?.displayFormat) ||\n            dateFormatFromConfig\n          title = formatDate({ date: title, i18n, pattern: dateFormat }) || title\n        }\n      }\n    }\n  }\n\n  if (globalConfig) {\n    title = getTranslation(globalConfig?.label, i18n) || globalConfig?.slug\n  }\n\n  if (!title) {\n    title = fallback || `[${i18n.t('general:untitled')}]`\n  }\n\n  return title\n}\n","import type { I18nClient } from '@payloadcms/translations'\nimport type {\n  SanitizedCollectionConfig,\n  SanitizedGlobalConfig,\n  SanitizedPermissions,\n  StaticLabel,\n} from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\n\nexport enum EntityType {\n  collection = 'collections',\n  global = 'globals',\n}\n\nexport type EntityToGroup =\n  | {\n      entity: SanitizedCollectionConfig\n      type: EntityType.collection\n    }\n  | {\n      entity: SanitizedGlobalConfig\n      type: EntityType.global\n    }\n\nexport type NavGroupType = {\n  entities: {\n    label: StaticLabel\n    slug: string\n    type: EntityType\n  }[]\n  label: string\n}\n\nexport function groupNavItems(\n  entities: EntityToGroup[],\n  permissions: SanitizedPermissions,\n  i18n: I18nClient,\n): NavGroupType[] {\n  const result = entities.reduce(\n    (groups, entityToGroup) => {\n      // Skip entities where admin.group is explicitly false\n      if (entityToGroup.entity?.admin?.group === false) {\n        return groups\n      }\n\n      if (permissions?.[entityToGroup.type.toLowerCase()]?.[entityToGroup.entity.slug]?.read) {\n        const translatedGroup = getTranslation(entityToGroup.entity.admin.group, i18n)\n\n        const labelOrFunction =\n          'labels' in entityToGroup.entity\n            ? entityToGroup.entity.labels.plural\n            : entityToGroup.entity.label\n\n        const label =\n          typeof labelOrFunction === 'function' ? labelOrFunction({ t: i18n.t }) : labelOrFunction\n\n        if (entityToGroup.entity.admin.group) {\n          const existingGroup = groups.find(\n            (group) => getTranslation(group.label, i18n) === translatedGroup,\n          ) as NavGroupType\n\n          let matchedGroup: NavGroupType = existingGroup\n\n          if (!existingGroup) {\n            matchedGroup = { entities: [], label: translatedGroup }\n            groups.push(matchedGroup)\n          }\n\n          matchedGroup.entities.push({\n            slug: entityToGroup.entity.slug,\n            type: entityToGroup.type,\n            label,\n          })\n        } else {\n          const defaultGroup = groups.find((group) => {\n            return getTranslation(group.label, i18n) === i18n.t(`general:${entityToGroup.type}`)\n          }) as NavGroupType\n          defaultGroup.entities.push({\n            slug: entityToGroup.entity.slug,\n            type: entityToGroup.type,\n            label,\n          })\n        }\n      }\n\n      return groups\n    },\n    [\n      {\n        entities: [],\n        label: i18n.t('general:collections'),\n      },\n      {\n        entities: [],\n        label: i18n.t('general:globals'),\n      },\n    ],\n  )\n\n  return result.filter((group) => group.entities.length > 0)\n}\n","import type { AppRouterInstance } from 'next/dist/shared/lib/app-router-context.shared-runtime.js'\n\nimport { formatAdminURL } from './formatAdminURL.js'\n\ntype BackToDashboardProps = {\n  adminRoute: string\n  router: AppRouterInstance\n}\n\nexport const handleBackToDashboard = ({ adminRoute, router }: BackToDashboardProps) => {\n  const redirectRoute = formatAdminURL({\n    adminRoute,\n    path: '/',\n  })\n  router.push(redirectRoute)\n}\n","import type { AppRouterInstance } from 'next/dist/shared/lib/app-router-context.shared-runtime.js'\n\nimport { formatAdminURL } from './formatAdminURL.js'\n\ntype GoBackProps = {\n  adminRoute: string\n  collectionSlug: string\n  router: AppRouterInstance\n}\n\nexport const handleGoBack = ({ adminRoute, collectionSlug, router }: GoBackProps) => {\n  const redirectRoute = formatAdminURL({\n    adminRoute,\n    path: collectionSlug ? `/collections/${collectionSlug}` : '/',\n  })\n  router.push(redirectRoute)\n}\n","import type { ClientUser } from 'payload'\n\nexport const handleTakeOver = (\n  id: number | string,\n  collectionSlug: string,\n  globalSlug: string,\n  user: ClientUser | number | string,\n  isWithinDoc: boolean,\n  updateDocumentEditor: (\n    docID: number | string,\n    slug: string,\n    user: ClientUser | number | string,\n  ) => Promise<void>,\n  setCurrentEditor: (value: React.SetStateAction<ClientUser | number | string>) => void,\n  documentLockStateRef: React.RefObject<{\n    hasShownLockedModal: boolean\n    isLocked: boolean\n    user: ClientUser | number | string\n  }>,\n  isLockingEnabled: boolean,\n  setIsReadOnlyForIncomingUser?: (value: React.SetStateAction<boolean>) => void,\n): void => {\n  if (!isLockingEnabled) {\n    return\n  }\n\n  try {\n    // Call updateDocumentEditor to update the document's owner to the current user\n    void updateDocumentEditor(id, collectionSlug ?? globalSlug, user)\n\n    if (!isWithinDoc) {\n      documentLockStateRef.current.hasShownLockedModal = true\n    }\n\n    // Update the locked state to reflect the current user as the owner\n    documentLockStateRef.current = {\n      hasShownLockedModal: documentLockStateRef.current?.hasShownLockedModal,\n      isLocked: true,\n      user,\n    }\n    setCurrentEditor(user)\n\n    // If this is a takeover within the document, ensure the document is editable\n    if (isWithinDoc && setIsReadOnlyForIncomingUser) {\n      setIsReadOnlyForIncomingUser(false)\n    }\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.error('Error during document takeover:', error)\n  }\n}\n","import type {\n  SanitizedCollectionPermission,\n  SanitizedDocumentPermissions,\n  SanitizedGlobalPermission,\n} from 'payload'\n\nexport const hasSavePermission = (args: {\n  /*\n   * Pass either `collectionSlug` or `globalSlug`\n   */\n  collectionSlug?: string\n  docPermissions: SanitizedDocumentPermissions\n  /*\n   * Pass either `collectionSlug` or `globalSlug`\n   */\n  globalSlug?: string\n  isEditing: boolean\n}) => {\n  const { collectionSlug, docPermissions, globalSlug, isEditing } = args\n\n  if (collectionSlug) {\n    return Boolean(\n      (isEditing && docPermissions?.update) ||\n        (!isEditing && (docPermissions as SanitizedCollectionPermission)?.create),\n    )\n  }\n\n  if (globalSlug) {\n    return Boolean((docPermissions as SanitizedGlobalPermission)?.update)\n  }\n\n  return false\n}\n","import type { ClientUser } from 'payload'\n\nexport const isClientUserObject = (user): user is ClientUser => {\n  return user && typeof user === 'object'\n}\n","export const isEditing = ({\n  id,\n  collectionSlug,\n  globalSlug,\n}: {\n  collectionSlug?: string\n  globalSlug?: string\n  id?: number | string\n}): boolean => Boolean(globalSlug || (collectionSlug && !!id))\n","import type { ClientCollectionConfig, SanitizedCollectionConfig, Where } from 'payload'\n\nconst isEmptyObject = (obj: object) => Object.keys(obj).length === 0\n\nexport const hoistQueryParamsToAnd = (currentWhere: Where, incomingWhere: Where) => {\n  if (isEmptyObject(incomingWhere)) {\n    return currentWhere\n  }\n\n  if (isEmptyObject(currentWhere)) {\n    return incomingWhere\n  }\n\n  if ('and' in currentWhere) {\n    currentWhere.and.push(incomingWhere)\n  } else if ('or' in currentWhere) {\n    currentWhere = {\n      and: [currentWhere, incomingWhere],\n    }\n  } else {\n    currentWhere = {\n      and: [currentWhere, incomingWhere],\n    }\n  }\n\n  return currentWhere\n}\n\ntype Args = {\n  collectionConfig: ClientCollectionConfig | SanitizedCollectionConfig\n  search: string\n  where?: Where\n}\n\nexport const mergeListSearchAndWhere = ({ collectionConfig, search, where = {} }: Args): Where => {\n  if (search) {\n    let copyOfWhere = { ...(where || {}) }\n\n    const searchAsConditions = (\n      collectionConfig.admin.listSearchableFields || [collectionConfig.admin?.useAsTitle || 'id']\n    ).map((fieldName) => ({\n      [fieldName]: {\n        like: search,\n      },\n    }))\n\n    if (searchAsConditions.length > 0) {\n      copyOfWhere = hoistQueryParamsToAnd(copyOfWhere, {\n        or: searchAsConditions,\n      })\n    }\n\n    if (!isEmptyObject(copyOfWhere)) {\n      where = copyOfWhere\n    }\n  }\n\n  return where\n}\n","export function sanitizeID(id: number | string): number | string {\n  if (id === undefined) {\n    return id\n  }\n\n  if (typeof id === 'number') {\n    return id\n  }\n\n  return decodeURIComponent(id)\n}\n"],"names":["fieldIsHiddenOrDisabled","fieldIsID","filterFields","incomingFields","shouldSkipField","field","acc","formattedField","tab","tabField","fieldAffectsData","getRemainingColumns","fields","useAsTitle","remaining","field","tabFieldColumns","tab","getInitialColumns","defaultColumns","initialColumns","remainingColumns","column","React","RecursiveTranslation","elements","translationString","regex","sections","section","index","elementKey","Element","children","_","group","Translation","i18nKey","t","variables","stringWithVariables","isReactServerComponentOrFunction","serverProps","React","withMergedProps","Component","sanitizeServerOnlyProps","toMergeIntoProps","passedProps","mergedProps","simpleMergeProps","prop","props","toMerge","isReactServerComponentOrFunction","React","WithServerSideProps","Component","serverOnlyProps","rest","passedProps","propsWithServerOnlyProps","mergeFieldStyles","field","blacklistedKeys","sanitizeField","incomingField","field","key","reduceToSerializableFields","fields","result","React","PayloadIcon","fillFromProps","fill","React","css","PayloadLogo","abortAndIgnore","abortController","handleAbortRef","abortControllerRef","newController","qs","requests","url","options","headers","formattedOptions","query","findLocaleFromCode","localizationConfig","locale","el","formatAdminURL","args","adminRoute","basePath","path","serverURL","offsetFormatCache","offsetCache","tzOffset","timeZone","date","offsetStr","calcOffset","captures","offsetRe","cacheStr","values","hours","minutes","TZDateMini","_TZDateMini","args","tzOffset","adjustToSystemTZ","syncToInternal","tz","timeZone","time","date","re","method","utcMethod","syncFromInternal","offset","prevHour","systemOffset","prevHourSystemOffset","systemDSTChange","dstShift","offsetDiff","postOffset","postOffsetDiff","offsetChanged","postDiff","newOffset","offsetChange","format","formatDistanceToNow","transpose","formatDate","date","i18n","pattern","timezone","theDate","TZDateMini","DateWithOriginalTz","modifiedDate","dateWithTimezone","getTranslation","formatDocTitle","collectionConfig","data","dateFormatFromConfig","fallback","globalConfig","i18n","title","useAsTitle","fieldConfig","f","dateFormat","formatDate","getTranslation","getTranslation","EntityType","groupNavItems","entities","permissions","i18n","groups","entityToGroup","translatedGroup","labelOrFunction","label","existingGroup","group","matchedGroup","handleBackToDashboard","adminRoute","router","redirectRoute","formatAdminURL","handleGoBack","adminRoute","collectionSlug","router","redirectRoute","formatAdminURL","handleTakeOver","id","collectionSlug","globalSlug","user","isWithinDoc","updateDocumentEditor","setCurrentEditor","documentLockStateRef","isLockingEnabled","setIsReadOnlyForIncomingUser","error","hasSavePermission","args","collectionSlug","docPermissions","globalSlug","isEditing","isClientUserObject","user","isEditing","id","collectionSlug","globalSlug","isEmptyObject","obj","hoistQueryParamsToAnd","currentWhere","incomingWhere","mergeListSearchAndWhere","collectionConfig","search","where","copyOfWhere","searchAsConditions","fieldName","sanitizeID","id"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]}},
    {"offset": {"line": 1657, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}