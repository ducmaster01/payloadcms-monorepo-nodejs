{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"file":"getNavPrefs.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/elements/Nav/getNavPrefs.ts"],"sourcesContent":["import type { NavPreferences, Payload, User } from 'payload'\n\nimport { cache } from 'react'\n\nexport const getNavPrefs = cache(\n  async ({ payload, user }: { payload: Payload; user: User }): Promise<NavPreferences> =>\n    user\n      ? await payload\n          .find({\n            collection: 'payload-preferences',\n            depth: 0,\n            limit: 1,\n            user,\n            where: {\n              and: [\n                {\n                  key: {\n                    equals: 'nav',\n                  },\n                },\n                {\n                  'user.relationTo': {\n                    equals: user.collection,\n                  },\n                },\n                {\n                  'user.value': {\n                    equals: user.id,\n                  },\n                },\n              ],\n            },\n          })\n          ?.then((res) => res?.docs?.[0]?.value)\n      : null,\n)\n"],"names":["cache","getNavPrefs","payload","user","find","collection","depth","limit","where","and","key","equals","id","then","res","docs","value"],"mappings":";;;AAEA,SAASA,KAAK,QAAQ;;AAEf,MAAMC,WAAA,iWAAcD,QAAAA,AAAA,EACzB,OAAO,EAAEE,OAAO,EAAEC,IAAAA,EAAwC,GACxDA,IAAA,GACI,MAAMD,OAAA,CACHE,IAAI,CAAC;QACJC,UAAA,EAAY;QACZC,KAAA,EAAO;QACPC,KAAA,EAAO;QACPJ,IAAA;QACAK,KAAA,EAAO;YACLC,GAAA,EAAK;gBACH;oBACEC,GAAA,EAAK;wBACHC,MAAA,EAAQ;oBACV;gBACF;gBACA;oBACE,mBAAmB;wBACjBA,MAAA,EAAQR,IAAA,CAAKE,UAAAA;oBACf;gBACF;gBACA;oBACE,cAAc;wBACZM,MAAA,EAAQR,IAAA,CAAKS,EAAAA;oBACf;gBACF;aAAA;QAEJ;IACF,IACEC,IAAA,EAAMC,GAAA,GAAQA,GAAA,EAAKC,IAAA,EAAA,CAAO,EAAE,EAAEC,KAAA,IAClC","ignoreList":[0]}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"file":"getPreferences.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/utilities/getPreferences.ts"],"sourcesContent":["import type { Payload, User } from 'payload'\n\nimport { cache } from 'react'\n\nexport const getPreferences = cache(\n  async <T>(key: string, payload: Payload, user: User): Promise<T> => {\n    let result: T = null\n\n    try {\n      result = await payload\n        .find({\n          collection: 'payload-preferences',\n          depth: 0,\n          limit: 1,\n          user,\n          where: {\n            and: [\n              {\n                'user.relationTo': {\n                  equals: payload.config.admin.user,\n                },\n              },\n              {\n                'user.value': {\n                  equals: user.id,\n                },\n              },\n              {\n                key: {\n                  equals: key,\n                },\n              },\n            ],\n          },\n        })\n        ?.then((res) => res.docs?.[0]?.value as T)\n    } catch (_err) {} // eslint-disable-line no-empty\n\n    return result\n  },\n)\n"],"names":["cache","getPreferences","key","payload","user","result","find","collection","depth","limit","where","and","equals","config","admin","id","then","res","docs","value","_err"],"mappings":";;;AAEA,SAASA,KAAK,QAAQ;;AAEf,MAAMC,cAAA,iWAAiBD,QAAAA,AAAA,EAC5B,OAAUE,GAAA,EAAaC,OAAA,EAAkBC,IAAA;IACvC,IAAIC,MAAA,GAAY;IAEhB,IAAI;QACFA,MAAA,GAAS,MAAMF,OAAA,CACZG,IAAI,CAAC;YACJC,UAAA,EAAY;YACZC,KAAA,EAAO;YACPC,KAAA,EAAO;YACPL,IAAA;YACAM,KAAA,EAAO;gBACLC,GAAA,EAAK;oBACH;wBACE,mBAAmB;4BACjBC,MAAA,EAAQT,OAAA,CAAQU,MAAM,CAACC,KAAK,CAACV,IAAAA;wBAC/B;oBACF;oBACA;wBACE,cAAc;4BACZQ,MAAA,EAAQR,IAAA,CAAKW,EAAAA;wBACf;oBACF;oBACA;wBACEb,GAAA,EAAK;4BACHU,MAAA,EAAQV;wBACV;oBACF;iBAAA;YAEJ;QACF,IACEc,IAAA,EAAMC,GAAA,GAAQA,GAAA,CAAIC,IAAI,EAAA,CAAG,EAAE,EAAEC,KAAA;IACnC,EAAE,OAAOC,IAAA,EAAM,CAAC,EAAE,+BAAA;IAElB,OAAOf,MAAA;AACT","ignoreList":[0]}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"file":"getRequestLocale.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/utilities/getRequestLocale.ts"],"sourcesContent":["import type { Locale, PayloadRequest } from 'payload'\n\nimport { upsertPreferences } from '@payloadcms/ui/rsc'\nimport { findLocaleFromCode } from '@payloadcms/ui/shared'\n\nimport { getPreferences } from './getPreferences.js'\n\ntype GetRequestLocalesArgs = {\n  req: PayloadRequest\n}\n\nexport async function getRequestLocale({ req }: GetRequestLocalesArgs): Promise<Locale> {\n  if (req.payload.config.localization) {\n    const localeFromParams = req.query.locale as string | undefined\n\n    if (localeFromParams) {\n      await upsertPreferences<Locale['code']>({ key: 'locale', req, value: localeFromParams })\n    }\n\n    return (\n      findLocaleFromCode(\n        req.payload.config.localization,\n        localeFromParams || (await getPreferences<Locale['code']>('locale', req.payload, req.user)),\n      ) ||\n      findLocaleFromCode(\n        req.payload.config.localization,\n        req.payload.config.localization.defaultLocale || 'en',\n      )\n    )\n  }\n\n  return undefined\n}\n"],"names":["upsertPreferences","findLocaleFromCode","getPreferences","getRequestLocale","req","payload","config","localization","localeFromParams","query","locale","key","value","user","defaultLocale","undefined"],"mappings":";;;AAKA,SAASE,cAAc,QAAQ;AAH/B,SAASF,iBAAiB,QAAQ;AAClC,SAASC,kBAAkB,QAAQ;;;;AAQ5B,eAAeE,iBAAiB,EAAEC,GAAAA,EAA4B;IACnE,IAAIA,GAAA,CAAIC,OAAO,CAACC,MAAM,CAACC,YAAY,EAAE;QACnC,MAAMC,gBAAA,GAAmBJ,GAAA,CAAIK,KAAK,CAACC,MAAM;QAEzC,IAAIF,gBAAA,EAAkB;YACpB,OAAMR,uZAAAA,AAAA,EAAkC;gBAAEW,GAAA,EAAK;gBAAUP,GAAA;gBAAKQ,KAAA,EAAOJ;YAAiB;QACxF;QAEA,uYACEP,qBAAAA,AAAA,EACEG,GAAA,CAAIC,OAAO,CAACC,MAAM,CAACC,YAAY,EAC/BC,gBAAA,IAAqB,yYAAMN,iBAAAA,AAAA,EAA+B,UAAUE,GAAA,CAAIC,OAAO,EAAED,GAAA,CAAIS,IAAI,sYAE3FZ,qBAAAA,AAAA,EACEG,GAAA,CAAIC,OAAO,CAACC,MAAM,CAACC,YAAY,EAC/BH,GAAA,CAAIC,OAAO,CAACC,MAAM,CAACC,YAAY,CAACO,aAAa,IAAI;IAGvD;IAEA,OAAOC,SAAA;AACT","ignoreList":[0]}},
    {"offset": {"line": 108, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 114, "column": 0}, "map": {"version":3,"file":"getRequestTheme.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/utilities/getRequestTheme.ts"],"sourcesContent":["import type { ReadonlyRequestCookies } from 'next/dist/server/web/spec-extension/adapters/request-cookies.js'\nimport type { SanitizedConfig } from 'payload'\n\nimport { defaultTheme, type Theme } from '@payloadcms/ui'\n\ntype GetRequestLanguageArgs = {\n  config: SanitizedConfig\n  cookies: Map<string, string> | ReadonlyRequestCookies\n  headers: Request['headers']\n}\n\nconst acceptedThemes: Theme[] = ['dark', 'light']\n\nexport const getRequestTheme = ({ config, cookies, headers }: GetRequestLanguageArgs): Theme => {\n  if (config.admin.theme !== 'all' && acceptedThemes.includes(config.admin.theme)) {\n    return config.admin.theme\n  }\n\n  const themeCookie = cookies.get(`${config.cookiePrefix || 'payload'}-theme`)\n\n  const themeFromCookie: Theme = (\n    typeof themeCookie === 'string' ? themeCookie : themeCookie?.value\n  ) as Theme\n\n  if (themeFromCookie && acceptedThemes.includes(themeFromCookie)) {\n    return themeFromCookie\n  }\n\n  const themeFromHeader = headers.get('Sec-CH-Prefers-Color-Scheme') as Theme\n\n  if (themeFromHeader && acceptedThemes.includes(themeFromHeader)) {\n    return themeFromHeader\n  }\n\n  return defaultTheme\n}\n"],"names":["defaultTheme","acceptedThemes","getRequestTheme","config","cookies","headers","admin","theme","includes","themeCookie","get","cookiePrefix","themeFromCookie","value","themeFromHeader"],"mappings":";;;AAGA,SAASA,YAAY,QAAoB;;AAQzC,MAAMC,cAAA,GAA0B;IAAC;IAAQ;CAAQ;AAE1C,MAAMC,eAAA,GAAkBA,CAAC,EAAEC,MAAM,EAAEC,OAAO,EAAEC,OAAAA,EAAiC;IAClF,IAAIF,MAAA,CAAOG,KAAK,CAACC,KAAK,KAAK,SAASN,cAAA,CAAeO,QAAQ,CAACL,MAAA,CAAOG,KAAK,CAACC,KAAK,GAAG;QAC/E,OAAOJ,MAAA,CAAOG,KAAK,CAACC,KAAK;IAC3B;IAEA,MAAME,WAAA,GAAcL,OAAA,CAAQM,GAAG,CAAC,GAAGP,MAAA,CAAOQ,YAAY,IAAI,UAAA,MAAA,CAAiB;IAE3E,MAAMC,eAAA,GACJ,OAAOH,WAAA,KAAgB,WAAWA,WAAA,GAAcA,WAAA,EAAaI,KAAA;IAG/D,IAAID,eAAA,IAAmBX,cAAA,CAAeO,QAAQ,CAACI,eAAA,GAAkB;QAC/D,OAAOA,eAAA;IACT;IAEA,MAAME,eAAA,GAAkBT,OAAA,CAAQK,GAAG,CAAC;IAEpC,IAAII,eAAA,IAAmBb,cAAA,CAAeO,QAAQ,CAACM,eAAA,GAAkB;QAC/D,OAAOA,eAAA;IACT;IAEA,mYAAOd,eAAA;AACT","ignoreList":[0]}},
    {"offset": {"line": 138, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 144, "column": 0}, "map": {"version":3,"file":"initReq.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/utilities/initReq.ts"],"sourcesContent":["import type { I18n, I18nClient } from '@payloadcms/translations'\nimport type { Locale, PayloadRequest, SanitizedConfig, SanitizedPermissions } from 'payload'\n\nimport { initI18n } from '@payloadcms/translations'\nimport { headers as getHeaders } from 'next/headers.js'\nimport {\n  createLocalReq,\n  executeAuthStrategies,\n  getAccessResults,\n  getPayload,\n  getRequestLanguage,\n  parseCookies,\n} from 'payload'\nimport { cache } from 'react'\n\nimport { getRequestLocale } from './getRequestLocale.js'\n\ntype Result = {\n  locale?: Locale\n  permissions: SanitizedPermissions\n  req: PayloadRequest\n}\n\nexport const initReq = cache(async function (\n  configPromise: Promise<SanitizedConfig> | SanitizedConfig,\n  overrides?: Parameters<typeof createLocalReq>[0],\n): Promise<Result> {\n  const config = await configPromise\n  const payload = await getPayload({ config })\n\n  const headers = await getHeaders()\n  const cookies = parseCookies(headers)\n\n  const languageCode = getRequestLanguage({\n    config,\n    cookies,\n    headers,\n  })\n\n  const i18n: I18nClient = await initI18n({\n    config: config.i18n,\n    context: 'client',\n    language: languageCode,\n  })\n\n  /**\n   * Cannot simply call `payload.auth` here, as we need the user to get the locale, and we need the locale to get the access results\n   * I.e. the `payload.auth` function would call `getAccessResults` without a fully-formed `req` object\n   */\n  const { responseHeaders, user } = await executeAuthStrategies({\n    headers,\n    payload,\n  })\n\n  const { req: reqOverrides, ...optionsOverrides } = overrides || {}\n\n  const req = await createLocalReq(\n    {\n      req: {\n        headers,\n        host: headers.get('host'),\n        i18n: i18n as I18n,\n        responseHeaders,\n        url: `${payload.config.serverURL}`,\n        user,\n        ...(reqOverrides || {}),\n      },\n      ...(optionsOverrides || {}),\n    },\n    payload,\n  )\n\n  const locale = await getRequestLocale({\n    req,\n  })\n\n  req.locale = locale?.code\n\n  const permissions = await getAccessResults({\n    req,\n  })\n\n  return {\n    locale,\n    permissions,\n    req,\n  }\n})\n"],"names":["initI18n","headers","getHeaders","createLocalReq","executeAuthStrategies","getAccessResults","getPayload","getRequestLanguage","parseCookies","cache","getRequestLocale","initReq","configPromise","overrides","config","payload","cookies","languageCode","i18n","context","language","responseHeaders","user","req","reqOverrides","optionsOverrides","host","get","url","serverURL","locale","code","permissions"],"mappings":";;;AAGA,SAASA,QAAQ,QAAQ;AACzB,SAASC,OAAA,IAAWC,UAAU,QAAQ;AAStC,SAASO,KAAK,QAAQ;AAEtB,SAASC,gBAAgB,QAAQ;;;;;;;AAVjC,SACEP,cAAc,EACdC,qBAAqB,EACrBC,gBAAgB,EAChBC,UAAU,EACVC,kBAAkB,EAClBC,YAAY,QACP;;;;;;AAWA,MAAMG,OAAA,iWAAUF,QAAAA,AAAA,EAAM,eAC3BG,aAAyD,EACzDC,SAAgD;IAEhD,MAAMC,MAAA,GAAS,MAAMF,aAAA;IACrB,MAAMG,OAAA,GAAU,MAAMT,gYAAAA,AAAA,EAAW;QAAEQ;IAAO;IAE1C,MAAMb,OAAA,GAAU,8RAAMC,UAAA,AAAAA;IACtB,MAAMc,OAAA,gXAAUR,eAAAA,AAAA,EAAaP,OAAA;IAE7B,MAAMgB,YAAA,gYAAeV,qBAAAA,AAAA,EAAmB;QACtCO,MAAA;QACAE,OAAA;QACAf;IACF;IAEA,MAAMiB,IAAA,GAAmB,8PAAMlB,WAAAA,AAAA,EAAS;QACtCc,MAAA,EAAQA,MAAA,CAAOI,IAAI;QACnBC,OAAA,EAAS;QACTC,QAAA,EAAUH;IACZ;IAEA;;;KAIA,MAAM,EAAEI,eAAe,EAAEC,IAAAA,EAAM,GAAG,iYAAMlB,wBAAAA,AAAA,EAAsB;QAC5DH,OAAA;QACAc;IACF;IAEA,MAAM,EAAEQ,GAAA,EAAKC,YAAY,EAAE,GAAGC,kBAAkB,GAAGZ,SAAA,IAAa,CAAC;IAEjE,MAAMU,GAAA,GAAM,+XAAMpB,iBAAAA,AAAA,EAChB;QACEoB,GAAA,EAAK;YACHtB,OAAA;YACAyB,IAAA,EAAMzB,OAAA,CAAQ0B,GAAG,CAAC;YAClBT,IAAA,EAAMA,IAAA;YACNG,eAAA;YACAO,GAAA,EAAK,GAAGb,OAAA,CAAQD,MAAM,CAACe,SAAS,EAAE;YAClCP,IAAA;YACA,GAAIE,YAAA,IAAgB,CAAC,CAAC;QACxB;QACA,GAAIC,gBAAA,IAAoB,CAAC,CAAC;IAC5B,GACAV,OAAA;IAGF,MAAMe,MAAA,GAAS,2YAAMpB,mBAAAA,AAAA,EAAiB;QACpCa;IACF;IAEAA,GAAA,CAAIO,MAAM,GAAGA,MAAA,EAAQC,IAAA;IAErB,MAAMC,WAAA,GAAc,4XAAM3B,mBAAAA,AAAA,EAAiB;QACzCkB;IACF;IAEA,OAAO;QACLO,MAAA;QACAE,WAAA;QACAT;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 213, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 219, "column": 0}, "map": {"version":3,"file":"checkDependencies.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/layouts/Root/checkDependencies.ts"],"sourcesContent":["import { type CustomVersionParser, checkDependencies as payloadCheckDependencies } from 'payload'\n\nconst customReactVersionParser: CustomVersionParser = (version) => {\n  const [mainVersion, ...preReleases] = version.split('-')\n\n  if (preReleases?.length === 3) {\n    // Needs different handling, as it's in a format like 19.0.0-rc-06d0b89e-20240801 format\n    const date = preReleases[2]\n\n    const parts = mainVersion.split('.').map(Number)\n    return { parts, preReleases: [date] }\n  }\n\n  const parts = mainVersion.split('.').map(Number)\n  return { parts, preReleases }\n}\n\nlet checkedDependencies = false\n\nexport const checkDependencies = () => {\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    process.env.PAYLOAD_DISABLE_DEPENDENCY_CHECKER !== 'true' &&\n    !checkedDependencies\n  ) {\n    checkedDependencies = true\n\n    // First check if there are mismatching dependency versions of next / react packages\n    void payloadCheckDependencies({\n      dependencyGroups: [\n        {\n          name: 'react',\n          dependencies: ['react', 'react-dom'],\n          targetVersionDependency: 'react',\n        },\n      ],\n      dependencyVersions: {\n        next: {\n          required: false,\n          version: '>=15.0.0',\n        },\n        react: {\n          customVersionParser: customReactVersionParser,\n          required: false,\n          version: '>=19.0.0-rc-65a56d0e-20241020',\n        },\n        'react-dom': {\n          customVersionParser: customReactVersionParser,\n          required: false,\n          version: '>=19.0.0-rc-65a56d0e-20241020',\n        },\n      },\n    })\n  }\n}\n"],"names":["checkDependencies","payloadCheckDependencies","customReactVersionParser","version","mainVersion","preReleases","split","length","date","parts","map","Number","checkedDependencies","process","env","NODE_ENV","PAYLOAD_DISABLE_DEPENDENCY_CHECKER","dependencyGroups","name","dependencies","targetVersionDependency","dependencyVersions","next","required","react","customVersionParser"],"mappings":";;;AAAA,SAAmCA,iBAAA,IAAqBC,wBAAwB,QAAQ;;AAExF,MAAMC,wBAAA,IAAiDC,OAAA;IACrD,MAAM,CAACC,WAAA,EAAa,GAAGC,WAAA,CAAY,GAAGF,OAAA,CAAQG,KAAK,CAAC;IAEpD,IAAID,WAAA,EAAaE,MAAA,KAAW,GAAG;QAC7B,wFAAA;QACA,MAAMC,IAAA,GAAOH,WAAW,CAAC,EAAE;QAE3B,MAAMI,KAAA,GAAQL,WAAA,CAAYE,KAAK,CAAC,KAAKI,GAAG,CAACC,MAAA;QACzC,OAAO;YAAEF,KAAA;YAAOJ,WAAA,EAAa;gBAACG,IAAA;aAAA;QAAM;IACtC;IAEA,MAAMC,KAAA,GAAQL,WAAA,CAAYE,KAAK,CAAC,KAAKI,GAAG,CAACC,MAAA;IACzC,OAAO;QAAEF,KAAA;QAAOJ;IAAY;AAC9B;AAEA,IAAIO,mBAAA,GAAsB;AAEnB,MAAMZ,iBAAA,GAAoBA,CAAA;IAC/B,IACEa,OAAA,CAAQC,GAAG,CAACC,QAAQ,gCAAK,gBACzBF,OAAA,CAAQC,GAAG,CAACE,kCAAkC,KAAK,UACnD,CAACJ,mBAAA,EACD;QACAA,mBAAA,GAAsB;QAEtB,oFAAA;QACA,iZAAKX,oBAAAA,AAAA,EAAyB;YAC5BgB,gBAAA,EAAkB;gBAChB;oBACEC,IAAA,EAAM;oBACNC,YAAA,EAAc;wBAAC;wBAAS;qBAAY;oBACpCC,uBAAA,EAAyB;gBAC3B;aACD;YACDC,kBAAA,EAAoB;gBAClBC,IAAA,EAAM;oBACJC,QAAA,EAAU;oBACVpB,OAAA,EAAS;gBACX;gBACAqB,KAAA,EAAO;oBACLC,mBAAA,EAAqBvB,wBAAA;oBACrBqB,QAAA,EAAU;oBACVpB,OAAA,EAAS;gBACX;gBACA,aAAa;oBACXsB,mBAAA,EAAqBvB,wBAAA;oBACrBqB,QAAA,EAAU;oBACVpB,OAAA,EAAS;gBACX;YACF;QACF;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 278, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 284, "column": 0}, "map": {"version":3,"file":"NestProviders.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/layouts/Root/NestProviders.tsx"],"sourcesContent":["import type { Config, ImportMap, ServerProps } from 'payload'\n\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport '@payloadcms/ui/scss/app.scss'\nimport React from 'react'\n\ntype Args = {\n  readonly children: React.ReactNode\n  readonly importMap: ImportMap\n  readonly providers: Config['admin']['components']['providers']\n  readonly serverProps: ServerProps\n}\n\nexport function NestProviders({\n  children,\n  importMap,\n  providers,\n  serverProps,\n}: Args): React.ReactNode {\n  return RenderServerComponent({\n    clientProps: {\n      children:\n        providers.length > 1 ? (\n          <NestProviders\n            importMap={importMap}\n            providers={providers.slice(1)}\n            serverProps={serverProps}\n          >\n            {children}\n          </NestProviders>\n        ) : (\n          children\n        ),\n    },\n    Component: providers[0],\n    importMap,\n    serverProps,\n  })\n}\n"],"names":["RenderServerComponent","React","NestProviders","children","importMap","providers","serverProps","clientProps","length","_jsx","slice","Component"],"mappings":";;;;AAIA,OAAOC,KAAA,MAAW;AAFlB,SAASD,qBAAqB,QAAQ;;;;AAW/B,SAASE,cAAc,EAC5BC,QAAQ,EACRC,SAAS,EACTC,SAAS,EACTC,WAAAA,EACK;IACL,OAAON,waAAA,AAAAA,EAAsB;QAC3BO,WAAA,EAAa;YACXJ,QAAA,EACEE,SAAA,CAAUG,MAAM,GAAG,IAAA,WAAA,IACjBC,qXAAAA,AAAA,EAACP,aAAA,EAAA;gBACCE,SAAA,EAAWA,SAAA;gBACXC,SAAA,EAAWA,SAAA,CAAUK,KAAK,CAAC;gBAC3BJ,WAAA,EAAaA,WAAA;0BAEZH;iBAGHA;QAEN;QACAQ,SAAA,EAAWN,SAAS,CAAC,EAAE;QACvBD,SAAA;QACAE;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 308, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 314, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/layouts/Root/index.tsx"],"sourcesContent":["import type { AcceptedLanguages } from '@payloadcms/translations'\nimport type { ImportMap, LanguageOptions, SanitizedConfig, ServerFunctionClient } from 'payload'\n\nimport { rtlLanguages } from '@payloadcms/translations'\nimport { RootProvider } from '@payloadcms/ui'\nimport { getClientConfig } from '@payloadcms/ui/utilities/getClientConfig'\nimport { headers as getHeaders, cookies as nextCookies } from 'next/headers.js'\nimport { getPayload, getRequestLanguage, parseCookies } from 'payload'\nimport React from 'react'\n\nimport { getNavPrefs } from '../../elements/Nav/getNavPrefs.js'\nimport { getRequestLocale } from '../../utilities/getRequestLocale.js'\nimport { getRequestTheme } from '../../utilities/getRequestTheme.js'\nimport { initReq } from '../../utilities/initReq.js'\nimport { checkDependencies } from './checkDependencies.js'\nimport { NestProviders } from './NestProviders.js'\n\nimport '@payloadcms/ui/scss/app.scss'\n\nexport const metadata = {\n  description: 'Generated by Next.js',\n  title: 'Next.js',\n}\n\nexport const RootLayout = async ({\n  children,\n  config: configPromise,\n  importMap,\n  serverFunction,\n}: {\n  readonly children: React.ReactNode\n  readonly config: Promise<SanitizedConfig>\n  readonly importMap: ImportMap\n  readonly serverFunction: ServerFunctionClient\n}) => {\n  checkDependencies()\n\n  const config = await configPromise\n\n  const headers = await getHeaders()\n  const cookies = parseCookies(headers)\n\n  const languageCode = getRequestLanguage({\n    config,\n    cookies,\n    headers,\n  })\n\n  const theme = getRequestTheme({\n    config,\n    cookies,\n    headers,\n  })\n\n  const payload = await getPayload({ config, importMap })\n\n  const { permissions, req } = await initReq(config)\n\n  const dir = (rtlLanguages as unknown as AcceptedLanguages[]).includes(languageCode)\n    ? 'RTL'\n    : 'LTR'\n\n  const languageOptions: LanguageOptions = Object.entries(\n    config.i18n.supportedLanguages || {},\n  ).reduce((acc, [language, languageConfig]) => {\n    if (Object.keys(config.i18n.supportedLanguages).includes(language)) {\n      acc.push({\n        label: languageConfig.translations.general.thisLanguage,\n        value: language,\n      })\n    }\n\n    return acc\n  }, [])\n\n  async function switchLanguageServerAction(lang: string): Promise<void> {\n    'use server'\n    const cookies = await nextCookies()\n    cookies.set({\n      name: `${config.cookiePrefix || 'payload'}-lng`,\n      path: '/',\n      value: lang,\n    })\n  }\n\n  const navPrefs = await getNavPrefs({ payload, user: req.user })\n\n  const clientConfig = getClientConfig({\n    config,\n    i18n: req.i18n,\n    importMap,\n  })\n\n  if (\n    clientConfig.localization &&\n    config.localization &&\n    typeof config.localization.filterAvailableLocales === 'function'\n  ) {\n    clientConfig.localization.locales = (\n      await config.localization.filterAvailableLocales({\n        locales: config.localization.locales,\n        req,\n      })\n    ).map(({ toString, ...rest }) => rest)\n    clientConfig.localization.localeCodes = config.localization.locales.map(({ code }) => code)\n  }\n\n  const locale = await getRequestLocale({\n    req,\n  })\n\n  return (\n    <html\n      data-theme={theme}\n      dir={dir}\n      lang={languageCode}\n      suppressHydrationWarning={config?.admin?.suppressHydrationWarning ?? false}\n    >\n      <head>\n        <style>{`@layer payload-default, payload;`}</style>\n      </head>\n      <body>\n        <RootProvider\n          config={clientConfig}\n          dateFNSKey={req.i18n.dateFNSKey}\n          fallbackLang={config.i18n.fallbackLanguage}\n          isNavOpen={navPrefs?.open ?? true}\n          languageCode={languageCode}\n          languageOptions={languageOptions}\n          locale={locale?.code}\n          permissions={permissions}\n          serverFunction={serverFunction}\n          switchLanguageServerAction={switchLanguageServerAction}\n          theme={theme}\n          translations={req.i18n.translations}\n          user={req.user}\n        >\n          {Array.isArray(config.admin?.components?.providers) &&\n          config.admin?.components?.providers.length > 0 ? (\n            <NestProviders\n              importMap={payload.importMap}\n              providers={config.admin?.components?.providers}\n              serverProps={{\n                i18n: req.i18n,\n                payload,\n                permissions,\n                user: req.user,\n              }}\n            >\n              {children}\n            </NestProviders>\n          ) : (\n            children\n          )}\n        </RootProvider>\n        <div id=\"portal\" />\n      </body>\n    </html>\n  )\n}\n"],"names":["rtlLanguages","RootProvider","getClientConfig","headers","getHeaders","cookies","nextCookies","getPayload","getRequestLanguage","parseCookies","React","getNavPrefs","getRequestLocale","getRequestTheme","initReq","checkDependencies","NestProviders","metadata","description","title","RootLayout","children","config","configPromise","importMap","serverFunction","languageCode","theme","payload","permissions","req","dir","includes","languageOptions","Object","entries","i18n","supportedLanguages","reduce","acc","language","languageConfig","keys","push","label","translations","general","thisLanguage","value","switchLanguageServerAction","lang","set","name","cookiePrefix","path","navPrefs","user","clientConfig","localization","filterAvailableLocales","locales","map","toString","rest","localeCodes","code","locale","_jsxs","suppressHydrationWarning","admin","_jsx","dateFNSKey","fallbackLang","fallbackLanguage","isNavOpen","open","Array","isArray","components","providers","length","serverProps","id"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 464, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 470, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/elements/DocumentHeader/Tabs/tabs/VersionsPill/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const VersionsPill = registerClientReference(\n    function() { throw new Error(\"Attempted to call VersionsPill() from the server but VersionsPill is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/tabs/VersionsPill/index.js <module evaluation>\",\n    \"VersionsPill\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,eAAe,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,wQACA","ignoreList":[0]}},
    {"offset": {"line": 478, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 484, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/elements/DocumentHeader/Tabs/tabs/VersionsPill/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const VersionsPill = registerClientReference(\n    function() { throw new Error(\"Attempted to call VersionsPill() from the server but VersionsPill is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/tabs/VersionsPill/index.js\",\n    \"VersionsPill\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,eAAe,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,oPACA","ignoreList":[0]}},
    {"offset": {"line": 492, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 498, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/elements/DocumentHeader/Tabs/tabs/VersionsPill/index.tsx"],"sourcesContent":["'use client'\nimport { useDocumentInfo } from '@payloadcms/ui'\nimport React from 'react'\n\nimport { baseClass } from '../../Tab/index.js'\n\nexport const VersionsPill: React.FC = () => {\n  const { versionCount } = useDocumentInfo()\n\n  if (!versionCount) {\n    return null\n  }\n\n  return <span className={`${baseClass}__count`}>{versionCount}</span>\n}\n"],"names":["c","_c","useDocumentInfo","React","baseClass","VersionsPill","$","versionCount","t0","_jsx","className","children"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 502, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 508, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/elements/DocumentHeader/Tabs/tabs/index.tsx"],"sourcesContent":["import type { DocumentTabConfig } from 'payload'\nimport type React from 'react'\n\nimport { VersionsPill } from './VersionsPill/index.js'\n\nexport const documentViewKeys = [\n  'api',\n  'default',\n  'livePreview',\n  'references',\n  'relationships',\n  'version',\n  'versions',\n]\n\nexport type DocumentViewKey = (typeof documentViewKeys)[number]\n\nexport const tabs: Record<\n  DocumentViewKey,\n  {\n    order?: number // TODO: expose this to the globalConfig config\n    Pill_Component?: React.FC\n  } & DocumentTabConfig\n> = {\n  api: {\n    condition: ({ collectionConfig, globalConfig }) =>\n      (collectionConfig && !collectionConfig?.admin?.hideAPIURL) ||\n      (globalConfig && !globalConfig?.admin?.hideAPIURL),\n    href: '/api',\n    label: 'API',\n    order: 1000,\n  },\n  default: {\n    href: '',\n    // isActive: ({ href, location }) =>\n    // location.pathname === href || location.pathname === `${href}/create`,\n    label: ({ t }) => t('general:edit'),\n    order: 0,\n  },\n  livePreview: {\n    condition: ({ collectionConfig, config, globalConfig }) => {\n      if (collectionConfig) {\n        return Boolean(\n          config?.admin?.livePreview?.collections?.includes(collectionConfig.slug) ||\n            collectionConfig?.admin?.livePreview,\n        )\n      }\n\n      if (globalConfig) {\n        return Boolean(\n          config?.admin?.livePreview?.globals?.includes(globalConfig.slug) ||\n            globalConfig?.admin?.livePreview,\n        )\n      }\n\n      return false\n    },\n    href: '/preview',\n    label: ({ t }) => t('general:livePreview'),\n    order: 100,\n  },\n  references: {\n    condition: () => false,\n  },\n  relationships: {\n    condition: () => false,\n  },\n  version: {\n    condition: () => false,\n  },\n  versions: {\n    condition: ({ collectionConfig, globalConfig, permissions }) =>\n      Boolean(\n        (collectionConfig?.versions &&\n          permissions?.collections?.[collectionConfig?.slug]?.readVersions) ||\n          (globalConfig?.versions && permissions?.globals?.[globalConfig?.slug]?.readVersions),\n      ),\n    href: '/versions',\n    label: ({ t }) => t('version:versions'),\n    order: 200,\n    Pill_Component: VersionsPill,\n  },\n}\n"],"names":["VersionsPill","documentViewKeys","tabs","api","condition","collectionConfig","globalConfig","admin","hideAPIURL","href","label","order","default","t","livePreview","config","Boolean","collections","includes","slug","globals","references","relationships","version","versions","permissions","readVersions","Pill_Component"],"mappings":";;;;AAGA,SAASA,YAAY,QAAQ;;AAEtB,MAAMC,gBAAA,GAAmB;IAC9B;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAIM,MAAMC,IAAA,GAMT;IACFC,GAAA,EAAK;QACHC,SAAA,EAAWA,CAAC,EAAEC,gBAAgB,EAAEC,YAAAA,EAAc,GAC5CD,gBAAC,IAAoB,CAACA,gBAAA,EAAkBE,KAAA,EAAOC,UAAA,IAC9CF,YAAA,IAAgB,CAACA,YAAA,EAAcC,KAAA,EAAOC,UAAA;QACzCC,IAAA,EAAM;QACNC,KAAA,EAAO;QACPC,KAAA,EAAO;IACT;IACAC,OAAA,EAAS;QACPH,IAAA,EAAM;QACN,oCAAA;QACA,wEAAA;QACAC,KAAA,EAAOA,CAAC,EAAEG,CAAAA,EAAG,GAAKA,CAAA,CAAE;QACpBF,KAAA,EAAO;IACT;IACAG,WAAA,EAAa;QACXV,SAAA,EAAWA,CAAC,EAAEC,gBAAgB,EAAEU,MAAM,EAAET,YAAAA,EAAc;YACpD,IAAID,gBAAA,EAAkB;gBACpB,OAAOW,OAAA,CACLD,MAAA,EAAQR,KAAA,EAAOO,WAAA,EAAaG,WAAA,EAAaC,QAAA,CAASb,gBAAA,CAAiBc,IAAI,KACrEd,gBAAA,EAAkBE,KAAA,EAAOO,WAAA;YAE/B;YAEA,IAAIR,YAAA,EAAc;gBAChB,OAAOU,OAAA,CACLD,MAAA,EAAQR,KAAA,EAAOO,WAAA,EAAaM,OAAA,EAASF,QAAA,CAASZ,YAAA,CAAaa,IAAI,KAC7Db,YAAA,EAAcC,KAAA,EAAOO,WAAA;YAE3B;YAEA,OAAO;QACT;QACAL,IAAA,EAAM;QACNC,KAAA,EAAOA,CAAC,EAAEG,CAAAA,EAAG,GAAKA,CAAA,CAAE;QACpBF,KAAA,EAAO;IACT;IACAU,UAAA,EAAY;QACVjB,SAAA,EAAWA,CAAA,GAAM;IACnB;IACAkB,aAAA,EAAe;QACblB,SAAA,EAAWA,CAAA,GAAM;IACnB;IACAmB,OAAA,EAAS;QACPnB,SAAA,EAAWA,CAAA,GAAM;IACnB;IACAoB,QAAA,EAAU;QACRpB,SAAA,EAAWA,CAAC,EAAEC,gBAAgB,EAAEC,YAAY,EAAEmB,WAAAA,EAAa,GACzDT,OAAA,CACEX,gBAAC,EAAkBmB,QAAA,IACjBC,WAAA,EAAaR,WAAA,EAAA,CAAcZ,gBAAA,EAAkBc,IAAA,CAAK,EAAEO,YAAA,IACnDpB,YAAA,EAAckB,QAAA,IAAYC,WAAA,EAAaL,OAAA,EAAA,CAAUd,YAAA,EAAca,IAAA,CAAK,EAAEO,YAAA;QAE7EjB,IAAA,EAAM;QACNC,KAAA,EAAOA,CAAC,EAAEG,CAAAA,EAAG,GAAKA,CAAA,CAAE;QACpBF,KAAA,EAAO;QACPgB,cAAA,yaAAgB3B,eAAAA;IAClB;AACF","ignoreList":[0]}},
    {"offset": {"line": 568, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 574, "column": 0}, "map": {"version":3,"file":"getCustomViews.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/elements/DocumentHeader/Tabs/getCustomViews.ts"],"sourcesContent":["import type { EditViewConfig, SanitizedCollectionConfig, SanitizedGlobalConfig } from 'payload'\n\nimport { documentViewKeys } from './tabs/index.js'\n\nexport const getCustomViews = (args: {\n  collectionConfig: SanitizedCollectionConfig\n  globalConfig: SanitizedGlobalConfig\n}): EditViewConfig[] => {\n  const { collectionConfig, globalConfig } = args\n\n  let customViews: EditViewConfig[]\n\n  if (collectionConfig) {\n    const collectionViewsConfig =\n      typeof collectionConfig?.admin?.components?.views?.edit === 'object' &&\n      typeof collectionConfig?.admin?.components?.views?.edit !== 'function'\n        ? collectionConfig?.admin?.components?.views?.edit\n        : undefined\n\n    customViews = Object.entries(collectionViewsConfig || {}).reduce((prev, [key, view]) => {\n      if (documentViewKeys.includes(key)) {\n        return prev\n      }\n\n      return [...prev, { ...view, key }]\n    }, [])\n  }\n\n  if (globalConfig) {\n    const globalViewsConfig =\n      typeof globalConfig?.admin?.components?.views?.edit === 'object' &&\n      typeof globalConfig?.admin?.components?.views?.edit !== 'function'\n        ? globalConfig?.admin?.components?.views?.edit\n        : undefined\n\n    customViews = Object.entries(globalViewsConfig || {}).reduce((prev, [key, view]) => {\n      if (documentViewKeys.includes(key)) {\n        return prev\n      }\n\n      return [...prev, { ...view, key }]\n    }, [])\n  }\n\n  return customViews\n}\n"],"names":["documentViewKeys","getCustomViews","args","collectionConfig","globalConfig","customViews","collectionViewsConfig","admin","components","views","edit","undefined","Object","entries","reduce","prev","key","view","includes","globalViewsConfig"],"mappings":";;;AAEA,SAASA,gBAAgB,QAAQ;;AAE1B,MAAMC,cAAA,IAAkBC,IAAA;IAI7B,MAAM,EAAEC,gBAAgB,EAAEC,YAAAA,EAAc,GAAGF,IAAA;IAE3C,IAAIG,WAAA;IAEJ,IAAIF,gBAAA,EAAkB;QACpB,MAAMG,qBAAA,GACJ,OAAOH,gBAAA,EAAkBI,KAAA,EAAOC,UAAA,EAAYC,KAAA,EAAOC,IAAA,KAAS,YAC5D,OAAOP,gBAAA,EAAkBI,KAAA,EAAOC,UAAA,EAAYC,KAAA,EAAOC,IAAA,KAAS,aACxDP,gBAAA,EAAkBI,KAAA,EAAOC,UAAA,EAAYC,KAAA,EAAOC,IAAA,GAC5CC,SAAA;QAENN,WAAA,GAAcO,MAAA,CAAOC,OAAO,CAACP,qBAAA,IAAyB,CAAC,GAAGQ,MAAM,CAAC,CAACC,IAAA,EAAM,CAACC,GAAA,EAAKC,IAAA,CAAK;YACjF,2ZAAIjB,mBAAA,CAAiBkB,QAAQ,CAACF,GAAA,GAAM;gBAClC,OAAOD,IAAA;YACT;YAEA,OAAO,C;mBAAIA,IAAA;gBAAM;oBAAE,GAAGE,IAAI;oBAAED;gBAAI;aAAE;QACpC,GAAG,EAAE;IACP;IAEA,IAAIZ,YAAA,EAAc;QAChB,MAAMe,iBAAA,GACJ,OAAOf,YAAA,EAAcG,KAAA,EAAOC,UAAA,EAAYC,KAAA,EAAOC,IAAA,KAAS,YACxD,OAAON,YAAA,EAAcG,KAAA,EAAOC,UAAA,EAAYC,KAAA,EAAOC,IAAA,KAAS,aACpDN,YAAA,EAAcG,KAAA,EAAOC,UAAA,EAAYC,KAAA,EAAOC,IAAA,GACxCC,SAAA;QAENN,WAAA,GAAcO,MAAA,CAAOC,OAAO,CAACM,iBAAA,IAAqB,CAAC,GAAGL,MAAM,CAAC,CAACC,IAAA,EAAM,CAACC,GAAA,EAAKC,IAAA,CAAK;YAC7E,2ZAAIjB,mBAAA,CAAiBkB,QAAQ,CAACF,GAAA,GAAM;gBAClC,OAAOD,IAAA;YACT;YAEA,OAAO,C;mBAAIA,IAAA;gBAAM;oBAAE,GAAGE,IAAI;oBAAED;gBAAI;aAAE;QACpC,GAAG,EAAE;IACP;IAEA,OAAOX,WAAA;AACT","ignoreList":[0]}},
    {"offset": {"line": 614, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 620, "column": 0}, "map": {"version":3,"file":"getViewConfig.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/elements/DocumentHeader/Tabs/getViewConfig.ts"],"sourcesContent":["import type { EditViewConfig, SanitizedCollectionConfig, SanitizedGlobalConfig } from 'payload'\n\nexport const getViewConfig = (args: {\n  collectionConfig: SanitizedCollectionConfig\n  globalConfig: SanitizedGlobalConfig\n  name: string\n}): EditViewConfig => {\n  const { name, collectionConfig, globalConfig } = args\n\n  if (collectionConfig) {\n    const collectionConfigViewsConfig =\n      typeof collectionConfig?.admin?.components?.views?.edit === 'object' &&\n      typeof collectionConfig?.admin?.components?.views?.edit !== 'function'\n        ? collectionConfig?.admin?.components?.views?.edit\n        : undefined\n\n    return collectionConfigViewsConfig?.[name]\n  }\n\n  if (globalConfig) {\n    const globalConfigViewsConfig =\n      typeof globalConfig?.admin?.components?.views?.edit === 'object' &&\n      typeof globalConfig?.admin?.components?.views?.edit !== 'function'\n        ? globalConfig?.admin?.components?.views?.edit\n        : undefined\n\n    return globalConfigViewsConfig?.[name]\n  }\n\n  return null\n}\n"],"names":["getViewConfig","args","name","collectionConfig","globalConfig","collectionConfigViewsConfig","admin","components","views","edit","undefined","globalConfigViewsConfig"],"mappings":";;;AAEO,MAAMA,aAAA,IAAiBC,IAAA;IAK5B,MAAM,EAAEC,IAAI,EAAEC,gBAAgB,EAAEC,YAAAA,EAAc,GAAGH,IAAA;IAEjD,IAAIE,gBAAA,EAAkB;QACpB,MAAME,2BAAA,GACJ,OAAOF,gBAAA,EAAkBG,KAAA,EAAOC,UAAA,EAAYC,KAAA,EAAOC,IAAA,KAAS,YAC5D,OAAON,gBAAA,EAAkBG,KAAA,EAAOC,UAAA,EAAYC,KAAA,EAAOC,IAAA,KAAS,aACxDN,gBAAA,EAAkBG,KAAA,EAAOC,UAAA,EAAYC,KAAA,EAAOC,IAAA,GAC5CC,SAAA;QAEN,OAAOL,2BAAA,EAAA,CAA8BH,IAAA,CAAK;IAC5C;IAEA,IAAIE,YAAA,EAAc;QAChB,MAAMO,uBAAA,GACJ,OAAOP,YAAA,EAAcE,KAAA,EAAOC,UAAA,EAAYC,KAAA,EAAOC,IAAA,KAAS,YACxD,OAAOL,YAAA,EAAcE,KAAA,EAAOC,UAAA,EAAYC,KAAA,EAAOC,IAAA,KAAS,aACpDL,YAAA,EAAcE,KAAA,EAAOC,UAAA,EAAYC,KAAA,EAAOC,IAAA,GACxCC,SAAA;QAEN,OAAOC,uBAAA,EAAA,CAA0BT,IAAA,CAAK;IACxC;IAEA,OAAO;AACT","ignoreList":[0]}},
    {"offset": {"line": 635, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 641, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/elements/DocumentHeader/Tabs/ShouldRenderTabs.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const ShouldRenderTabs = registerClientReference(\n    function() { throw new Error(\"Attempted to call ShouldRenderTabs() from the server but ShouldRenderTabs is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/ShouldRenderTabs.js <module evaluation>\",\n    \"ShouldRenderTabs\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,mBAAmB,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAClD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,iQACA","ignoreList":[0]}},
    {"offset": {"line": 649, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 655, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/elements/DocumentHeader/Tabs/ShouldRenderTabs.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const ShouldRenderTabs = registerClientReference(\n    function() { throw new Error(\"Attempted to call ShouldRenderTabs() from the server but ShouldRenderTabs is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/ShouldRenderTabs.js\",\n    \"ShouldRenderTabs\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,mBAAmB,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAClD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,6OACA","ignoreList":[0]}},
    {"offset": {"line": 663, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 669, "column": 0}, "map": {"version":3,"file":"ShouldRenderTabs.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/elements/DocumentHeader/Tabs/ShouldRenderTabs.tsx"],"sourcesContent":["'use client'\nimport type React from 'react'\n\nimport { useDocumentInfo } from '@payloadcms/ui'\n\nexport const ShouldRenderTabs: React.FC<{\n  children: React.ReactNode\n}> = ({ children }) => {\n  const { id: idFromContext, collectionSlug, globalSlug } = useDocumentInfo()\n\n  const id = idFromContext !== 'create' ? idFromContext : null\n\n  // Don't show tabs when creating new documents\n  if ((collectionSlug && id) || globalSlug) {\n    return children\n  }\n\n  return null\n}\n"],"names":["useDocumentInfo","ShouldRenderTabs","t0","children","id","idFromContext","collectionSlug","globalSlug"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 673, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 679, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/elements/DocumentHeader/Tabs/Tab/TabLink.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const DocumentTabLink = registerClientReference(\n    function() { throw new Error(\"Attempted to call DocumentTabLink() from the server but DocumentTabLink is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/Tab/TabLink.js <module evaluation>\",\n    \"DocumentTabLink\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,kBAAkB,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EACjD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,4PACA","ignoreList":[0]}},
    {"offset": {"line": 687, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 693, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/elements/DocumentHeader/Tabs/Tab/TabLink.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const DocumentTabLink = registerClientReference(\n    function() { throw new Error(\"Attempted to call DocumentTabLink() from the server but DocumentTabLink is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/elements/DocumentHeader/Tabs/Tab/TabLink.js\",\n    \"DocumentTabLink\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,kBAAkB,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EACjD;IAAa,MAAM,IAAI,MAAM;AAA8O,GAC3Q,wOACA","ignoreList":[0]}},
    {"offset": {"line": 701, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 707, "column": 0}, "map": {"version":3,"file":"TabLink.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/elements/DocumentHeader/Tabs/Tab/TabLink.tsx"],"sourcesContent":["'use client'\nimport type { SanitizedConfig } from 'payload'\n\nimport { formatAdminURL } from '@payloadcms/ui/shared'\nimport LinkImport from 'next/link.js'\nimport { useParams, usePathname, useSearchParams } from 'next/navigation.js'\nimport React from 'react'\n\nconst Link = (LinkImport.default || LinkImport) as unknown as typeof LinkImport.default\n\nexport const DocumentTabLink: React.FC<{\n  adminRoute: SanitizedConfig['routes']['admin']\n  ariaLabel?: string\n  baseClass: string\n  children?: React.ReactNode\n  href: string\n  isActive?: boolean\n  isCollection?: boolean\n  newTab?: boolean\n}> = ({\n  adminRoute,\n  ariaLabel,\n  baseClass,\n  children,\n  href: hrefFromProps,\n  isActive: isActiveFromProps,\n  newTab,\n}) => {\n  const pathname = usePathname()\n  const params = useParams()\n\n  const searchParams = useSearchParams()\n\n  const locale = searchParams.get('locale')\n\n  const [entityType, entitySlug, segmentThree, segmentFour, ...rest] = params.segments || []\n  const isCollection = entityType === 'collections'\n\n  let docPath = formatAdminURL({\n    adminRoute,\n    path: `/${isCollection ? 'collections' : 'globals'}/${entitySlug}`,\n  })\n\n  if (isCollection && segmentThree) {\n    // doc ID\n    docPath += `/${segmentThree}`\n  }\n\n  const href = `${docPath}${hrefFromProps}`\n  // separated the two so it doesn't break checks against pathname\n  const hrefWithLocale = `${href}${locale ? `?locale=${locale}` : ''}`\n\n  const isActive =\n    (href === docPath && pathname === docPath) ||\n    (href !== docPath && pathname.startsWith(href)) ||\n    isActiveFromProps\n\n  return (\n    <li\n      aria-label={ariaLabel}\n      className={[baseClass, isActive && `${baseClass}--active`].filter(Boolean).join(' ')}\n    >\n      <Link\n        className={`${baseClass}__link`}\n        href={!isActive || href !== pathname ? hrefWithLocale : ''}\n        prefetch={false}\n        {...(newTab && { rel: 'noopener noreferrer', target: '_blank' })}\n        tabIndex={isActive ? -1 : 0}\n      >\n        {children}\n      </Link>\n    </li>\n  )\n}\n"],"names":["c","_c","formatAdminURL","LinkImport","useParams","usePathname","useSearchParams","React","Link","default","DocumentTabLink","t0","$","adminRoute","ariaLabel","baseClass","children","href","hrefFromProps","isActive","isActiveFromProps","newTab","pathname","params","searchParams","locale","get","entityType","entitySlug","segmentThree","segments","isCollection","t1","t2","path","docPath","hrefWithLocale","t3","startsWith","t4","t5","filter","Boolean","t6","join","t7","t8","t9","rel","target","t10","t11","_jsx","className","prefetch","tabIndex"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 711, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 717, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/elements/DocumentHeader/Tabs/Tab/index.tsx"],"sourcesContent":["import type { DocumentTabConfig, DocumentTabProps } from 'payload'\nimport type React from 'react'\n\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { Fragment } from 'react'\n\nimport './index.scss'\nimport { DocumentTabLink } from './TabLink.js'\n\nexport const baseClass = 'doc-tab'\n\nexport const DocumentTab: React.FC<\n  { readonly Pill_Component?: React.FC } & DocumentTabConfig & DocumentTabProps\n> = (props) => {\n  const {\n    apiURL,\n    collectionConfig,\n    condition,\n    globalConfig,\n    href: tabHref,\n    i18n,\n    isActive: tabIsActive,\n    label,\n    newTab,\n    payload,\n    permissions,\n    Pill,\n    Pill_Component,\n  } = props\n  const { config } = payload\n  const { routes } = config\n\n  let href = typeof tabHref === 'string' ? tabHref : ''\n  let isActive = typeof tabIsActive === 'boolean' ? tabIsActive : false\n\n  if (typeof tabHref === 'function') {\n    href = tabHref({\n      apiURL,\n      collection: collectionConfig,\n      global: globalConfig,\n      routes,\n    })\n  }\n\n  if (typeof tabIsActive === 'function') {\n    isActive = tabIsActive({\n      href,\n    })\n  }\n\n  const meetsCondition =\n    !condition ||\n    (condition && Boolean(condition({ collectionConfig, config, globalConfig, permissions })))\n\n  if (meetsCondition) {\n    const labelToRender =\n      typeof label === 'function'\n        ? label({\n            t: i18n.t,\n          })\n        : label\n\n    return (\n      <DocumentTabLink\n        adminRoute={routes.admin}\n        ariaLabel={labelToRender}\n        baseClass={baseClass}\n        href={href}\n        isActive={isActive}\n        isCollection={!!collectionConfig && !globalConfig}\n        newTab={newTab}\n      >\n        <span className={`${baseClass}__label`}>\n          {labelToRender}\n          {Pill || Pill_Component ? (\n            <Fragment>\n              &nbsp;\n              {RenderServerComponent({\n                Component: Pill,\n                Fallback: Pill_Component,\n                importMap: payload.importMap,\n                serverProps: {\n                  i18n,\n                  payload,\n                  permissions,\n                },\n              })}\n            </Fragment>\n          ) : null}\n        </span>\n      </DocumentTabLink>\n    )\n  }\n\n  return null\n}\n"],"names":["RenderServerComponent","Fragment","DocumentTabLink","baseClass","DocumentTab","props","apiURL","collectionConfig","condition","globalConfig","href","tabHref","i18n","isActive","tabIsActive","label","newTab","payload","permissions","Pill","Pill_Component","config","routes","collection","global","meetsCondition","Boolean","labelToRender","t","_jsx","adminRoute","admin","ariaLabel","isCollection","_jsxs","className","Component","Fallback","importMap","serverProps"],"mappings":";;;;;AAIA,SAASC,QAAQ,QAAQ;AAGzB,SAASC,eAAe,QAAQ;AAJhC,SAASF,qBAAqB,QAAQ;;;;;AAM/B,MAAMG,SAAA,GAAY;AAElB,MAAMC,WAAA,IAERC,KAAA;IACH,MAAM,EACJC,MAAM,EACNC,gBAAgB,EAChBC,SAAS,EACTC,YAAY,EACZC,IAAA,EAAMC,OAAO,EACbC,IAAI,EACJC,QAAA,EAAUC,WAAW,EACrBC,KAAK,EACLC,MAAM,EACNC,OAAO,EACPC,WAAW,EACXC,IAAI,EACJC,cAAAA,EACD,GAAGf,KAAA;IACJ,MAAM,EAAEgB,MAAAA,EAAQ,GAAGJ,OAAA;IACnB,MAAM,EAAEK,MAAAA,EAAQ,GAAGD,MAAA;IAEnB,IAAIX,IAAA,GAAO,OAAOC,OAAA,KAAY,WAAWA,OAAA,GAAU;IACnD,IAAIE,QAAA,GAAW,OAAOC,WAAA,KAAgB,YAAYA,WAAA,GAAc;IAEhE,IAAI,OAAOH,OAAA,KAAY,YAAY;QACjCD,IAAA,GAAOC,OAAA,CAAQ;YACbL,MAAA;YACAiB,UAAA,EAAYhB,gBAAA;YACZiB,MAAA,EAAQf,YAAA;YACRa;QACF;IACF;IAEA,IAAI,OAAOR,WAAA,KAAgB,YAAY;QACrCD,QAAA,GAAWC,WAAA,CAAY;YACrBJ;QACF;IACF;IAEA,MAAMe,cAAA,GACJ,CAACjB,SAAA,IACAA,SAAA,IAAakB,OAAA,CAAQlB,SAAA,CAAU;QAAED,gBAAA;QAAkBc,MAAA;QAAQZ,YAAA;QAAcS;IAAY;IAExF,IAAIO,cAAA,EAAgB;QAClB,MAAME,aAAA,GACJ,OAAOZ,KAAA,KAAU,aACbA,KAAA,CAAM;YACJa,CAAA,EAAGhB,IAAA,CAAKgB,CAAAA;QACV,KACAb,KAAA;QAEN,OAAA,WAAA,IACEc,qXAAAA,AAAA,0ZAAC3B,kBAAA,EAAA;YACC4B,UAAA,EAAYR,MAAA,CAAOS,KAAK;YACxBC,SAAA,EAAWL,aAAA;YACXxB,SAAA,EAAWA,SAAA;YACXO,IAAA,EAAMA,IAAA;YACNG,QAAA,EAAUA,QAAA;YACVoB,YAAA,EAAc,CAAC,CAAC1B,gBAAA,IAAoB,CAACE,YAAA;YACrCO,MAAA,EAAQA,MAAA;sBAER,WAAA,mXAAAkB,OAAAA,AAAA,EAAC,QAAA;gBAAKC,SAAA,EAAW,GAAGhC,SAAA,CAAA,OAAA,CAAkB;;oBACnCwB,aAAA;oBACAR,IAAA,IAAQC,cAAA,GAAA,WAAA,IACPc,sXAAAA,AAAA,4VAACjC,WAAA,EAAA;;4BAAS;4aAEPD,wBAAAA,AAAA,EAAsB;gCACrBoC,SAAA,EAAWjB,IAAA;gCACXkB,QAAA,EAAUjB,cAAA;gCACVkB,SAAA,EAAWrB,OAAA,CAAQqB,SAAS;gCAC5BC,WAAA,EAAa;oCACX3B,IAAA;oCACAK,OAAA;oCACAC;gCACF;4BACF;yBAAA;yBAEA;iBAAA;;;IAIZ;IAEA,OAAO;AACT","ignoreList":[0]}},
    {"offset": {"line": 792, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 798, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/elements/DocumentHeader/Tabs/index.tsx"],"sourcesContent":["import type { I18n } from '@payloadcms/translations'\nimport type {\n  Payload,\n  SanitizedCollectionConfig,\n  SanitizedGlobalConfig,\n  SanitizedPermissions,\n} from 'payload'\n\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport React from 'react'\n\nimport { getCustomViews } from './getCustomViews.js'\nimport { getViewConfig } from './getViewConfig.js'\nimport './index.scss'\nimport { ShouldRenderTabs } from './ShouldRenderTabs.js'\nimport { DocumentTab } from './Tab/index.js'\nimport { tabs as defaultTabs } from './tabs/index.js'\n\nconst baseClass = 'doc-tabs'\n\nexport const DocumentTabs: React.FC<{\n  collectionConfig: SanitizedCollectionConfig\n  globalConfig: SanitizedGlobalConfig\n  i18n: I18n\n  payload: Payload\n  permissions: SanitizedPermissions\n}> = (props) => {\n  const { collectionConfig, globalConfig, i18n, payload, permissions } = props\n  const { config } = payload\n\n  const customViews = getCustomViews({ collectionConfig, globalConfig })\n\n  return (\n    <ShouldRenderTabs>\n      <div className={baseClass}>\n        <div className={`${baseClass}__tabs-container`}>\n          <ul className={`${baseClass}__tabs`}>\n            {Object.entries(defaultTabs)\n              // sort `defaultViews` based on `order` property from smallest to largest\n              // if no `order`, append the view to the end\n              // TODO: open `order` to the config and merge `defaultViews` with `customViews`\n              ?.sort(([, a], [, b]) => {\n                if (a.order === undefined && b.order === undefined) {\n                  return 0\n                } else if (a.order === undefined) {\n                  return 1\n                } else if (b.order === undefined) {\n                  return -1\n                }\n                return a.order - b.order\n              })\n              ?.map(([name, tab], index) => {\n                const viewConfig = getViewConfig({ name, collectionConfig, globalConfig })\n                const tabFromConfig = viewConfig && 'tab' in viewConfig ? viewConfig.tab : undefined\n\n                const { condition } = tabFromConfig || {}\n\n                const meetsCondition =\n                  !condition ||\n                  (condition &&\n                    Boolean(condition({ collectionConfig, config, globalConfig, permissions })))\n\n                if (meetsCondition) {\n                  return (\n                    <DocumentTab\n                      key={`tab-${index}`}\n                      {...{\n                        ...props,\n                        ...(tab || {}),\n                        ...(tabFromConfig || {}),\n                      }}\n                    />\n                  )\n                }\n\n                return null\n              })}\n            {customViews?.map((CustomView, index) => {\n              if ('tab' in CustomView) {\n                const { path, tab } = CustomView\n\n                if (tab.Component) {\n                  return RenderServerComponent({\n                    clientProps: {\n                      path,\n                    },\n                    Component: tab.Component,\n                    importMap: payload.importMap,\n                    key: `tab-custom-${index}`,\n                    serverProps: {\n                      collectionConfig,\n                      globalConfig,\n                      i18n,\n                      payload,\n                      permissions,\n                    },\n                  })\n                }\n\n                return (\n                  <DocumentTab\n                    key={`tab-custom-${index}`}\n                    {...{\n                      ...props,\n                      ...tab,\n                    }}\n                  />\n                )\n              }\n\n              return null\n            })}\n          </ul>\n        </div>\n      </div>\n    </ShouldRenderTabs>\n  )\n}\n"],"names":["RenderServerComponent","React","getCustomViews","getViewConfig","ShouldRenderTabs","DocumentTab","tabs","defaultTabs","baseClass","DocumentTabs","props","collectionConfig","globalConfig","i18n","payload","permissions","config","customViews","_jsx","className","_jsxs","Object","entries","sort","a","b","order","undefined","map","name","tab","index","viewConfig","tabFromConfig","condition","meetsCondition","Boolean","CustomView","path","Component","clientProps","importMap","key","serverProps"],"mappings":";;;;AASA,OAAOC,KAAA,MAAW;AAElB,SAASC,cAAc,QAAQ;AAC/B,SAASC,aAAa,QAAQ;AAE9B,SAASC,gBAAgB,QAAQ;AACjC,SAASC,WAAW,QAAQ;AAC5B,SAASC,IAAA,IAAQC,WAAW,QAAQ;AARpC,SAASP,qBAAqB,QAAQ;;;;;;;;;AAUtC,MAAMQ,SAAA,GAAY;AAEX,MAAMC,YAAA,IAMPC,KAAA;IACJ,MAAM,EAAEC,gBAAgB,EAAEC,YAAY,EAAEC,IAAI,EAAEC,OAAO,EAAEC,WAAAA,EAAa,GAAGL,KAAA;IACvE,MAAM,EAAEM,MAAAA,EAAQ,GAAGF,OAAA;IAEnB,MAAMG,WAAA,+ZAAcf,iBAAA,AAAAA,EAAe;QAAES,gBAAA;QAAkBC;IAAa;IAEpE,OAAA,WAAA,mXACEM,MAAAA,AAAA,4ZAACd,mBAAA,EAAA;kBACC,WAAA,mXAAAc,MAAAA,AAAA,EAAC,OAAA;YAAIC,SAAA,EAAWX,SAAA;sBACd,WAAA,mXAAAU,MAAAA,AAAA,EAAC,OAAA;gBAAIC,SAAA,EAAW,GAAGX,SAAA,CAAA,gBAAA,CAA2B;0BAC5C,WAAA,mXAAAY,OAAAA,AAAA,EAAC,MAAA;oBAAGD,SAAA,EAAW,GAAGX,SAAA,CAAA,MAAA,CAAiB;;wBAChCa,MAAA,CAAOC,OAAO,wZAACf,OAAA,GAIZgB,IAAA,CAAK,CAAC,GAAGC,CAAA,CAAE,EAAE,GAAGC,CAAA,CAAE;4BAClB,IAAID,CAAA,CAAEE,KAAK,KAAKC,SAAA,IAAaF,CAAA,CAAEC,KAAK,KAAKC,SAAA,EAAW;gCAClD,OAAO;4BACT,OAAO,IAAIH,CAAA,CAAEE,KAAK,KAAKC,SAAA,EAAW;gCAChC,OAAO;4BACT,OAAO,IAAIF,CAAA,CAAEC,KAAK,KAAKC,SAAA,EAAW;gCAChC,OAAO,CAAC;4BACV;4BACA,OAAOH,CAAA,CAAEE,KAAK,GAAGD,CAAA,CAAEC,KAAK;wBAC1B,IACEE,GAAA,CAAI,CAAC,CAACC,IAAA,EAAMC,GAAA,CAAI,EAAEC,KAAA;4BAClB,MAAMC,UAAA,IAAa7B,0aAAAA,AAAA,EAAc;gCAAE0B,IAAA;gCAAMlB,gBAAA;gCAAkBC;4BAAa;4BACxE,MAAMqB,aAAA,GAAgBD,UAAA,IAAc,SAASA,UAAA,GAAaA,UAAA,CAAWF,GAAG,GAAGH,SAAA;4BAE3E,MAAM,EAAEO,SAAAA,EAAW,GAAGD,aAAA,IAAiB,CAAC;4BAExC,MAAME,cAAA,GACJ,CAACD,SAAA,IACAA,SAAA,IACCE,OAAA,CAAQF,SAAA,CAAU;gCAAEvB,gBAAA;gCAAkBK,MAAA;gCAAQJ,YAAA;gCAAcG;4BAAY;4BAE5E,IAAIoB,cAAA,EAAgB;gCAClB,OAAA,WAAA,mXACEjB,MAAAA,AAAA,wZAACb,cAAA,EAAA;oCAGG,GAAGK,KAAK;oCACR,GAAIoB,GAAA,IAAO,CAAC,CAAC;oCACb,GAAIG,aAAA,IAAiB,CAAC,CAAC;mCAJpB,CAAA,IAAA,EAAOF,KAAA,EAAO;4BAQzB;4BAEA,OAAO;wBACT;wBACDd,WAAA,EAAaW,GAAA,CAAI,CAACS,UAAA,EAAYN,KAAA;4BAC7B,IAAI,SAASM,UAAA,EAAY;gCACvB,MAAM,EAAEC,IAAI,EAAER,GAAAA,EAAK,GAAGO,UAAA;gCAEtB,IAAIP,GAAA,CAAIS,SAAS,EAAE;oCACjB,QAAOvC,uaAAAA,AAAA,EAAsB;wCAC3BwC,WAAA,EAAa;4CACXF;wCACF;wCACAC,SAAA,EAAWT,GAAA,CAAIS,SAAS;wCACxBE,SAAA,EAAW3B,OAAA,CAAQ2B,SAAS;wCAC5BC,GAAA,EAAK,CAAA,WAAA,EAAcX,KAAA,EAAO;wCAC1BY,WAAA,EAAa;4CACXhC,gBAAA;4CACAC,YAAA;4CACAC,IAAA;4CACAC,OAAA;4CACAC;wCACF;oCACF;gCACF;gCAEA,OAAA,WAAA,IACEG,qXAAAA,AAAA,wZAACb,cAAA,EAAA;oCAGG,GAAGK,KAAK;oCACR,GAAGoB,GAAAA;mCAHA,CAAA,WAAA,EAAcC,KAAA,EAAO;4BAOhC;4BAEA,OAAO;wBACT;qBAAA;;;;;AAMZ","ignoreList":[0]}},
    {"offset": {"line": 898, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 904, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/elements/DocumentHeader/index.tsx"],"sourcesContent":["import type { I18n } from '@payloadcms/translations'\nimport type {\n  Payload,\n  SanitizedCollectionConfig,\n  SanitizedGlobalConfig,\n  SanitizedPermissions,\n} from 'payload'\n\nimport { Gutter, RenderTitle } from '@payloadcms/ui'\nimport React from 'react'\n\nimport './index.scss'\nimport { DocumentTabs } from './Tabs/index.js'\n\nconst baseClass = `doc-header`\n\nexport const DocumentHeader: React.FC<{\n  collectionConfig?: SanitizedCollectionConfig\n  globalConfig?: SanitizedGlobalConfig\n  hideTabs?: boolean\n  i18n: I18n\n  payload: Payload\n  permissions: SanitizedPermissions\n}> = (props) => {\n  const { collectionConfig, globalConfig, hideTabs, i18n, payload, permissions } = props\n\n  return (\n    <Gutter className={baseClass}>\n      <RenderTitle className={`${baseClass}__title`} />\n      {!hideTabs && (\n        <DocumentTabs\n          collectionConfig={collectionConfig}\n          globalConfig={globalConfig}\n          i18n={i18n}\n          payload={payload}\n          permissions={permissions}\n        />\n      )}\n    </Gutter>\n  )\n}\n"],"names":["Gutter","RenderTitle","React","DocumentTabs","baseClass","DocumentHeader","props","collectionConfig","globalConfig","hideTabs","i18n","payload","permissions","_jsxs","className","_jsx"],"mappings":";;;;AASA,OAAOE,KAAA,MAAW;AAGlB,SAASC,YAAY,QAAQ;AAJ7B,SAASH,MAAM,EAAEC,WAAW,QAAQ;;;;;AAMpC,MAAMG,SAAA,GAAY,CAAA,UAAA,CAAY;AAEvB,MAAMC,cAAA,IAOPC,KAAA;IACJ,MAAM,EAAEC,gBAAgB,EAAEC,YAAY,EAAEC,QAAQ,EAAEC,IAAI,EAAEC,OAAO,EAAEC,WAAAA,EAAa,GAAGN,KAAA;IAEjF,OAAA,WAAA,mXACEO,OAAAA,AAAA,8XAACb,SAAA,EAAA;QAAOc,SAAA,EAAWV,SAAA;;2BACjBW,qXAAAA,AAAA,8XAACd,cAAA,EAAA;gBAAYa,SAAA,EAAW,GAAGV,SAAA,CAAA,OAAA,CAAA;;YAC1B,CAACK,QAAA,IAAA,WAAA,mXACAM,MAAA,AAAAA,iZAACZ,eAAA,EAAA;gBACCI,gBAAA,EAAkBA,gBAAA;gBAClBC,YAAA,EAAcA,YAAA;gBACdE,IAAA,EAAMA,IAAA;gBACNC,OAAA,EAASA,OAAA;gBACTC,WAAA,EAAaA;;;;AAKvB","ignoreList":[0]}},
    {"offset": {"line": 934, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 940, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/elements/Nav/NavHamburger/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const NavHamburger = registerClientReference(\n    function() { throw new Error(\"Attempted to call NavHamburger() from the server but NavHamburger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/elements/Nav/NavHamburger/index.js <module evaluation>\",\n    \"NavHamburger\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,eAAe,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,mPACA","ignoreList":[0]}},
    {"offset": {"line": 948, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 954, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/elements/Nav/NavHamburger/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const NavHamburger = registerClientReference(\n    function() { throw new Error(\"Attempted to call NavHamburger() from the server but NavHamburger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/elements/Nav/NavHamburger/index.js\",\n    \"NavHamburger\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,eAAe,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,+NACA","ignoreList":[0]}},
    {"offset": {"line": 962, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 968, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/elements/Nav/NavHamburger/index.tsx"],"sourcesContent":["'use client'\nimport { Hamburger, useNav } from '@payloadcms/ui'\nimport React from 'react'\n\nexport const NavHamburger: React.FC<{\n  baseClass?: string\n}> = ({ baseClass }) => {\n  const { navOpen, setNavOpen } = useNav()\n\n  return (\n    <button\n      className={`${baseClass}__mobile-close`}\n      onClick={() => {\n        setNavOpen(false)\n      }}\n      tabIndex={!navOpen ? -1 : undefined}\n      type=\"button\"\n    >\n      <Hamburger isActive />\n    </button>\n  )\n}\n"],"names":["c","_c","Hamburger","useNav","React","NavHamburger","t0","$","baseClass","navOpen","setNavOpen","t1","t2","t3","undefined","t4","_jsx","className","onClick","tabIndex","type","children","isActive"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 972, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 978, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/elements/Nav/NavWrapper/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const NavWrapper = registerClientReference(\n    function() { throw new Error(\"Attempted to call NavWrapper() from the server but NavWrapper is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/elements/Nav/NavWrapper/index.js <module evaluation>\",\n    \"NavWrapper\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,aAAa,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,iPACA","ignoreList":[0]}},
    {"offset": {"line": 986, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 992, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/elements/Nav/NavWrapper/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const NavWrapper = registerClientReference(\n    function() { throw new Error(\"Attempted to call NavWrapper() from the server but NavWrapper is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/elements/Nav/NavWrapper/index.js\",\n    \"NavWrapper\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,aAAa,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,6NACA","ignoreList":[0]}},
    {"offset": {"line": 1000, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1006, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/elements/Nav/NavWrapper/index.tsx"],"sourcesContent":["'use client'\nimport { useNav } from '@payloadcms/ui'\nimport React from 'react'\n\nimport './index.scss'\n\nexport const NavWrapper: React.FC<{\n  baseClass?: string\n  children: React.ReactNode\n}> = (props) => {\n  const { baseClass, children } = props\n\n  const { hydrated, navOpen, navRef, shouldAnimate } = useNav()\n\n  return (\n    <aside\n      className={[\n        baseClass,\n        navOpen && `${baseClass}--nav-open`,\n        shouldAnimate && `${baseClass}--nav-animate`,\n        hydrated && `${baseClass}--nav-hydrated`,\n      ]\n        .filter(Boolean)\n        .join(' ')}\n      inert={!navOpen ? true : undefined}\n    >\n      <div className={`${baseClass}__scroll`} ref={navRef}>\n        {children}\n      </div>\n    </aside>\n  )\n}\n"],"names":["c","_c","useNav","React","NavWrapper","props","$","baseClass","children","hydrated","navOpen","navRef","shouldAnimate","t0","t1","t2","t3","filter","Boolean","t4","join","t5","undefined","t6","t7","_jsx","className","inert","ref"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 1010, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1016, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/elements/Nav/index.client.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const DefaultNavClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call DefaultNavClient() from the server but DefaultNavClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/elements/Nav/index.client.js <module evaluation>\",\n    \"DefaultNavClient\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,mBAAmB,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAClD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,6OACA","ignoreList":[0]}},
    {"offset": {"line": 1024, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1030, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/elements/Nav/index.client.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const DefaultNavClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call DefaultNavClient() from the server but DefaultNavClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/elements/Nav/index.client.js\",\n    \"DefaultNavClient\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,mBAAmB,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAClD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,yNACA","ignoreList":[0]}},
    {"offset": {"line": 1038, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1044, "column": 0}, "map": {"version":3,"file":"index.client.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/elements/Nav/index.client.tsx"],"sourcesContent":["'use client'\n\nimport type { groupNavItems } from '@payloadcms/ui/shared'\nimport type { NavPreferences } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\nimport { NavGroup, useConfig, useTranslation } from '@payloadcms/ui'\nimport { EntityType, formatAdminURL } from '@payloadcms/ui/shared'\nimport LinkWithDefault from 'next/link.js'\nimport { usePathname } from 'next/navigation.js'\nimport React, { Fragment } from 'react'\n\nconst baseClass = 'nav'\n\nexport const DefaultNavClient: React.FC<{\n  groups: ReturnType<typeof groupNavItems>\n  navPreferences: NavPreferences\n}> = ({ groups, navPreferences }) => {\n  const pathname = usePathname()\n\n  const {\n    config: {\n      routes: { admin: adminRoute },\n    },\n  } = useConfig()\n\n  const { i18n } = useTranslation()\n\n  return (\n    <Fragment>\n      {groups.map(({ entities, label }, key) => {\n        return (\n          <NavGroup isOpen={navPreferences?.groups?.[label]?.open} key={key} label={label}>\n            {entities.map(({ slug, type, label }, i) => {\n              let href: string\n              let id: string\n\n              if (type === EntityType.collection) {\n                href = formatAdminURL({ adminRoute, path: `/collections/${slug}` })\n                id = `nav-${slug}`\n              }\n\n              if (type === EntityType.global) {\n                href = formatAdminURL({ adminRoute, path: `/globals/${slug}` })\n                id = `nav-global-${slug}`\n              }\n\n              const Link = (LinkWithDefault.default ||\n                LinkWithDefault) as typeof LinkWithDefault.default\n\n              const LinkElement = Link || 'a'\n              const activeCollection =\n                pathname.startsWith(href) && ['/', undefined].includes(pathname[href.length])\n\n              return (\n                <LinkElement\n                  className={[`${baseClass}__link`, activeCollection && `active`]\n                    .filter(Boolean)\n                    .join(' ')}\n                  href={href}\n                  id={id}\n                  key={i}\n                  prefetch={Link ? false : undefined}\n                >\n                  {activeCollection && <div className={`${baseClass}__link-indicator`} />}\n                  <span className={`${baseClass}__link-label`}>{getTranslation(label, i18n)}</span>\n                </LinkElement>\n              )\n            })}\n          </NavGroup>\n        )\n      })}\n    </Fragment>\n  )\n}\n"],"names":["c","_c","getTranslation","NavGroup","useConfig","useTranslation","EntityType","formatAdminURL","LinkWithDefault","usePathname","React","Fragment","baseClass","DefaultNavClient","t0","$","groups","navPreferences","pathname","config","t1","routes","t2","admin","adminRoute","i18n","t3","t4","t5","key","entities","label","_jsx","isOpen","open","children","map","t6","i","slug","type","label_0","href","id","collection","global","Link","default","LinkElement","activeCollection","startsWith","undefined","includes","length","_jsxs","className","filter","Boolean","join","prefetch"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 1048, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1054, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/elements/Nav/index.tsx"],"sourcesContent":["import type { EntityToGroup } from '@payloadcms/ui/shared'\nimport type { ServerProps } from 'payload'\n\nimport { Logout } from '@payloadcms/ui'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { EntityType, groupNavItems } from '@payloadcms/ui/shared'\nimport React from 'react'\n\nimport './index.scss'\nimport { NavHamburger } from './NavHamburger/index.js'\nimport { NavWrapper } from './NavWrapper/index.js'\n\nconst baseClass = 'nav'\n\nimport { getNavPrefs } from './getNavPrefs.js'\nimport { DefaultNavClient } from './index.client.js'\n\nexport type NavProps = ServerProps\n\nexport const DefaultNav: React.FC<NavProps> = async (props) => {\n  const {\n    documentSubViewType,\n    i18n,\n    locale,\n    params,\n    payload,\n    permissions,\n    searchParams,\n    user,\n    viewType,\n    visibleEntities,\n  } = props\n\n  if (!payload?.config) {\n    return null\n  }\n\n  const {\n    admin: {\n      components: { afterNavLinks, beforeNavLinks, logout },\n    },\n    collections,\n    globals,\n  } = payload.config\n\n  const groups = groupNavItems(\n    [\n      ...collections\n        .filter(({ slug }) => visibleEntities.collections.includes(slug))\n        .map(\n          (collection) =>\n            ({\n              type: EntityType.collection,\n              entity: collection,\n            }) satisfies EntityToGroup,\n        ),\n      ...globals\n        .filter(({ slug }) => visibleEntities.globals.includes(slug))\n        .map(\n          (global) =>\n            ({\n              type: EntityType.global,\n              entity: global,\n            }) satisfies EntityToGroup,\n        ),\n    ],\n    permissions,\n    i18n,\n  )\n\n  const navPreferences = await getNavPrefs({ payload, user })\n\n  const LogoutComponent = RenderServerComponent({\n    clientProps: {\n      documentSubViewType,\n      viewType,\n    },\n    Component: logout?.Button,\n    Fallback: Logout,\n    importMap: payload.importMap,\n    serverProps: {\n      i18n,\n      locale,\n      params,\n      payload,\n      permissions,\n      searchParams,\n      user,\n    },\n  })\n\n  return (\n    <NavWrapper baseClass={baseClass}>\n      <nav className={`${baseClass}__wrap`}>\n        {RenderServerComponent({\n          clientProps: {\n            documentSubViewType,\n            viewType,\n          },\n          Component: beforeNavLinks,\n          importMap: payload.importMap,\n          serverProps: {\n            i18n,\n            locale,\n            params,\n            payload,\n            permissions,\n            searchParams,\n            user,\n          },\n        })}\n        <DefaultNavClient groups={groups} navPreferences={navPreferences} />\n        {RenderServerComponent({\n          clientProps: {\n            documentSubViewType,\n            viewType,\n          },\n          Component: afterNavLinks,\n          importMap: payload.importMap,\n          serverProps: {\n            i18n,\n            locale,\n            params,\n            payload,\n            permissions,\n            searchParams,\n            user,\n          },\n        })}\n        <div className={`${baseClass}__controls`}>{LogoutComponent}</div>\n      </nav>\n      <div className={`${baseClass}__header`}>\n        <div className={`${baseClass}__header-content`}>\n          <NavHamburger baseClass={baseClass} />\n        </div>\n      </div>\n    </NavWrapper>\n  )\n}\n"],"names":["Logout","RenderServerComponent","EntityType","groupNavItems","React","NavHamburger","NavWrapper","baseClass","getNavPrefs","DefaultNavClient","DefaultNav","props","documentSubViewType","i18n","locale","params","payload","permissions","searchParams","user","viewType","visibleEntities","config","admin","components","afterNavLinks","beforeNavLinks","logout","collections","globals","groups","filter","slug","includes","map","collection","type","entity","global","navPreferences","LogoutComponent","clientProps","Component","Button","Fallback","importMap","serverProps","_jsxs","className","_jsx"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1176, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1182, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/templates/Default/NavHamburger/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const NavHamburger = registerClientReference(\n    function() { throw new Error(\"Attempted to call NavHamburger() from the server but NavHamburger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/templates/Default/NavHamburger/index.js <module evaluation>\",\n    \"NavHamburger\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,eAAe,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,wPACA","ignoreList":[0]}},
    {"offset": {"line": 1190, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1196, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/templates/Default/NavHamburger/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const NavHamburger = registerClientReference(\n    function() { throw new Error(\"Attempted to call NavHamburger() from the server but NavHamburger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/templates/Default/NavHamburger/index.js\",\n    \"NavHamburger\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,eAAe,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,oOACA","ignoreList":[0]}},
    {"offset": {"line": 1204, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1210, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/templates/Default/NavHamburger/index.tsx"],"sourcesContent":["'use client'\nimport { Hamburger, useNav } from '@payloadcms/ui'\nimport React from 'react'\n\nexport const NavHamburger: React.FC = () => {\n  const { navOpen } = useNav()\n  return <Hamburger closeIcon=\"collapse\" isActive={navOpen} />\n}\n"],"names":["c","_c","Hamburger","useNav","React","NavHamburger","$","navOpen","t0","_jsx","closeIcon","isActive"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 1214, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1220, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/templates/Default/Wrapper/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Wrapper = registerClientReference(\n    function() { throw new Error(\"Attempted to call Wrapper() from the server but Wrapper is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/templates/Default/Wrapper/index.js <module evaluation>\",\n    \"Wrapper\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,UAAU,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EACzC;IAAa,MAAM,IAAI,MAAM;AAA8N,GAC3P,mPACA","ignoreList":[0]}},
    {"offset": {"line": 1228, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1234, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/templates/Default/Wrapper/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Wrapper = registerClientReference(\n    function() { throw new Error(\"Attempted to call Wrapper() from the server but Wrapper is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/templates/Default/Wrapper/index.js\",\n    \"Wrapper\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,UAAU,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EACzC;IAAa,MAAM,IAAI,MAAM;AAA8N,GAC3P,+NACA","ignoreList":[0]}},
    {"offset": {"line": 1242, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1248, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/templates/Default/Wrapper/index.tsx"],"sourcesContent":["'use client'\nimport { useNav } from '@payloadcms/ui'\nimport React from 'react'\n\nimport './index.scss'\n\nexport const Wrapper: React.FC<{\n  baseClass?: string\n  children?: React.ReactNode\n  className?: string\n}> = (props) => {\n  const { baseClass, children, className } = props\n  const { hydrated, navOpen, shouldAnimate } = useNav()\n\n  return (\n    <div\n      className={[\n        baseClass,\n        className,\n        navOpen && `${baseClass}--nav-open`,\n        shouldAnimate && `${baseClass}--nav-animate`,\n        hydrated && `${baseClass}--nav-hydrated`,\n      ]\n        .filter(Boolean)\n        .join(' ')}\n    >\n      {children}\n    </div>\n  )\n}\n"],"names":["c","_c","useNav","React","Wrapper","props","$","baseClass","children","className","hydrated","navOpen","shouldAnimate","t0","t1","t2","t3","filter","Boolean","t4","join","t5","_jsx"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 1252, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1258, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/templates/Default/index.tsx"],"sourcesContent":["import type {\n  CustomComponent,\n  DocumentSubViewTypes,\n  ServerProps,\n  ViewTypes,\n  VisibleEntities,\n} from 'payload'\n\nimport {\n  ActionsProvider,\n  AppHeader,\n  BulkUploadProvider,\n  EntityVisibilityProvider,\n  NavToggler,\n} from '@payloadcms/ui'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\n\nimport './index.scss'\n\nimport React from 'react'\n\nimport { DefaultNav } from '../../elements/Nav/index.js'\nimport { NavHamburger } from './NavHamburger/index.js'\nimport { Wrapper } from './Wrapper/index.js'\n\nconst baseClass = 'template-default'\n\nexport type DefaultTemplateProps = {\n  children?: React.ReactNode\n  className?: string\n  collectionSlug?: string\n  docID?: number | string\n  documentSubViewType?: DocumentSubViewTypes\n  globalSlug?: string\n  viewActions?: CustomComponent[]\n  viewType?: ViewTypes\n  visibleEntities: VisibleEntities\n} & ServerProps\n\nexport const DefaultTemplate: React.FC<DefaultTemplateProps> = ({\n  children,\n  className,\n  collectionSlug,\n  docID,\n  documentSubViewType,\n  globalSlug,\n  i18n,\n  locale,\n  params,\n  payload,\n  permissions,\n  searchParams,\n  user,\n  viewActions,\n  viewType,\n  visibleEntities,\n}) => {\n  const {\n    admin: {\n      avatar,\n      components,\n      components: { header: CustomHeader, Nav: CustomNav } = {\n        header: undefined,\n        Nav: undefined,\n      },\n    } = {},\n  } = payload.config || {}\n\n  const clientProps = React.useMemo(() => {\n    return {\n      documentSubViewType,\n      viewType,\n      visibleEntities,\n    }\n  }, [documentSubViewType, viewType, visibleEntities])\n\n  const serverProps = React.useMemo<ServerProps>(\n    () => ({\n      collectionSlug,\n      docID,\n      globalSlug,\n      i18n,\n      locale,\n      params,\n      payload,\n      permissions,\n      searchParams,\n      user,\n    }),\n    [\n      i18n,\n      locale,\n      params,\n      payload,\n      permissions,\n      searchParams,\n      user,\n      globalSlug,\n      collectionSlug,\n      docID,\n    ],\n  )\n\n  const { Actions } = React.useMemo<{\n    Actions: Record<string, React.ReactNode>\n  }>(() => {\n    return {\n      Actions: viewActions\n        ? viewActions.reduce((acc, action) => {\n            if (action) {\n              if (typeof action === 'object') {\n                acc[action.path] = RenderServerComponent({\n                  clientProps,\n                  Component: action,\n                  importMap: payload.importMap,\n                  serverProps,\n                })\n              } else {\n                acc[action] = RenderServerComponent({\n                  clientProps,\n                  Component: action,\n                  importMap: payload.importMap,\n                  serverProps,\n                })\n              }\n            }\n\n            return acc\n          }, {})\n        : undefined,\n    }\n  }, [payload, serverProps, viewActions, clientProps])\n\n  const NavComponent = RenderServerComponent({\n    clientProps,\n    Component: CustomNav,\n    Fallback: DefaultNav,\n    importMap: payload.importMap,\n    serverProps,\n  })\n\n  return (\n    <EntityVisibilityProvider visibleEntities={visibleEntities}>\n      <BulkUploadProvider>\n        <ActionsProvider Actions={Actions}>\n          {RenderServerComponent({\n            clientProps,\n            Component: CustomHeader,\n            importMap: payload.importMap,\n            serverProps,\n          })}\n          <div style={{ position: 'relative' }}>\n            <div className={`${baseClass}__nav-toggler-wrapper`} id=\"nav-toggler\">\n              <div className={`${baseClass}__nav-toggler-container`} id=\"nav-toggler\">\n                <NavToggler className={`${baseClass}__nav-toggler`}>\n                  <NavHamburger />\n                </NavToggler>\n              </div>\n            </div>\n            <Wrapper baseClass={baseClass} className={className}>\n              {NavComponent}\n              <div className={`${baseClass}__wrap`}>\n                <AppHeader\n                  CustomAvatar={\n                    avatar !== 'gravatar' && avatar !== 'default'\n                      ? RenderServerComponent({\n                          Component: avatar.Component,\n                          importMap: payload.importMap,\n                          serverProps,\n                        })\n                      : undefined\n                  }\n                  CustomIcon={\n                    components?.graphics?.Icon\n                      ? RenderServerComponent({\n                          Component: components.graphics.Icon,\n                          importMap: payload.importMap,\n                          serverProps,\n                        })\n                      : undefined\n                  }\n                />\n                {children}\n              </div>\n            </Wrapper>\n          </div>\n        </ActionsProvider>\n      </BulkUploadProvider>\n    </EntityVisibilityProvider>\n  )\n}\n"],"names":["ActionsProvider","AppHeader","BulkUploadProvider","EntityVisibilityProvider","NavToggler","RenderServerComponent","React","DefaultNav","NavHamburger","Wrapper","baseClass","DefaultTemplate","children","className","collectionSlug","docID","documentSubViewType","globalSlug","i18n","locale","params","payload","permissions","searchParams","user","viewActions","viewType","visibleEntities","admin","avatar","components","header","CustomHeader","Nav","CustomNav","undefined","config","clientProps","useMemo","serverProps","Actions","reduce","acc","action","path","Component","importMap","NavComponent","Fallback","_jsx","_jsxs","style","position","id","CustomAvatar","CustomIcon","graphics","Icon"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1412, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1418, "column": 0}, "map": {"version":3,"file":"getNextRequestI18n.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/utilities/getNextRequestI18n.ts"],"sourcesContent":["import type { ClientTranslationsObject, I18nClient } from '@payloadcms/translations'\n\nimport { initI18n } from '@payloadcms/translations'\nimport { cookies, headers } from 'next/headers.js'\nimport { getRequestLanguage, type SanitizedConfig } from 'payload'\n\n/**\n * In the context of Next.js, this function initializes the i18n object for the current request.\n *\n * It must be called on the server side, and within the lifecycle of a request since it relies on the request headers and cookies.\n */\nexport const getNextRequestI18n = async <\n  // eslint-disable-next-line @typescript-eslint/no-empty-object-type\n  TAdditionalTranslations = {},\n  TAdditionalClientTranslationKeys extends string = never,\n>({\n  config,\n}: {\n  config: SanitizedConfig\n}): Promise<\n  [TAdditionalClientTranslationKeys] extends [never]\n    ? I18nClient\n    : TAdditionalTranslations extends object\n      ? I18nClient<TAdditionalTranslations, TAdditionalClientTranslationKeys>\n      : I18nClient<ClientTranslationsObject, TAdditionalClientTranslationKeys>\n> => {\n  return (await initI18n({\n    config: config.i18n,\n    context: 'client',\n    language: getRequestLanguage({ config, cookies: await cookies(), headers: await headers() }),\n  })) as any\n}\n"],"names":["initI18n","cookies","headers","getRequestLanguage","getNextRequestI18n","config","i18n","context","language"],"mappings":";;;AAEA,SAASA,QAAQ,QAAQ;AACzB,SAASC,OAAO,EAAEC,OAAO,QAAQ;;AACjC,SAASC,kBAAkB,QAA8B;;;;AAOlD,MAAMC,kBAAA,GAAqB,MAAAA,CAIhC,EACAC,MAAAA,EAGD;IAOC,OAAQ,8PAAML,WAAAA,AAAA,EAAS;QACrBK,MAAA,EAAQA,MAAA,CAAOC,IAAI;QACnBC,OAAA,EAAS;QACTC,QAAA,+XAAUL,qBAAAA,AAAA,EAAmB;YAAEE,MAAA;YAAQJ,OAAA,EAAS,8RAAMA,UAAAA,AAAA;YAAWC,OAAA,EAAS,8RAAMA,UAAAA,AAAA;QAAU;IAC5F;AACF","ignoreList":[0]}},
    {"offset": {"line": 1439, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1445, "column": 0}, "map": {"version":3,"file":"shared.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/utilities/initPage/shared.ts"],"sourcesContent":["import type { SanitizedConfig } from 'payload'\n\n// Routes that require admin authentication\nconst publicAdminRoutes: (keyof Pick<\n  SanitizedConfig['admin']['routes'],\n  'createFirstUser' | 'forgot' | 'inactivity' | 'login' | 'logout' | 'reset' | 'unauthorized'\n>)[] = [\n  'createFirstUser',\n  'forgot',\n  'login',\n  'logout',\n  'forgot',\n  'inactivity',\n  'unauthorized',\n  'reset',\n]\n\nexport const isAdminRoute = ({\n  adminRoute,\n  route,\n}: {\n  adminRoute: string\n  config: SanitizedConfig\n  route: string\n}): boolean => {\n  return route.startsWith(adminRoute)\n}\n\nexport const isPublicAdminRoute = ({\n  adminRoute,\n  config,\n  route,\n}: {\n  adminRoute: string\n  config: SanitizedConfig\n  route: string\n}): boolean => {\n  const isPublicAdminRoute = publicAdminRoutes.some((routeSegment) => {\n    const segment = config.admin?.routes?.[routeSegment] || routeSegment\n    const routeWithoutAdmin = getRouteWithoutAdmin({ adminRoute, route })\n\n    if (routeWithoutAdmin.startsWith(segment)) {\n      return true\n    } else if (routeWithoutAdmin.includes('/verify/')) {\n      return true\n    } else {\n      return false\n    }\n  })\n\n  return isPublicAdminRoute\n}\n\nexport const getRouteWithoutAdmin = ({\n  adminRoute,\n  route,\n}: {\n  adminRoute: string\n  route: string\n}): string => {\n  return adminRoute && adminRoute !== '/' ? route.replace(adminRoute, '') : route\n}\n"],"names":["publicAdminRoutes","isAdminRoute","adminRoute","route","startsWith","isPublicAdminRoute","config","some","routeSegment","segment","admin","routes","routeWithoutAdmin","getRouteWithoutAdmin","includes","replace"],"mappings":"AAEA,2CAAA;;;;;;AACA,MAAMA,iBAAA,GAGC;IACL;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,MAAMC,YAAA,GAAeA,CAAC,EAC3BC,UAAU,EACVC,KAAAA,EAKD;IACC,OAAOA,KAAA,CAAMC,UAAU,CAACF,UAAA;AAC1B;AAEO,MAAMG,kBAAA,GAAqBA,CAAC,EACjCH,UAAU,EACVI,MAAM,EACNH,KAAAA,EAKD;IACC,MAAME,kBAAA,GAAqBL,iBAAA,CAAkBO,IAAI,EAAEC,YAAA;QACjD,MAAMC,OAAA,GAAUH,MAAA,CAAOI,KAAK,EAAEC,MAAA,EAAA,CAASH,YAAA,CAAa,IAAIA,YAAA;QACxD,MAAMI,iBAAA,GAAoBC,oBAAA,CAAqB;YAAEX,UAAA;YAAYC;QAAM;QAEnE,IAAIS,iBAAA,CAAkBR,UAAU,CAACK,OAAA,GAAU;YACzC,OAAO;QACT,OAAO,IAAIG,iBAAA,CAAkBE,QAAQ,CAAC,aAAa;YACjD,OAAO;QACT,OAAO;YACL,OAAO;QACT;IACF;IAEA,OAAOT,kBAAA;AACT;AAEO,MAAMQ,oBAAA,GAAuBA,CAAC,EACnCX,UAAU,EACVC,KAAAA,EAID;IACC,OAAOD,UAAA,IAAcA,UAAA,KAAe,MAAMC,KAAA,CAAMY,OAAO,CAACb,UAAA,EAAY,MAAMC,KAAA;AAC5E","ignoreList":[0]}},
    {"offset": {"line": 1484, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1490, "column": 0}, "map": {"version":3,"file":"handleAdminPage.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/utilities/initPage/handleAdminPage.ts"],"sourcesContent":["import type {\n  Payload,\n  SanitizedCollectionConfig,\n  SanitizedConfig,\n  SanitizedGlobalConfig,\n} from 'payload'\n\nimport { fieldAffectsData } from 'payload/shared'\n\nimport { getRouteWithoutAdmin, isAdminRoute } from './shared.js'\n\ntype Args = {\n  adminRoute: string\n  config: SanitizedConfig\n  defaultIDType: Payload['db']['defaultIDType']\n  payload?: Payload\n  route: string\n}\n\ntype RouteInfo = {\n  collectionConfig?: SanitizedCollectionConfig\n  collectionSlug?: string\n  docID?: number | string\n  globalConfig?: SanitizedGlobalConfig\n  globalSlug?: string\n}\n\nexport function getRouteInfo({\n  adminRoute,\n  config,\n  defaultIDType,\n  payload,\n  route,\n}: Args): RouteInfo {\n  if (isAdminRoute({ adminRoute, config, route })) {\n    const routeWithoutAdmin = getRouteWithoutAdmin({ adminRoute, route })\n    const routeSegments = routeWithoutAdmin.split('/').filter(Boolean)\n    const [entityType, entitySlug, createOrID] = routeSegments\n    const collectionSlug = entityType === 'collections' ? entitySlug : undefined\n    const globalSlug = entityType === 'globals' ? entitySlug : undefined\n\n    let collectionConfig: SanitizedCollectionConfig | undefined\n    let globalConfig: SanitizedGlobalConfig | undefined\n    let idType = defaultIDType\n\n    if (collectionSlug) {\n      collectionConfig = payload.collections?.[collectionSlug]?.config\n    }\n\n    if (globalSlug) {\n      globalConfig = config.globals.find((global) => global.slug === globalSlug)\n    }\n\n    // If the collection is using a custom ID, we need to determine its type\n    if (collectionConfig && payload) {\n      if (payload.collections?.[collectionSlug]?.customIDType) {\n        idType = payload.collections?.[collectionSlug].customIDType\n      }\n    }\n\n    const docID =\n      collectionSlug && createOrID !== 'create'\n        ? idType === 'number'\n          ? Number(createOrID)\n          : createOrID\n        : undefined\n\n    return {\n      collectionConfig,\n      collectionSlug,\n      docID,\n      globalConfig,\n      globalSlug,\n    }\n  }\n\n  return {}\n}\n"],"names":["getRouteWithoutAdmin","isAdminRoute","getRouteInfo","adminRoute","config","defaultIDType","payload","route","routeWithoutAdmin","routeSegments","split","filter","Boolean","entityType","entitySlug","createOrID","collectionSlug","undefined","globalSlug","collectionConfig","globalConfig","idType","collections","globals","find","global","slug","customIDType","docID","Number"],"mappings":";;;AASA,SAASA,oBAAoB,EAAEC,YAAY,QAAQ;;AAkB5C,SAASC,aAAa,EAC3BC,UAAU,EACVC,MAAM,EACNC,aAAa,EACbC,OAAO,EACPC,KAAAA,EACK;IACL,2YAAIN,eAAAA,AAAA,EAAa;QAAEE,UAAA;QAAYC,MAAA;QAAQG;IAAM,IAAI;QAC/C,MAAMC,iBAAA,0YAAoBR,uBAAAA,AAAA,EAAqB;YAAEG,UAAA;YAAYI;QAAM;QACnE,MAAME,aAAA,GAAgBD,iBAAA,CAAkBE,KAAK,CAAC,KAAKC,MAAM,CAACC,OAAA;QAC1D,MAAM,CAACC,UAAA,EAAYC,UAAA,EAAYC,UAAA,CAAW,GAAGN,aAAA;QAC7C,MAAMO,cAAA,GAAiBH,UAAA,KAAe,gBAAgBC,UAAA,GAAaG,SAAA;QACnE,MAAMC,UAAA,GAAaL,UAAA,KAAe,YAAYC,UAAA,GAAaG,SAAA;QAE3D,IAAIE,gBAAA;QACJ,IAAIC,YAAA;QACJ,IAAIC,MAAA,GAAShB,aAAA;QAEb,IAAIW,cAAA,EAAgB;YAClBG,gBAAA,GAAmBb,OAAA,CAAQgB,WAAW,EAAA,CAAGN,cAAA,CAAe,EAAEZ,MAAA;QAC5D;QAEA,IAAIc,UAAA,EAAY;YACdE,YAAA,GAAehB,MAAA,CAAOmB,OAAO,CAACC,IAAI,EAAEC,MAAA,GAAWA,MAAA,CAAOC,IAAI,KAAKR,UAAA;QACjE;QAEA,wEAAA;QACA,IAAIC,gBAAA,IAAoBb,OAAA,EAAS;YAC/B,IAAIA,OAAA,CAAQgB,WAAW,EAAA,CAAGN,cAAA,CAAe,EAAEW,YAAA,EAAc;gBACvDN,MAAA,GAASf,OAAA,CAAQgB,WAAW,EAAA,CAAGN,cAAA,CAAe,CAACW,YAAA;YACjD;QACF;QAEA,MAAMC,KAAA,GACJZ,cAAA,IAAkBD,UAAA,KAAe,WAC7BM,MAAA,KAAW,WACTQ,MAAA,CAAOd,UAAA,IACPA,UAAA,GACFE,SAAA;QAEN,OAAO;YACLE,gBAAA;YACAH,cAAA;YACAY,KAAA;YACAR,YAAA;YACAF;QACF;IACF;IAEA,OAAO,CAAC;AACV","ignoreList":[0]}},
    {"offset": {"line": 1535, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1541, "column": 0}, "map": {"version":3,"file":"handleAuthRedirect.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/utilities/initPage/handleAuthRedirect.ts"],"sourcesContent":["import type { User } from 'payload'\n\nimport { formatAdminURL } from '@payloadcms/ui/shared'\nimport * as qs from 'qs-esm'\n\ntype Args = {\n  config\n  route: string\n  searchParams: { [key: string]: string | string[] }\n  user?: User\n}\n\nexport const handleAuthRedirect = ({ config, route, searchParams, user }: Args): string => {\n  const {\n    admin: {\n      routes: { login: loginRouteFromConfig, unauthorized: unauthorizedRoute },\n    },\n    routes: { admin: adminRoute },\n  } = config\n\n  if (searchParams && 'redirect' in searchParams) {\n    delete searchParams.redirect\n  }\n\n  const redirectRoute =\n    (route !== adminRoute ? route : '') +\n    (Object.keys(searchParams ?? {}).length > 0\n      ? `${qs.stringify(searchParams, { addQueryPrefix: true })}`\n      : '')\n\n  const redirectTo = formatAdminURL({\n    adminRoute,\n    path: user ? unauthorizedRoute : loginRouteFromConfig,\n  })\n\n  const parsedLoginRouteSearchParams = qs.parse(redirectTo.split('?')[1] ?? '')\n\n  const searchParamsWithRedirect = `${qs.stringify(\n    {\n      ...parsedLoginRouteSearchParams,\n      ...(redirectRoute ? { redirect: redirectRoute } : {}),\n    },\n    { addQueryPrefix: true },\n  )}`\n\n  return `${redirectTo.split('?')[0]}${searchParamsWithRedirect}`\n}\n"],"names":["formatAdminURL","qs","handleAuthRedirect","config","route","searchParams","user","admin","routes","login","loginRouteFromConfig","unauthorized","unauthorizedRoute","adminRoute","redirect","redirectRoute","Object","keys","length","stringify","addQueryPrefix","redirectTo","path","parsedLoginRouteSearchParams","parse","split","searchParamsWithRedirect"],"mappings":";;;AAGA,YAAYC,EAAA,MAAQ;AADpB,SAASD,cAAc,QAAQ;;;AAUxB,MAAME,kBAAA,GAAqBA,CAAC,EAAEC,MAAM,EAAEC,KAAK,EAAEC,YAAY,EAAEC,IAAAA,EAAY;IAC5E,MAAM,EACJC,KAAA,EAAO,EACLC,MAAA,EAAQ,EAAEC,KAAA,EAAOC,oBAAoB,EAAEC,YAAA,EAAcC,iBAAAA,EAAiB,EACvE,EACDJ,MAAA,EAAQ,EAAED,KAAA,EAAOM,UAAAA,EAAU,EAC5B,GAAGV,MAAA;IAEJ,IAAIE,YAAA,IAAgB,cAAcA,YAAA,EAAc;QAC9C,OAAOA,YAAA,CAAaS,QAAQ;IAC9B;IAEA,MAAMC,aAAA,GACJ,CAACX,KAAA,KAAUS,UAAA,GAAaT,KAAA,GAAQ,EAAC,IAAA,CAChCY,MAAA,CAAOC,IAAI,CAACZ,YAAA,IAAgB,CAAC,GAAGa,MAAM,GAAG,IACtC,GAAGjB,EAAA,8LAAGkB,SAAS,CAACd,YAAA,EAAc;QAAEe,cAAA,EAAgB;IAAK,IAAI,GACzD,EAAC;IAEP,MAAMC,UAAA,GAAarB,iZAAAA,AAAA,EAAe;QAChCa,UAAA;QACAS,IAAA,EAAMhB,IAAA,GAAOM,iBAAA,GAAoBF;IACnC;IAEA,MAAMa,4BAAA,GAA+BtB,EAAA,8LAAGuB,KAAK,CAACH,UAAA,CAAWI,KAAK,CAAC,IAAI,CAAC,EAAE,IAAI;IAE1E,MAAMC,wBAAA,GAA2B,GAAGzB,EAAA,8LAAGkB,SAAS,CAC9C;QACE,GAAGI,4BAA4B;QAC/B,GAAIR,aAAA,GAAgB;YAAED,QAAA,EAAUC;QAAc,IAAI,CAAC,CAAC;IACtD,GACA;QAAEK,cAAA,EAAgB;IAAK,IACtB;IAEH,OAAO,GAAGC,UAAA,CAAWI,KAAK,CAAC,IAAI,CAAC,EAAE,GAAGC,wBAAA,EAA0B;AACjE","ignoreList":[0]}},
    {"offset": {"line": 1571, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1577, "column": 0}, "map": {"version":3,"file":"isCustomAdminView.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/utilities/initPage/isCustomAdminView.ts"],"sourcesContent":["import type { AdminViewConfig, PayloadRequest, SanitizedConfig } from 'payload'\n\nimport { getRouteWithoutAdmin } from './shared.js'\n\n/**\n * Returns an array of views marked with 'public: true' in the config\n */\nexport const isCustomAdminView = ({\n  adminRoute,\n  config,\n  route,\n}: {\n  adminRoute: string\n  config: SanitizedConfig\n  route: string\n}): boolean => {\n  if (config.admin?.components?.views) {\n    const isPublicAdminRoute = Object.entries(config.admin.components.views).some(([_, view]) => {\n      const routeWithoutAdmin = getRouteWithoutAdmin({ adminRoute, route })\n\n      if (view.exact) {\n        if (routeWithoutAdmin === view.path) {\n          return true\n        }\n      } else {\n        if (routeWithoutAdmin.startsWith(view.path)) {\n          return true\n        }\n      }\n      return false\n    })\n    return isPublicAdminRoute\n  }\n  return false\n}\n"],"names":["getRouteWithoutAdmin","isCustomAdminView","adminRoute","config","route","admin","components","views","isPublicAdminRoute","Object","entries","some","_","view","routeWithoutAdmin","exact","path","startsWith"],"mappings":";;;AAEA,SAASA,oBAAoB,QAAQ;;AAK9B,MAAMC,iBAAA,GAAoBA,CAAC,EAChCC,UAAU,EACVC,MAAM,EACNC,KAAAA,EAKD;IACC,IAAID,MAAA,CAAOE,KAAK,EAAEC,UAAA,EAAYC,KAAA,EAAO;QACnC,MAAMC,kBAAA,GAAqBC,MAAA,CAAOC,OAAO,CAACP,MAAA,CAAOE,KAAK,CAACC,UAAU,CAACC,KAAK,EAAEI,IAAI,CAAC,CAAC,CAACC,CAAA,EAAGC,IAAA,CAAK;YACtF,MAAMC,iBAAA,0YAAoBd,uBAAAA,AAAA,EAAqB;gBAAEE,UAAA;gBAAYE;YAAM;YAEnE,IAAIS,IAAA,CAAKE,KAAK,EAAE;gBACd,IAAID,iBAAA,KAAsBD,IAAA,CAAKG,IAAI,EAAE;oBACnC,OAAO;gBACT;YACF,OAAO;gBACL,IAAIF,iBAAA,CAAkBG,UAAU,CAACJ,IAAA,CAAKG,IAAI,GAAG;oBAC3C,OAAO;gBACT;YACF;YACA,OAAO;QACT;QACA,OAAOR,kBAAA;IACT;IACA,OAAO;AACT","ignoreList":[0]}},
    {"offset": {"line": 1604, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1610, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/utilities/initPage/index.ts"],"sourcesContent":["import type { InitPageResult, VisibleEntities } from 'payload'\n\nimport { headers as getHeaders } from 'next/headers.js'\nimport { notFound } from 'next/navigation.js'\nimport { getPayload, isEntityHidden, parseCookies } from 'payload'\nimport * as qs from 'qs-esm'\n\nimport type { Args } from './types.js'\n\nimport { initReq } from '../initReq.js'\nimport { getRouteInfo } from './handleAdminPage.js'\nimport { handleAuthRedirect } from './handleAuthRedirect.js'\nimport { isCustomAdminView } from './isCustomAdminView.js'\nimport { isPublicAdminRoute } from './shared.js'\n\nexport const initPage = async ({\n  config: configPromise,\n  importMap,\n  route,\n  searchParams,\n}: Args): Promise<InitPageResult> => {\n  const headers = await getHeaders()\n  const payload = await getPayload({ config: configPromise, importMap })\n  const queryString = `${qs.stringify(searchParams ?? {}, { addQueryPrefix: true })}`\n\n  const {\n    collections,\n    globals,\n    routes: { admin: adminRoute },\n  } = payload.config\n\n  const cookies = parseCookies(headers)\n\n  const { locale, permissions, req } = await initReq(payload.config, {\n    fallbackLocale: false,\n    req: {\n      headers,\n      query: qs.parse(queryString, {\n        depth: 10,\n        ignoreQueryPrefix: true,\n      }),\n      url: `${payload.config.serverURL}${route}${searchParams ? queryString : ''}`,\n    },\n  })\n\n  const languageOptions = Object.entries(payload.config.i18n.supportedLanguages || {}).reduce(\n    (acc, [language, languageConfig]) => {\n      if (Object.keys(payload.config.i18n.supportedLanguages).includes(language)) {\n        acc.push({\n          label: languageConfig.translations.general.thisLanguage,\n          value: language,\n        })\n      }\n\n      return acc\n    },\n    [],\n  )\n\n  const visibleEntities: VisibleEntities = {\n    collections: collections\n      .map(({ slug, admin: { hidden } }) =>\n        !isEntityHidden({ hidden, user: req.user }) ? slug : null,\n      )\n      .filter(Boolean),\n    globals: globals\n      .map(({ slug, admin: { hidden } }) =>\n        !isEntityHidden({ hidden, user: req.user }) ? slug : null,\n      )\n      .filter(Boolean),\n  }\n\n  let redirectTo = null\n\n  if (\n    !permissions.canAccessAdmin &&\n    !isPublicAdminRoute({ adminRoute, config: payload.config, route }) &&\n    !isCustomAdminView({ adminRoute, config: payload.config, route })\n  ) {\n    redirectTo = handleAuthRedirect({\n      config: payload.config,\n      route,\n      searchParams,\n      user: req.user,\n    })\n  }\n\n  const { collectionConfig, collectionSlug, docID, globalConfig, globalSlug } = getRouteInfo({\n    adminRoute,\n    config: payload.config,\n    defaultIDType: payload.db.defaultIDType,\n    payload,\n    route,\n  })\n\n  if ((collectionSlug && !collectionConfig) || (globalSlug && !globalConfig)) {\n    return notFound()\n  }\n\n  return {\n    collectionConfig,\n    cookies,\n    docID,\n    globalConfig,\n    languageOptions,\n    locale,\n    permissions,\n    redirectTo,\n    req,\n    translations: req.i18n.translations,\n    visibleEntities,\n  }\n}\n"],"names":["headers","getHeaders","notFound","getPayload","isEntityHidden","parseCookies","qs","initReq","getRouteInfo","handleAuthRedirect","isCustomAdminView","isPublicAdminRoute","initPage","config","configPromise","importMap","route","searchParams","payload","queryString","stringify","addQueryPrefix","collections","globals","routes","admin","adminRoute","cookies","locale","permissions","req","fallbackLocale","query","parse","depth","ignoreQueryPrefix","url","serverURL","languageOptions","Object","entries","i18n","supportedLanguages","reduce","acc","language","languageConfig","keys","includes","push","label","translations","general","thisLanguage","value","visibleEntities","map","slug","hidden","user","filter","Boolean","redirectTo","canAccessAdmin","collectionConfig","collectionSlug","docID","globalConfig","globalSlug","defaultIDType","db"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1715, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1721, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/NotFound/index.client.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const NotFoundClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call NotFoundClient() from the server but NotFoundClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/NotFound/index.client.js <module evaluation>\",\n    \"NotFoundClient\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,iBAAiB,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAChD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,+OACA","ignoreList":[0]}},
    {"offset": {"line": 1729, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1735, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/NotFound/index.client.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const NotFoundClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call NotFoundClient() from the server but NotFoundClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/NotFound/index.client.js\",\n    \"NotFoundClient\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,iBAAiB,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAChD;IAAa,MAAM,IAAI,MAAM;AAA4O,GACzQ,2NACA","ignoreList":[0]}},
    {"offset": {"line": 1743, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1749, "column": 0}, "map": {"version":3,"file":"index.client.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/NotFound/index.client.tsx"],"sourcesContent":["'use client'\nimport { Button, Gutter, useConfig, useStepNav, useTranslation } from '@payloadcms/ui'\nimport LinkImport from 'next/link.js'\nimport React, { useEffect } from 'react'\n\nimport './index.scss'\n\nconst baseClass = 'not-found'\n\nconst Link = (LinkImport.default || LinkImport) as unknown as typeof LinkImport.default\n\nexport const NotFoundClient: React.FC<{\n  marginTop?: 'large'\n}> = (props) => {\n  const { marginTop = 'large' } = props\n\n  const { setStepNav } = useStepNav()\n  const { t } = useTranslation()\n\n  const {\n    config: {\n      routes: { admin: adminRoute },\n    },\n  } = useConfig()\n\n  useEffect(() => {\n    setStepNav([\n      {\n        label: t('general:notFound'),\n      },\n    ])\n  }, [setStepNav, t])\n\n  return (\n    <div\n      className={[baseClass, marginTop && `${baseClass}--margin-top-${marginTop}`]\n        .filter(Boolean)\n        .join(' ')}\n    >\n      <Gutter className={`${baseClass}__wrap`}>\n        <div className={`${baseClass}__content`}>\n          <h1>{t('general:nothingFound')}</h1>\n          <p>{t('general:sorryNotFound')}</p>\n        </div>\n        <Button\n          className={`${baseClass}__button`}\n          el=\"link\"\n          Link={Link}\n          size=\"large\"\n          to={adminRoute}\n        >\n          {t('general:backToDashboard')}\n        </Button>\n      </Gutter>\n    </div>\n  )\n}\n"],"names":["c","_c","Button","Gutter","useConfig","useStepNav","useTranslation","LinkImport","React","useEffect","baseClass","Link","default","NotFoundClient","props","$","marginTop","t0","undefined","setStepNav","t","config","t1","routes","t2","admin","adminRoute","t3","t4","label","t5","t6","filter","Boolean","t7","join","t8","_jsx","className","children","_jsxs","el","size","to"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 1753, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1759, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/NotFound/index.tsx"],"sourcesContent":["import type { I18n } from '@payloadcms/translations'\nimport type { Metadata } from 'next'\nimport type {\n  AdminViewComponent,\n  ImportMap,\n  PayloadServerReactComponent,\n  SanitizedConfig,\n} from 'payload'\n\nimport { formatAdminURL } from '@payloadcms/ui/shared'\nimport React from 'react'\n\nimport { DefaultTemplate } from '../../templates/Default/index.js'\nimport { getNextRequestI18n } from '../../utilities/getNextRequestI18n.js'\nimport { initPage } from '../../utilities/initPage/index.js'\nimport { NotFoundClient } from './index.client.js'\n\nexport const generatePageMetadata = async ({\n  config: configPromise,\n}: {\n  config: Promise<SanitizedConfig> | SanitizedConfig\n  params?: { [key: string]: string | string[] }\n}): Promise<Metadata> => {\n  const config = await configPromise\n\n  const i18n = await getNextRequestI18n({\n    config,\n  })\n\n  return {\n    title: i18n.t('general:notFound'),\n  }\n}\n\nexport type GenerateViewMetadata = (args: {\n  config: SanitizedConfig\n  i18n: I18n\n  params?: { [key: string]: string | string[] }\n}) => Promise<Metadata>\n\nexport const NotFoundPage = async ({\n  config: configPromise,\n  importMap,\n  params: paramsPromise,\n  searchParams: searchParamsPromise,\n}: {\n  config: Promise<SanitizedConfig>\n  importMap: ImportMap\n  params: Promise<{\n    segments: string[]\n  }>\n  searchParams: Promise<{\n    [key: string]: string | string[]\n  }>\n}) => {\n  const config = await configPromise\n  const { routes: { admin: adminRoute } = {} } = config\n\n  const searchParams = await searchParamsPromise\n  const initPageResult = await initPage({\n    config,\n    importMap,\n    redirectUnauthenticatedUser: true,\n    route: formatAdminURL({ adminRoute, path: '/not-found' }),\n    searchParams,\n  })\n\n  const params = await paramsPromise\n\n  if (!initPageResult.req.user || !initPageResult.permissions.canAccessAdmin) {\n    return <NotFoundClient />\n  }\n\n  return (\n    <DefaultTemplate\n      i18n={initPageResult.req.i18n}\n      locale={initPageResult.locale}\n      params={params}\n      payload={initPageResult.req.payload}\n      permissions={initPageResult.permissions}\n      searchParams={searchParams}\n      user={initPageResult.req.user}\n      visibleEntities={initPageResult.visibleEntities}\n    >\n      <NotFoundClient />\n    </DefaultTemplate>\n  )\n}\n\nexport const NotFoundView: PayloadServerReactComponent<AdminViewComponent> = () => {\n  return <NotFoundClient marginTop=\"large\" />\n}\n"],"names":["formatAdminURL","React","DefaultTemplate","getNextRequestI18n","initPage","NotFoundClient","generatePageMetadata","config","configPromise","i18n","title","t","NotFoundPage","importMap","params","paramsPromise","searchParams","searchParamsPromise","routes","admin","adminRoute","initPageResult","redirectUnauthenticatedUser","route","path","req","user","permissions","canAccessAdmin","_jsx","locale","payload","visibleEntities","NotFoundView","marginTop"],"mappings":";;;;;;AAUA,OAAOC,KAAA,MAAW;AAElB,SAASC,eAAe,QAAQ;AAChC,SAASC,kBAAkB,QAAQ;AACnC,SAASC,QAAQ,QAAQ;AACzB,SAASC,cAAc,QAAQ;AAN/B,SAASL,cAAc,QAAQ;;;;;;;;AAQxB,MAAMM,oBAAA,GAAuB,MAAAA,CAAO,EACzCC,MAAA,EAAQC,aAAAA,EAIT;IACC,MAAMD,MAAA,GAAS,MAAMC,aAAA;IAErB,MAAMC,IAAA,GAAO,4YAAMN,sBAAAA,AAAA,EAAmB;QACpCI;IACF;IAEA,OAAO;QACLG,KAAA,EAAOD,IAAA,CAAKE,CAAC,CAAC;IAChB;AACF;AAQO,MAAMC,YAAA,GAAe,MAAAA,CAAO,EACjCL,MAAA,EAAQC,aAAa,EACrBK,SAAS,EACTC,MAAA,EAAQC,aAAa,EACrBC,YAAA,EAAcC,mBAAAA,EAUf;IACC,MAAMV,MAAA,GAAS,MAAMC,aAAA;IACrB,MAAM,EAAEU,MAAA,EAAQ,EAAEC,KAAA,EAAOC,UAAAA,EAAY,GAAG,CAAC,CAAA,EAAG,GAAGb,MAAA;IAE/C,MAAMS,YAAA,GAAe,MAAMC,mBAAA;IAC3B,MAAMI,cAAA,GAAiB,4YAAMjB,WAAAA,AAAA,EAAS;QACpCG,MAAA;QACAM,SAAA;QACAS,2BAAA,EAA6B;QAC7BC,KAAA,kYAAOvB,iBAAAA,AAAA,EAAe;YAAEoB,UAAA;YAAYI,IAAA,EAAM;QAAa;QACvDR;IACF;IAEA,MAAMF,MAAA,GAAS,MAAMC,aAAA;IAErB,IAAI,CAACM,cAAA,CAAeI,GAAG,CAACC,IAAI,IAAI,CAACL,cAAA,CAAeM,WAAW,CAACC,cAAc,EAAE;QAC1E,OAAA,WAAA,GAAOC,sXAAAA,AAAA,0YAACxB,iBAAA,EAAA,CAAA;IACV;IAEA,OAAA,WAAA,mXACEwB,MAAAA,AAAA,mYAAC3B,kBAAA,EAAA;QACCO,IAAA,EAAMY,cAAA,CAAeI,GAAG,CAAChB,IAAI;QAC7BqB,MAAA,EAAQT,cAAA,CAAeS,MAAM;QAC7BhB,MAAA,EAAQA,MAAA;QACRiB,OAAA,EAASV,cAAA,CAAeI,GAAG,CAACM,OAAO;QACnCJ,WAAA,EAAaN,cAAA,CAAeM,WAAW;QACvCX,YAAA,EAAcA,YAAA;QACdU,IAAA,EAAML,cAAA,CAAeI,GAAG,CAACC,IAAI;QAC7BM,eAAA,EAAiBX,cAAA,CAAeW,eAAe;kBAE/C,WAAA,mXAAAH,MAAAA,AAAA,0YAACxB,iBAAA,EAAA,CAAA;;AAGP;AAEO,MAAM4B,YAAA,GAAgEA,CAAA;IAC3E,OAAA,WAAA,mXAAOJ,MAAAA,AAAA,0YAACxB,iBAAA,EAAA;QAAe6B,SAAA,EAAU;;AACnC","ignoreList":[0]}},
    {"offset": {"line": 1822, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1828, "column": 0}, "map": {"version":3,"file":"getDocPreferences.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Document/getDocPreferences.ts"],"sourcesContent":["import type { DocumentPreferences, Payload, TypedUser } from 'payload'\n\nimport { sanitizeID } from '@payloadcms/ui/shared'\n\ntype Args = {\n  collectionSlug?: string\n  globalSlug?: string\n  id?: number | string\n  payload: Payload\n  user: TypedUser\n}\n\nexport const getDocPreferences = async ({\n  id,\n  collectionSlug,\n  globalSlug,\n  payload,\n  user,\n}: Args): Promise<DocumentPreferences> => {\n  let preferencesKey\n\n  if (collectionSlug && id) {\n    preferencesKey = `collection-${collectionSlug}-${id}`\n  }\n\n  if (globalSlug) {\n    preferencesKey = `global-${globalSlug}`\n  }\n\n  if (preferencesKey) {\n    const preferencesResult = (await payload.find({\n      collection: 'payload-preferences',\n      depth: 0,\n      limit: 1,\n      where: {\n        and: [\n          {\n            key: {\n              equals: preferencesKey,\n            },\n          },\n          {\n            'user.relationTo': {\n              equals: user.collection,\n            },\n          },\n          {\n            'user.value': {\n              equals: sanitizeID(user.id),\n            },\n          },\n        ],\n      },\n    })) as unknown as { docs: { value: DocumentPreferences }[] }\n\n    if (preferencesResult?.docs?.[0]?.value) {\n      return preferencesResult.docs[0].value\n    }\n  }\n\n  return { fields: {} }\n}\n"],"names":["sanitizeID","getDocPreferences","id","collectionSlug","globalSlug","payload","user","preferencesKey","preferencesResult","find","collection","depth","limit","where","and","key","equals","docs","value","fields"],"mappings":";;;AAEA,SAASA,UAAU,QAAQ;;AAUpB,MAAMC,iBAAA,GAAoB,MAAAA,CAAO,EACtCC,EAAE,EACFC,cAAc,EACdC,UAAU,EACVC,OAAO,EACPC,IAAAA,EACK;IACL,IAAIC,cAAA;IAEJ,IAAIJ,cAAA,IAAkBD,EAAA,EAAI;QACxBK,cAAA,GAAiB,CAAA,WAAA,EAAcJ,cAAA,CAAA,CAAA,EAAkBD,EAAA,EAAI;IACvD;IAEA,IAAIE,UAAA,EAAY;QACdG,cAAA,GAAiB,CAAA,OAAA,EAAUH,UAAA,EAAY;IACzC;IAEA,IAAIG,cAAA,EAAgB;QAClB,MAAMC,iBAAA,GAAqB,MAAMH,OAAA,CAAQI,IAAI,CAAC;YAC5CC,UAAA,EAAY;YACZC,KAAA,EAAO;YACPC,KAAA,EAAO;YACPC,KAAA,EAAO;gBACLC,GAAA,EAAK;oBACH;wBACEC,GAAA,EAAK;4BACHC,MAAA,EAAQT;wBACV;oBACF;oBACA;wBACE,mBAAmB;4BACjBS,MAAA,EAAQV,IAAA,CAAKI,UAAAA;wBACf;oBACF;oBACA;wBACE,cAAc;4BACZM,MAAA,kYAAQhB,aAAAA,AAAA,EAAWM,IAAA,CAAKJ,EAAE;wBAC5B;oBACF;iBAAA;YAEJ;QACF;QAEA,IAAIM,iBAAA,EAAmBS,IAAA,EAAA,CAAO,EAAE,EAAEC,KAAA,EAAO;YACvC,OAAOV,iBAAA,CAAkBS,IAAI,CAAC,EAAE,CAACC,KAAK;QACxC;IACF;IAEA,OAAO;QAAEC,MAAA,EAAQ,CAAC;IAAE;AACtB","ignoreList":[0]}},
    {"offset": {"line": 1874, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1880, "column": 0}, "map": {"version":3,"file":"getDocumentData.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Document/getDocumentData.ts"],"sourcesContent":["import { sanitizeID } from '@payloadcms/ui/shared'\nimport {\n  type Locale,\n  logError,\n  type Payload,\n  type PayloadRequest,\n  type TypedUser,\n  type TypeWithID,\n} from 'payload'\n\ntype Args = {\n  collectionSlug?: string\n  globalSlug?: string\n  id?: number | string\n  locale?: Locale\n  payload: Payload\n  req?: PayloadRequest\n  user?: TypedUser\n}\n\nexport const getDocumentData = async ({\n  id: idArg,\n  collectionSlug,\n  globalSlug,\n  locale,\n  payload,\n  req,\n  user,\n}: Args): Promise<null | Record<string, unknown> | TypeWithID> => {\n  const id = sanitizeID(idArg)\n  let resolvedData: Record<string, unknown> | TypeWithID = null\n\n  try {\n    if (collectionSlug && id) {\n      resolvedData = await payload.findByID({\n        id,\n        collection: collectionSlug,\n        depth: 0,\n        draft: true,\n        fallbackLocale: false,\n        locale: locale?.code,\n        overrideAccess: false,\n        req: {\n          query: req?.query,\n          search: req?.search,\n          searchParams: req?.searchParams,\n        },\n        user,\n      })\n    }\n\n    if (globalSlug) {\n      resolvedData = await payload.findGlobal({\n        slug: globalSlug,\n        depth: 0,\n        draft: true,\n        fallbackLocale: false,\n        locale: locale?.code,\n        overrideAccess: false,\n        req: {\n          query: req?.query,\n          search: req?.search,\n          searchParams: req?.searchParams,\n        },\n        user,\n      })\n    }\n  } catch (err) {\n    logError({ err, payload })\n  }\n\n  return resolvedData\n}\n"],"names":["sanitizeID","logError","getDocumentData","id","idArg","collectionSlug","globalSlug","locale","payload","req","user","resolvedData","findByID","collection","depth","draft","fallbackLocale","code","overrideAccess","query","search","searchParams","findGlobal","slug","err"],"mappings":";;;AAAA,SAASA,UAAU,QAAQ;AAC3B,SAEEC,QAAQ,QAKH;;;AAYA,MAAMC,eAAA,GAAkB,MAAAA,CAAO,EACpCC,EAAA,EAAIC,KAAK,EACTC,cAAc,EACdC,UAAU,EACVC,MAAM,EACNC,OAAO,EACPC,GAAG,EACHC,IAAAA,EACK;IACL,MAAMP,EAAA,GAAKH,6YAAAA,AAAA,EAAWI,KAAA;IACtB,IAAIO,YAAA,GAAqD;IAEzD,IAAI;QACF,IAAIN,cAAA,IAAkBF,EAAA,EAAI;YACxBQ,YAAA,GAAe,MAAMH,OAAA,CAAQI,QAAQ,CAAC;gBACpCT,EAAA;gBACAU,UAAA,EAAYR,cAAA;gBACZS,KAAA,EAAO;gBACPC,KAAA,EAAO;gBACPC,cAAA,EAAgB;gBAChBT,MAAA,EAAQA,MAAA,EAAQU,IAAA;gBAChBC,cAAA,EAAgB;gBAChBT,GAAA,EAAK;oBACHU,KAAA,EAAOV,GAAA,EAAKU,KAAA;oBACZC,MAAA,EAAQX,GAAA,EAAKW,MAAA;oBACbC,YAAA,EAAcZ,GAAA,EAAKY;gBACrB;gBACAX;YACF;QACF;QAEA,IAAIJ,UAAA,EAAY;YACdK,YAAA,GAAe,MAAMH,OAAA,CAAQc,UAAU,CAAC;gBACtCC,IAAA,EAAMjB,UAAA;gBACNQ,KAAA,EAAO;gBACPC,KAAA,EAAO;gBACPC,cAAA,EAAgB;gBAChBT,MAAA,EAAQA,MAAA,EAAQU,IAAA;gBAChBC,cAAA,EAAgB;gBAChBT,GAAA,EAAK;oBACHU,KAAA,EAAOV,GAAA,EAAKU,KAAA;oBACZC,MAAA,EAAQX,GAAA,EAAKW,MAAA;oBACbC,YAAA,EAAcZ,GAAA,EAAKY;gBACrB;gBACAX;YACF;QACF;IACF,EAAE,OAAOc,GAAA,EAAK;2XACZvB,WAAAA,AAAA,EAAS;YAAEuB,GAAA;YAAKhB;QAAQ;IAC1B;IAEA,OAAOG,YAAA;AACT","ignoreList":[0]}},
    {"offset": {"line": 1932, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1938, "column": 0}, "map": {"version":3,"file":"getDocumentPermissions.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Document/getDocumentPermissions.tsx"],"sourcesContent":["import type {\n  Data,\n  PayloadRequest,\n  SanitizedCollectionConfig,\n  SanitizedDocumentPermissions,\n  SanitizedGlobalConfig,\n} from 'payload'\n\nimport {\n  hasSavePermission as getHasSavePermission,\n  isEditing as getIsEditing,\n} from '@payloadcms/ui/shared'\nimport { docAccessOperation, docAccessOperationGlobal, logError } from 'payload'\n\nexport const getDocumentPermissions = async (args: {\n  collectionConfig?: SanitizedCollectionConfig\n  data: Data\n  globalConfig?: SanitizedGlobalConfig\n  id?: number | string\n  req: PayloadRequest\n}): Promise<{\n  docPermissions: SanitizedDocumentPermissions\n  hasPublishPermission: boolean\n  hasSavePermission: boolean\n}> => {\n  const { id, collectionConfig, data = {}, globalConfig, req } = args\n\n  let docPermissions: SanitizedDocumentPermissions\n  let hasPublishPermission = false\n\n  if (collectionConfig) {\n    try {\n      docPermissions = await docAccessOperation({\n        id,\n        collection: {\n          config: collectionConfig,\n        },\n        req: {\n          ...req,\n          data: {\n            ...data,\n            _status: 'draft',\n          },\n        },\n      })\n\n      if (collectionConfig.versions?.drafts) {\n        hasPublishPermission = await docAccessOperation({\n          id,\n          collection: {\n            config: collectionConfig,\n          },\n          req: {\n            ...req,\n            data: {\n              ...data,\n              _status: 'published',\n            },\n          },\n        }).then((permissions) => permissions.update)\n      }\n    } catch (err) {\n      logError({ err, payload: req.payload })\n    }\n  }\n\n  if (globalConfig) {\n    try {\n      docPermissions = await docAccessOperationGlobal({\n        globalConfig,\n        req: {\n          ...req,\n          data,\n        },\n      })\n\n      if (globalConfig.versions?.drafts) {\n        hasPublishPermission = await docAccessOperationGlobal({\n          globalConfig,\n          req: {\n            ...req,\n            data: {\n              ...data,\n              _status: 'published',\n            },\n          },\n        }).then((permissions) => permissions.update)\n      }\n    } catch (err) {\n      logError({ err, payload: req.payload })\n    }\n  }\n\n  const hasSavePermission = getHasSavePermission({\n    collectionSlug: collectionConfig?.slug,\n    docPermissions,\n    globalSlug: globalConfig?.slug,\n    isEditing: getIsEditing({\n      id,\n      collectionSlug: collectionConfig?.slug,\n      globalSlug: globalConfig?.slug,\n    }),\n  })\n\n  return {\n    docPermissions,\n    hasPublishPermission,\n    hasSavePermission,\n  }\n}\n"],"names":["hasSavePermission","getHasSavePermission","isEditing","getIsEditing","docAccessOperation","docAccessOperationGlobal","logError","getDocumentPermissions","args","id","collectionConfig","data","globalConfig","req","docPermissions","hasPublishPermission","collection","config","_status","versions","drafts","then","permissions","update","err","payload","collectionSlug","slug","globalSlug"],"mappings":";;;AAYA,SAASI,kBAAkB,EAAEC,wBAAwB,EAAEC,QAAQ,QAAQ;;;AAJvE,SACEN,iBAAA,IAAqBC,oBAAoB,EACzCC,SAAA,IAAaC,YAAY,QACpB;;;AAGA,MAAMI,sBAAA,GAAyB,OAAOC,IAAA;IAW3C,MAAM,EAAEC,EAAE,EAAEC,gBAAgB,EAAEC,IAAA,GAAO,CAAC,CAAC,EAAEC,YAAY,EAAEC,GAAAA,EAAK,GAAGL,IAAA;IAE/D,IAAIM,cAAA;IACJ,IAAIC,oBAAA,GAAuB;IAE3B,IAAIL,gBAAA,EAAkB;QACpB,IAAI;YACFI,cAAA,GAAiB,0YAAMV,qBAAAA,AAAA,EAAmB;gBACxCK,EAAA;gBACAO,UAAA,EAAY;oBACVC,MAAA,EAAQP;gBACV;gBACAG,GAAA,EAAK;oBACH,GAAGA,GAAG;oBACNF,IAAA,EAAM;wBACJ,GAAGA,IAAI;wBACPO,OAAA,EAAS;oBACX;gBACF;YACF;YAEA,IAAIR,gBAAA,CAAiBS,QAAQ,EAAEC,MAAA,EAAQ;gBACrCL,oBAAA,GAAuB,0YAAMX,qBAAAA,AAAA,EAAmB;oBAC9CK,EAAA;oBACAO,UAAA,EAAY;wBACVC,MAAA,EAAQP;oBACV;oBACAG,GAAA,EAAK;wBACH,GAAGA,GAAG;wBACNF,IAAA,EAAM;4BACJ,GAAGA,IAAI;4BACPO,OAAA,EAAS;wBACX;oBACF;gBACF,GAAGG,IAAI,EAAEC,WAAA,GAAgBA,WAAA,CAAYC,MAAM;YAC7C;QACF,EAAE,OAAOC,GAAA,EAAK;+XACZlB,WAAAA,AAAA,EAAS;gBAAEkB,GAAA;gBAAKC,OAAA,EAASZ,GAAA,CAAIY,OAAAA;YAAQ;QACvC;IACF;IAEA,IAAIb,YAAA,EAAc;QAChB,IAAI;YACFE,cAAA,GAAiB,wcAAMT,2BAAAA,AAAA,EAAyB;gBAC9CO,YAAA;gBACAC,GAAA,EAAK;oBACH,GAAGA,GAAG;oBACNF;gBACF;YACF;YAEA,IAAIC,YAAA,CAAaO,QAAQ,EAAEC,MAAA,EAAQ;gBACjCL,oBAAA,GAAuB,wcAAMV,2BAAAA,AAAA,EAAyB;oBACpDO,YAAA;oBACAC,GAAA,EAAK;wBACH,GAAGA,GAAG;wBACNF,IAAA,EAAM;4BACJ,GAAGA,IAAI;4BACPO,OAAA,EAAS;wBACX;oBACF;gBACF,GAAGG,IAAI,EAAEC,WAAA,GAAgBA,WAAA,CAAYC,MAAM;YAC7C;QACF,EAAE,OAAOC,GAAA,EAAK;+XACZlB,WAAAA,AAAA,EAAS;gBAAEkB,GAAA;gBAAKC,OAAA,EAASZ,GAAA,CAAIY,OAAAA;YAAQ;QACvC;IACF;IAEA,MAAMzB,iBAAA,mYAAoBC,oBAAAA,AAAA,EAAqB;QAC7CyB,cAAA,EAAgBhB,gBAAA,EAAkBiB,IAAA;QAClCb,cAAA;QACAc,UAAA,EAAYhB,YAAA,EAAce,IAAA;QAC1BzB,SAAA,kYAAWC,YAAAA,AAAA,EAAa;YACtBM,EAAA;YACAiB,cAAA,EAAgBhB,gBAAA,EAAkBiB,IAAA;YAClCC,UAAA,EAAYhB,YAAA,EAAce;QAC5B;IACF;IAEA,OAAO;QACLb,cAAA;QACAC,oBAAA;QACAf;IACF;AACF","ignoreList":[0]}},
    {"offset": {"line": 2032, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2038, "column": 0}, "map": {"version":3,"file":"getIsLocked.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Document/getIsLocked.ts"],"sourcesContent":["import type {\n  PayloadRequest,\n  SanitizedCollectionConfig,\n  SanitizedGlobalConfig,\n  TypedUser,\n  Where,\n} from 'payload'\n\nimport { sanitizeID } from '@payloadcms/ui/shared'\n\ntype Args = {\n  collectionConfig?: SanitizedCollectionConfig\n  globalConfig?: SanitizedGlobalConfig\n  id?: number | string\n  isEditing: boolean\n  req: PayloadRequest\n}\n\ntype Result = Promise<{\n  currentEditor?: TypedUser\n  isLocked: boolean\n  lastUpdateTime?: number\n}>\n\nexport const getIsLocked = async ({\n  id,\n  collectionConfig,\n  globalConfig,\n  isEditing,\n  req,\n}: Args): Result => {\n  const entityConfig = collectionConfig || globalConfig\n\n  const entityHasLockingEnabled =\n    entityConfig?.lockDocuments !== undefined ? entityConfig?.lockDocuments : true\n\n  if (!entityHasLockingEnabled || !isEditing) {\n    return {\n      isLocked: false,\n    }\n  }\n\n  const where: Where = {}\n\n  if (globalConfig) {\n    where.globalSlug = {\n      equals: globalConfig.slug,\n    }\n  } else {\n    where.and = [\n      {\n        'document.value': {\n          equals: sanitizeID(id),\n        },\n      },\n      {\n        'document.relationTo': {\n          equals: collectionConfig.slug,\n        },\n      },\n    ]\n  }\n\n  const { docs } = await req.payload.find({\n    collection: 'payload-locked-documents',\n    depth: 1,\n    overrideAccess: false,\n    req,\n    where,\n  })\n\n  if (docs.length > 0) {\n    const newEditor = docs[0].user?.value\n    const lastUpdateTime = new Date(docs[0].updatedAt).getTime()\n\n    if (newEditor?.id !== req.user.id) {\n      return {\n        currentEditor: newEditor,\n        isLocked: true,\n        lastUpdateTime,\n      }\n    }\n  }\n\n  return {\n    isLocked: false,\n  }\n}\n"],"names":["sanitizeID","getIsLocked","id","collectionConfig","globalConfig","isEditing","req","entityConfig","entityHasLockingEnabled","lockDocuments","undefined","isLocked","where","globalSlug","equals","slug","and","docs","payload","find","collection","depth","overrideAccess","length","newEditor","user","value","lastUpdateTime","Date","updatedAt","getTime","currentEditor"],"mappings":";;;AAQA,SAASA,UAAU,QAAQ;;AAgBpB,MAAMC,WAAA,GAAc,MAAAA,CAAO,EAChCC,EAAE,EACFC,gBAAgB,EAChBC,YAAY,EACZC,SAAS,EACTC,GAAAA,EACK;IACL,MAAMC,YAAA,GAAeJ,gBAAA,IAAoBC,YAAA;IAEzC,MAAMI,uBAAA,GACJD,YAAA,EAAcE,aAAA,KAAkBC,SAAA,GAAYH,YAAA,EAAcE,aAAA,GAAgB;IAE5E,IAAI,CAACD,uBAAA,IAA2B,CAACH,SAAA,EAAW;QAC1C,OAAO;YACLM,QAAA,EAAU;QACZ;IACF;IAEA,MAAMC,KAAA,GAAe,CAAC;IAEtB,IAAIR,YAAA,EAAc;QAChBQ,KAAA,CAAMC,UAAU,GAAG;YACjBC,MAAA,EAAQV,YAAA,CAAaW,IAAAA;QACvB;IACF,OAAO;QACLH,KAAA,CAAMI,GAAG,GAAG;YACV;gBACE,kBAAkB;oBAChBF,MAAA,EAAQd,6YAAAA,AAAA,EAAWE,EAAA;gBACrB;YACF;YACA;gBACE,uBAAuB;oBACrBY,MAAA,EAAQX,gBAAA,CAAiBY,IAAAA;gBAC3B;YACF;SACD;IACH;IAEA,MAAM,EAAEE,IAAAA,EAAM,GAAG,MAAMX,GAAA,CAAIY,OAAO,CAACC,IAAI,CAAC;QACtCC,UAAA,EAAY;QACZC,KAAA,EAAO;QACPC,cAAA,EAAgB;QAChBhB,GAAA;QACAM;IACF;IAEA,IAAIK,IAAA,CAAKM,MAAM,GAAG,GAAG;QACnB,MAAMC,SAAA,GAAYP,IAAI,CAAC,EAAE,CAACQ,IAAI,EAAEC,KAAA;QAChC,MAAMC,cAAA,GAAiB,IAAIC,IAAA,CAAKX,IAAI,CAAC,EAAE,CAACY,SAAS,EAAEC,OAAO;QAE1D,IAAIN,SAAA,EAAWtB,EAAA,KAAOI,GAAA,CAAImB,IAAI,CAACvB,EAAE,EAAE;YACjC,OAAO;gBACL6B,aAAA,EAAeP,SAAA;gBACfb,QAAA,EAAU;gBACVgB;YACF;QACF;IACF;IAEA,OAAO;QACLhB,QAAA,EAAU;IACZ;AACF","ignoreList":[0]}},
    {"offset": {"line": 2092, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2098, "column": 0}, "map": {"version":3,"file":"meta.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/utilities/meta.ts"],"sourcesContent":["import type { Metadata } from 'next'\nimport type { IconConfig, MetaConfig } from 'payload'\n\nimport { payloadFaviconDark, payloadFaviconLight, staticOGImage } from '@payloadcms/ui/assets'\nimport * as qs from 'qs-esm'\n\nconst defaultOpenGraph = {\n  description:\n    'Payload is a headless CMS and application framework built with TypeScript, Node.js, and React.',\n  siteName: 'Payload App',\n  title: 'Payload App',\n}\n\nexport const meta = async (args: { serverURL: string } & MetaConfig): Promise<any> => {\n  const {\n    defaultOGImageType,\n    description,\n    icons: customIcons,\n    keywords,\n    openGraph: openGraphFromProps,\n    serverURL,\n    title,\n    titleSuffix,\n  } = args\n\n  const payloadIcons: IconConfig[] = [\n    {\n      type: 'image/png',\n      rel: 'icon',\n      sizes: '32x32',\n      url: typeof payloadFaviconDark === 'object' ? payloadFaviconDark?.src : payloadFaviconDark,\n    },\n    {\n      type: 'image/png',\n      media: '(prefers-color-scheme: dark)',\n      rel: 'icon',\n      sizes: '32x32',\n      url: typeof payloadFaviconLight === 'object' ? payloadFaviconLight?.src : payloadFaviconLight,\n    },\n  ]\n\n  let icons = payloadIcons\n\n  if (customIcons && typeof customIcons === 'object' && Array.isArray(customIcons)) {\n    icons = customIcons\n  }\n\n  const metaTitle = [title, titleSuffix].filter(Boolean).join(' ')\n\n  const ogTitle = `${typeof openGraphFromProps?.title === 'string' ? openGraphFromProps.title : title} ${titleSuffix}`\n\n  const mergedOpenGraph: Metadata['openGraph'] = {\n    ...(defaultOpenGraph || {}),\n    ...(defaultOGImageType === 'dynamic'\n      ? {\n          images: [\n            {\n              alt: ogTitle,\n              height: 630,\n              url: `/api/og${qs.stringify(\n                {\n                  description: openGraphFromProps?.description || defaultOpenGraph.description,\n                  title: ogTitle,\n                },\n                {\n                  addQueryPrefix: true,\n                },\n              )}`,\n              width: 1200,\n            },\n          ],\n        }\n      : {}),\n    ...(defaultOGImageType === 'static'\n      ? {\n          images: [\n            {\n              alt: ogTitle,\n              height: 480,\n              url: typeof staticOGImage === 'object' ? staticOGImage?.src : staticOGImage,\n              width: 640,\n            },\n          ],\n        }\n      : {}),\n    title: ogTitle,\n    ...(openGraphFromProps || {}),\n  }\n\n  return Promise.resolve({\n    description,\n    icons,\n    keywords,\n    metadataBase: new URL(\n      serverURL ||\n        process.env.PAYLOAD_PUBLIC_SERVER_URL ||\n        `http://localhost:${process.env.PORT || 3000}`,\n    ),\n    openGraph: mergedOpenGraph,\n    title: metaTitle,\n  })\n}\n"],"names":["payloadFaviconDark","payloadFaviconLight","staticOGImage","qs","defaultOpenGraph","description","siteName","title","meta","args","defaultOGImageType","icons","customIcons","keywords","openGraph","openGraphFromProps","serverURL","titleSuffix","payloadIcons","type","rel","sizes","url","src","media","Array","isArray","metaTitle","filter","Boolean","join","ogTitle","mergedOpenGraph","images","alt","height","stringify","addQueryPrefix","width","Promise","resolve","metadataBase","URL","process","env","PAYLOAD_PUBLIC_SERVER_URL","PORT"],"mappings":";;;AAGA,SAASA,kBAAkB,EAAEC,mBAAmB,EAAEC,aAAa,QAAQ;;AACvE,YAAYC,EAAA,MAAQ;;;;AAEpB,MAAMC,gBAAA,GAAmB;IACvBC,WAAA,EACE;IACFC,QAAA,EAAU;IACVC,KAAA,EAAO;AACT;AAEO,MAAMC,IAAA,GAAO,OAAOC,IAAA;IACzB,MAAM,EACJC,kBAAkB,EAClBL,WAAW,EACXM,KAAA,EAAOC,WAAW,EAClBC,QAAQ,EACRC,SAAA,EAAWC,kBAAkB,EAC7BC,SAAS,EACTT,KAAK,EACLU,WAAAA,EACD,GAAGR,IAAA;IAEJ,MAAMS,YAAA,GAA6B;QACjC;YACEC,IAAA,EAAM;YACNC,GAAA,EAAK;YACLC,KAAA,EAAO;YACPC,GAAA,EAAK,2bAAOtB,qBAAA,KAAuB,+bAAWA,qBAAA,EAAoBuB,GAAA,ubAAMvB,qBAAAA;QAC1E;QACA;YACEmB,IAAA,EAAM;YACNK,KAAA,EAAO;YACPJ,GAAA,EAAK;YACLC,KAAA,EAAO;YACPC,GAAA,EAAK,6bAAOrB,sBAAA,KAAwB,WAAWA,4cAAA,EAAqBsB,GAAA,ybAAMtB,sBAAAA;QAC5E;KACD;IAED,IAAIU,KAAA,GAAQO,YAAA;IAEZ,IAAIN,WAAA,IAAe,OAAOA,WAAA,KAAgB,YAAYa,KAAA,CAAMC,OAAO,CAACd,WAAA,GAAc;QAChFD,KAAA,GAAQC,WAAA;IACV;IAEA,MAAMe,SAAA,GAAY;QAACpB,KAAA;QAAOU,WAAA;KAAY,CAACW,MAAM,CAACC,OAAA,EAASC,IAAI,CAAC;IAE5D,MAAMC,OAAA,GAAU,GAAG,OAAOhB,kBAAA,EAAoBR,KAAA,KAAU,WAAWQ,kBAAA,CAAmBR,KAAK,GAAGA,KAAA,CAAA,CAAA,EAASU,WAAA,EAAa;IAEpH,MAAMe,eAAA,GAAyC;QAC7C,GAAI5B,gBAAA,IAAoB,CAAC,CAAC;QAC1B,GAAIM,kBAAA,KAAuB,YACvB;YACEuB,MAAA,EAAQ;gBACN;oBACEC,GAAA,EAAKH,OAAA;oBACLI,MAAA,EAAQ;oBACRb,GAAA,EAAK,CAAA,OAAA,EAAUnB,EAAA,8LAAGiC,SAAS,CACzB;wBACE/B,WAAA,EAAaU,kBAAA,EAAoBV,WAAA,IAAeD,gBAAA,CAAiBC,WAAW;wBAC5EE,KAAA,EAAOwB;oBACT,GACA;wBACEM,cAAA,EAAgB;oBAClB,IACC;oBACHC,KAAA,EAAO;gBACT;aAAA;QAEJ,IACA,CAAC,CAAC;QACN,GAAI5B,kBAAA,KAAuB,WACvB;YACEuB,MAAA,EAAQ;gBACN;oBACEC,GAAA,EAAKH,OAAA;oBACLI,MAAA,EAAQ;oBACRb,GAAA,EAAK,ibAAOpB,gBAAA,KAAkB,qbAAWA,gBAAA,EAAeqB,GAAA,4aAAMrB,iBAAA;oBAC9DoC,KAAA,EAAO;gBACT;aAAA;QAEJ,IACA,CAAC,CAAC;QACN/B,KAAA,EAAOwB,OAAA;QACP,GAAIhB,kBAAA,IAAsB,CAAC,CAAC;IAC9B;IAEA,OAAOwB,OAAA,CAAQC,OAAO,CAAC;QACrBnC,WAAA;QACAM,KAAA;QACAE,QAAA;QACA4B,YAAA,EAAc,IAAIC,GAAA,CAChB1B,SAAA,IACE2B,OAAA,CAAQC,GAAG,CAACC,yBAAyB,IACrC,CAAA,iBAAA,EAAoBF,OAAA,CAAQC,GAAG,CAACE,IAAI,IAAI,MAAM;QAElDhC,SAAA,EAAWkB,eAAA;QACXzB,KAAA,EAAOoB;IACT;AACF","ignoreList":[0]}},
    {"offset": {"line": 2177, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2183, "column": 0}, "map": {"version":3,"file":"meta.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/API/meta.ts"],"sourcesContent":["import { getTranslation } from '@payloadcms/translations'\n\nimport type { GenerateEditViewMetadata } from '../Document/getMetaBySegment.js'\n\nimport { meta } from '../../utilities/meta.js'\n\nexport const generateMetadata: GenerateEditViewMetadata = async ({\n  collectionConfig,\n  config,\n  globalConfig,\n  i18n,\n}) => {\n  const entityLabel = collectionConfig\n    ? getTranslation(collectionConfig.labels.singular, i18n)\n    : globalConfig\n      ? getTranslation(globalConfig.label, i18n)\n      : ''\n\n  return Promise.resolve(\n    meta({\n      ...(config.admin.meta || {}),\n      description: `API - ${entityLabel}`,\n      keywords: 'API',\n      serverURL: config.serverURL,\n      title: `API - ${entityLabel}`,\n      ...(collectionConfig\n        ? {\n            ...(collectionConfig?.admin.meta || {}),\n            ...(collectionConfig?.admin?.components?.views?.edit?.api?.meta || {}),\n          }\n        : {}),\n      ...(globalConfig\n        ? {\n            ...(globalConfig?.admin.meta || {}),\n            ...(globalConfig?.admin?.components?.views?.edit?.api?.meta || {}),\n          }\n        : {}),\n    }),\n  )\n}\n"],"names":["getTranslation","meta","generateMetadata","collectionConfig","config","globalConfig","i18n","entityLabel","labels","singular","label","Promise","resolve","admin","description","keywords","serverURL","title","components","views","edit","api"],"mappings":";;;AAAA,SAASA,cAAc,QAAQ;AAI/B,SAASC,IAAI,QAAQ;;;;AAEd,MAAMC,gBAAA,GAA6C,MAAAA,CAAO,EAC/DC,gBAAgB,EAChBC,MAAM,EACNC,YAAY,EACZC,IAAAA,EACD;IACC,MAAMC,WAAA,GAAcJ,gBAAA,OAChBH,+QAAAA,AAAA,EAAeG,gBAAA,CAAiBK,MAAM,CAACC,QAAQ,EAAEH,IAAA,IACjDD,YAAA,qQACEL,iBAAAA,AAAA,EAAeK,YAAA,CAAaK,KAAK,EAAEJ,IAAA,IACnC;IAEN,OAAOK,OAAA,CAAQC,OAAO,0XACpBX,OAAAA,AAAA,EAAK;QACH,GAAIG,MAAA,CAAOS,KAAK,CAACZ,IAAI,IAAI,CAAC,CAAC;QAC3Ba,WAAA,EAAa,CAAA,MAAA,EAASP,WAAA,EAAa;QACnCQ,QAAA,EAAU;QACVC,SAAA,EAAWZ,MAAA,CAAOY,SAAS;QAC3BC,KAAA,EAAO,CAAA,MAAA,EAASV,WAAA,EAAa;QAC7B,GAAIJ,gBAAA,GACA;YACE,GAAIA,gBAAA,EAAkBU,KAAA,CAAMZ,IAAA,IAAQ,CAAC,CAAC;YACtC,GAAIE,gBAAA,EAAkBU,KAAA,EAAOK,UAAA,EAAYC,KAAA,EAAOC,IAAA,EAAMC,GAAA,EAAKpB,IAAA,IAAQ,CAAC,CAAC;QACvE,IACA,CAAC,CAAC;QACN,GAAII,YAAA,GACA;YACE,GAAIA,YAAA,EAAcQ,KAAA,CAAMZ,IAAA,IAAQ,CAAC,CAAC;YAClC,GAAII,YAAA,EAAcQ,KAAA,EAAOK,UAAA,EAAYC,KAAA,EAAOC,IAAA,EAAMC,GAAA,EAAKpB,IAAA,IAAQ,CAAC,CAAC;QACnE,IACA,CAAC,CAAC;IACR;AAEJ","ignoreList":[0]}},
    {"offset": {"line": 2209, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2215, "column": 0}, "map": {"version":3,"file":"meta.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Edit/meta.ts"],"sourcesContent":["import type { Metadata } from 'next'\nimport type { MetaConfig } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\n\nimport type { GenerateEditViewMetadata } from '../Document/getMetaBySegment.js'\n\nimport { meta } from '../../utilities/meta.js'\n\nexport const generateMetadata: GenerateEditViewMetadata = async ({\n  collectionConfig,\n  config,\n  globalConfig,\n  i18n,\n  isEditing,\n  view = 'default',\n}): Promise<Metadata> => {\n  const { t } = i18n\n\n  const entityLabel = collectionConfig\n    ? getTranslation(collectionConfig.labels.singular, i18n)\n    : globalConfig\n      ? getTranslation(globalConfig.label, i18n)\n      : ''\n\n  const metaToUse: MetaConfig = {\n    ...(config.admin.meta || {}),\n    description: `${isEditing ? t('general:editing') : t('general:creating')} - ${entityLabel}`,\n    keywords: `${entityLabel}, Payload, CMS`,\n    title: `${isEditing ? t('general:editing') : t('general:creating')} - ${entityLabel}`,\n  }\n\n  const ogToUse: MetaConfig['openGraph'] = {\n    title: `${isEditing ? t('general:edit') : t('general:edit')} - ${entityLabel}`,\n    ...(config.admin.meta.openGraph || {}),\n    ...(collectionConfig\n      ? {\n          ...(collectionConfig?.admin.meta?.openGraph || {}),\n          ...(collectionConfig?.admin?.components?.views?.edit?.[view]?.meta?.openGraph || {}),\n        }\n      : {}),\n    ...(globalConfig\n      ? {\n          ...(globalConfig?.admin.meta?.openGraph || {}),\n          ...(globalConfig?.admin?.components?.views?.edit?.[view]?.meta?.openGraph || {}),\n        }\n      : {}),\n  }\n\n  return meta({\n    ...metaToUse,\n    openGraph: ogToUse,\n    ...(collectionConfig\n      ? {\n          ...(collectionConfig?.admin.meta || {}),\n          ...(collectionConfig?.admin?.components?.views?.edit?.[view]?.meta || {}),\n        }\n      : {}),\n    ...(globalConfig\n      ? {\n          ...(globalConfig?.admin.meta || {}),\n          ...(globalConfig?.admin?.components?.views?.edit?.[view]?.meta || {}),\n        }\n      : {}),\n    serverURL: config.serverURL,\n  })\n}\n"],"names":["getTranslation","meta","generateMetadata","collectionConfig","config","globalConfig","i18n","isEditing","view","t","entityLabel","labels","singular","label","metaToUse","admin","description","keywords","title","ogToUse","openGraph","components","views","edit","serverURL"],"mappings":";;;AAGA,SAASA,cAAc,QAAQ;AAI/B,SAASC,IAAI,QAAQ;;;;AAEd,MAAMC,gBAAA,GAA6C,MAAAA,CAAO,EAC/DC,gBAAgB,EAChBC,MAAM,EACNC,YAAY,EACZC,IAAI,EACJC,SAAS,EACTC,IAAA,GAAO,SAAA,EACR;IACC,MAAM,EAAEC,CAAAA,EAAG,GAAGH,IAAA;IAEd,MAAMI,WAAA,GAAcP,gBAAA,qQAChBH,iBAAAA,AAAA,EAAeG,gBAAA,CAAiBQ,MAAM,CAACC,QAAQ,EAAEN,IAAA,IACjDD,YAAA,GACEL,mRAAAA,AAAA,EAAeK,YAAA,CAAaQ,KAAK,EAAEP,IAAA,IACnC;IAEN,MAAMQ,SAAA,GAAwB;QAC5B,GAAIV,MAAA,CAAOW,KAAK,CAACd,IAAI,IAAI,CAAC,CAAC;QAC3Be,WAAA,EAAa,GAAGT,SAAA,GAAYE,CAAA,CAAE,qBAAqBA,CAAA,CAAE,oBAAA,GAAA,EAAyBC,WAAA,EAAa;QAC3FO,QAAA,EAAU,GAAGP,WAAA,CAAA,cAAA,CAA2B;QACxCQ,KAAA,EAAO,GAAGX,SAAA,GAAYE,CAAA,CAAE,qBAAqBA,CAAA,CAAE,oBAAA,GAAA,EAAyBC,WAAA,EAAA;IAC1E;IAEA,MAAMS,OAAA,GAAmC;QACvCD,KAAA,EAAO,GAAGX,SAAA,GAAYE,CAAA,CAAE,kBAAkBA,CAAA,CAAE,gBAAA,GAAA,EAAqBC,WAAA,EAAa;QAC9E,GAAIN,MAAA,CAAOW,KAAK,CAACd,IAAI,CAACmB,SAAS,IAAI,CAAC,CAAC;QACrC,GAAIjB,gBAAA,GACA;YACE,GAAIA,gBAAA,EAAkBY,KAAA,CAAMd,IAAA,EAAMmB,SAAA,IAAa,CAAC,CAAC;YACjD,GAAIjB,gBAAA,EAAkBY,KAAA,EAAOM,UAAA,EAAYC,KAAA,EAAOC,IAAA,EAAA,CAAOf,IAAA,CAAK,EAAEP,IAAA,EAAMmB,SAAA,IAAa,CAAC,CAAC;QACrF,IACA,CAAC,CAAC;QACN,GAAIf,YAAA,GACA;YACE,GAAIA,YAAA,EAAcU,KAAA,CAAMd,IAAA,EAAMmB,SAAA,IAAa,CAAC,CAAC;YAC7C,GAAIf,YAAA,EAAcU,KAAA,EAAOM,UAAA,EAAYC,KAAA,EAAOC,IAAA,EAAA,CAAOf,IAAA,CAAK,EAAEP,IAAA,EAAMmB,SAAA,IAAa,CAAC,CAAC;QACjF,IACA,CAAC,CAAC;IACR;IAEA,gYAAOnB,OAAAA,AAAA,EAAK;QACV,GAAGa,SAAS;QACZM,SAAA,EAAWD,OAAA;QACX,GAAIhB,gBAAA,GACA;YACE,GAAIA,gBAAA,EAAkBY,KAAA,CAAMd,IAAA,IAAQ,CAAC,CAAC;YACtC,GAAIE,gBAAA,EAAkBY,KAAA,EAAOM,UAAA,EAAYC,KAAA,EAAOC,IAAA,EAAA,CAAOf,IAAA,CAAK,EAAEP,IAAA,IAAQ,CAAC,CAAC;QAC1E,IACA,CAAC,CAAC;QACN,GAAII,YAAA,GACA;YACE,GAAIA,YAAA,EAAcU,KAAA,CAAMd,IAAA,IAAQ,CAAC,CAAC;YAClC,GAAII,YAAA,EAAcU,KAAA,EAAOM,UAAA,EAAYC,KAAA,EAAOC,IAAA,EAAA,CAAOf,IAAA,CAAK,EAAEP,IAAA,IAAQ,CAAC,CAAC;QACtE,IACA,CAAC,CAAC;QACNuB,SAAA,EAAWpB,MAAA,CAAOoB,SAAAA;IACpB;AACF","ignoreList":[0]}},
    {"offset": {"line": 2258, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2264, "column": 0}, "map": {"version":3,"file":"meta.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/LivePreview/meta.ts"],"sourcesContent":["import type { Metadata } from 'next'\n\nimport type { GenerateEditViewMetadata } from '../Document/getMetaBySegment.js'\n\nimport { generateMetadata as generateDocumentMetadata } from '../Edit/meta.js'\n\nexport const generateMetadata: GenerateEditViewMetadata = async ({\n  collectionConfig,\n  config,\n  globalConfig,\n  i18n,\n  isEditing,\n}): Promise<Metadata> =>\n  generateDocumentMetadata({\n    collectionConfig,\n    config,\n    globalConfig,\n    i18n,\n    isEditing,\n    view: 'livePreview',\n  })\n"],"names":["generateMetadata","generateDocumentMetadata","collectionConfig","config","globalConfig","i18n","isEditing","view"],"mappings":";;;AAIA,SAASA,gBAAA,IAAoBC,wBAAwB,QAAQ;;AAEtD,MAAMD,gBAAA,GAA6C,MAAAA,CAAO,EAC/DE,gBAAgB,EAChBC,MAAM,EACNC,YAAY,EACZC,IAAI,EACJC,SAAAA,EACD,gYACCL,mBAAAA,AAAA,EAAyB;QACvBC,gBAAA;QACAC,MAAA;QACAC,YAAA;QACAC,IAAA;QACAC,SAAA;QACAC,IAAA,EAAM;IACR","ignoreList":[0]}},
    {"offset": {"line": 2277, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2283, "column": 0}, "map": {"version":3,"file":"meta.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/NotFound/meta.ts"],"sourcesContent":["import type { I18nClient } from '@payloadcms/translations'\nimport type { Metadata } from 'next'\nimport type { SanitizedConfig } from 'payload'\n\nimport { meta } from '../../utilities/meta.js'\n\nexport const generateNotFoundMeta = async ({\n  config,\n  i18n,\n}: {\n  config: SanitizedConfig\n  i18n: I18nClient\n}): Promise<Metadata> =>\n  meta({\n    description: i18n.t('general:pageNotFound'),\n    keywords: `404 ${i18n.t('general:notFound')}`,\n    serverURL: config.serverURL,\n    title: i18n.t('general:notFound'),\n  })\n"],"names":["meta","generateNotFoundMeta","config","i18n","description","t","keywords","serverURL","title"],"mappings":";;;AAIA,SAASA,IAAI,QAAQ;;AAEd,MAAMC,oBAAA,GAAuB,MAAAA,CAAO,EACzCC,MAAM,EACNC,IAAAA,EAID,4XACCH,OAAAA,AAAA,EAAK;QACHI,WAAA,EAAaD,IAAA,CAAKE,CAAC,CAAC;QACpBC,QAAA,EAAU,CAAA,IAAA,EAAOH,IAAA,CAAKE,CAAC,CAAC,qBAAqB;QAC7CE,SAAA,EAAWL,MAAA,CAAOK,SAAS;QAC3BC,KAAA,EAAOL,IAAA,CAAKE,CAAC,CAAC;IAChB","ignoreList":[0]}},
    {"offset": {"line": 2294, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2300, "column": 0}, "map": {"version":3,"file":"meta.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Version/meta.ts"],"sourcesContent":["import type { Metadata } from 'next'\nimport type { MetaConfig } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\nimport { formatDate } from '@payloadcms/ui/shared'\n\nimport type { GenerateEditViewMetadata } from '../Document/getMetaBySegment.js'\n\nimport { meta } from '../../utilities/meta.js'\n\nexport const generateMetadata: GenerateEditViewMetadata = async ({\n  collectionConfig,\n  config,\n  globalConfig,\n  i18n,\n}): Promise<Metadata> => {\n  const { t } = i18n\n\n  let metaToUse: MetaConfig = {\n    ...(config.admin.meta || {}),\n  }\n\n  const doc: any = {} // TODO: figure this out\n\n  const formattedCreatedAt = doc?.createdAt\n    ? formatDate({ date: doc.createdAt, i18n, pattern: config?.admin?.dateFormat })\n    : ''\n\n  if (collectionConfig) {\n    const useAsTitle = collectionConfig?.admin?.useAsTitle || 'id'\n    const entityLabel = getTranslation(collectionConfig.labels.singular, i18n)\n    const titleFromData = doc?.[useAsTitle]\n\n    metaToUse = {\n      ...(config.admin.meta || {}),\n      description: t('version:viewingVersion', { documentTitle: doc[useAsTitle], entityLabel }),\n      title: `${t('version:version')}${formattedCreatedAt ? ` - ${formattedCreatedAt}` : ''}${titleFromData ? ` - ${titleFromData}` : ''} - ${entityLabel}`,\n      ...(collectionConfig?.admin?.meta || {}),\n      ...(collectionConfig?.admin?.components?.views?.edit?.version?.meta || {}),\n    }\n  }\n\n  if (globalConfig) {\n    const entityLabel = getTranslation(globalConfig.label, i18n)\n\n    metaToUse = {\n      ...(config.admin.meta || {}),\n      description: t('version:viewingVersionGlobal', { entityLabel }),\n      title: `${t('version:version')}${formattedCreatedAt ? ` - ${formattedCreatedAt}` : ''}${entityLabel}`,\n      ...(globalConfig?.admin?.meta || {}),\n      ...(globalConfig?.admin?.components?.views?.edit?.version?.meta || {}),\n    }\n  }\n\n  return meta({\n    ...metaToUse,\n    serverURL: config.serverURL,\n  })\n}\n"],"names":["getTranslation","formatDate","meta","generateMetadata","collectionConfig","config","globalConfig","i18n","t","metaToUse","admin","doc","formattedCreatedAt","createdAt","date","pattern","dateFormat","useAsTitle","entityLabel","labels","singular","titleFromData","description","documentTitle","title","components","views","edit","version","label","serverURL"],"mappings":";;;AAGA,SAASA,cAAc,QAAQ;AAK/B,SAASE,IAAI,QAAQ;AAJrB,SAASD,UAAU,QAAQ;;;;;AAMpB,MAAME,gBAAA,GAA6C,MAAAA,CAAO,EAC/DC,gBAAgB,EAChBC,MAAM,EACNC,YAAY,EACZC,IAAAA,EACD;IACC,MAAM,EAAEC,CAAAA,EAAG,GAAGD,IAAA;IAEd,IAAIE,SAAA,GAAwB;QAC1B,GAAIJ,MAAA,CAAOK,KAAK,CAACR,IAAI,IAAI,CAAC,CAAC;IAC7B;IAEA,MAAMS,GAAA,GAAW,CAAC,EAAE,wBAAA;;IAEpB,MAAMC,kBAAA,GAAqBD,GAAA,EAAKE,SAAA,mYAC5BZ,aAAAA,AAAA,EAAW;QAAEa,IAAA,EAAMH,GAAA,CAAIE,SAAS;QAAEN,IAAA;QAAMQ,OAAA,EAASV,MAAA,EAAQK,KAAA,EAAOM;IAAW,KAC3E;IAEJ,IAAIZ,gBAAA,EAAkB;QACpB,MAAMa,UAAA,GAAab,gBAAA,EAAkBM,KAAA,EAAOO,UAAA,IAAc;QAC1D,MAAMC,WAAA,qQAAclB,iBAAAA,AAAA,EAAeI,gBAAA,CAAiBe,MAAM,CAACC,QAAQ,EAAEb,IAAA;QACrE,MAAMc,aAAA,GAAgBV,GAAA,EAAA,CAAMM,UAAA,CAAW;QAEvCR,SAAA,GAAY;YACV,GAAIJ,MAAA,CAAOK,KAAK,CAACR,IAAI,IAAI,CAAC,CAAC;YAC3BoB,WAAA,EAAad,CAAA,CAAE,0BAA0B;gBAAEe,aAAA,EAAeZ,GAAG,CAACM,UAAA,CAAW;gBAAEC;YAAY;YACvFM,KAAA,EAAO,GAAGhB,CAAA,CAAE,qBAAqBI,kBAAA,GAAqB,CAAA,GAAA,EAAMA,kBAAA,EAAoB,GAAG,KAAKS,aAAA,GAAgB,CAAA,GAAA,EAAMA,aAAA,EAAe,GAAG,GAAA,GAAA,EAAQH,WAAA,EAAa;YACrJ,GAAId,gBAAA,EAAkBM,KAAA,EAAOR,IAAA,IAAQ,CAAC,CAAC;YACvC,GAAIE,gBAAA,EAAkBM,KAAA,EAAOe,UAAA,EAAYC,KAAA,EAAOC,IAAA,EAAMC,OAAA,EAAS1B,IAAA,IAAQ,CAAC,CAAC;QAC3E;IACF;IAEA,IAAII,YAAA,EAAc;QAChB,MAAMY,WAAA,qQAAclB,iBAAAA,AAAA,EAAeM,YAAA,CAAauB,KAAK,EAAEtB,IAAA;QAEvDE,SAAA,GAAY;YACV,GAAIJ,MAAA,CAAOK,KAAK,CAACR,IAAI,IAAI,CAAC,CAAC;YAC3BoB,WAAA,EAAad,CAAA,CAAE,gCAAgC;gBAAEU;YAAY;YAC7DM,KAAA,EAAO,GAAGhB,CAAA,CAAE,qBAAqBI,kBAAA,GAAqB,CAAA,GAAA,EAAMA,kBAAA,EAAoB,GAAG,KAAKM,WAAA,EAAa;YACrG,GAAIZ,YAAA,EAAcI,KAAA,EAAOR,IAAA,IAAQ,CAAC,CAAC;YACnC,GAAII,YAAA,EAAcI,KAAA,EAAOe,UAAA,EAAYC,KAAA,EAAOC,IAAA,EAAMC,OAAA,EAAS1B,IAAA,IAAQ,CAAC,CAAC;QACvE;IACF;IAEA,gYAAOA,OAAAA,AAAA,EAAK;QACV,GAAGO,SAAS;QACZqB,SAAA,EAAWzB,MAAA,CAAOyB,SAAAA;IACpB;AACF","ignoreList":[0]}},
    {"offset": {"line": 2354, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2360, "column": 0}, "map": {"version":3,"file":"meta.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Versions/meta.ts"],"sourcesContent":["import type { Metadata } from 'next'\nimport type { MetaConfig } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\n\nimport type { GenerateEditViewMetadata } from '../Document/getMetaBySegment.js'\n\nimport { meta } from '../../utilities/meta.js'\n\nexport const generateMetadata: GenerateEditViewMetadata = async ({\n  collectionConfig,\n  config,\n  globalConfig,\n  i18n,\n}): Promise<Metadata> => {\n  const { t } = i18n\n\n  const entityLabel = collectionConfig\n    ? getTranslation(collectionConfig.labels.singular, i18n)\n    : globalConfig\n      ? getTranslation(globalConfig.label, i18n)\n      : ''\n\n  let metaToUse: MetaConfig = {\n    ...(config.admin.meta || {}),\n  }\n\n  const data: any = {} // TODO: figure this out\n\n  if (collectionConfig) {\n    const useAsTitle = collectionConfig?.admin?.useAsTitle || 'id'\n    const titleFromData = data?.[useAsTitle]\n\n    metaToUse = {\n      ...(config.admin.meta || {}),\n      description: t('version:viewingVersions', {\n        documentTitle: data?.[useAsTitle],\n        entitySlug: collectionConfig.slug,\n      }),\n      title: `${t('version:versions')}${titleFromData ? ` - ${titleFromData}` : ''} - ${entityLabel}`,\n      ...(collectionConfig?.admin.meta || {}),\n      ...(collectionConfig?.admin?.components?.views?.edit?.versions?.meta || {}),\n    }\n  }\n\n  if (globalConfig) {\n    metaToUse = {\n      ...(config.admin.meta || {}),\n      description: t('version:viewingVersionsGlobal', { entitySlug: globalConfig.slug }),\n      title: `${t('version:versions')} - ${entityLabel}`,\n      ...(globalConfig?.admin.meta || {}),\n      ...(globalConfig?.admin?.components?.views?.edit?.versions?.meta || {}),\n    }\n  }\n\n  return meta({\n    ...metaToUse,\n    serverURL: config.serverURL,\n  })\n}\n"],"names":["getTranslation","meta","generateMetadata","collectionConfig","config","globalConfig","i18n","t","entityLabel","labels","singular","label","metaToUse","admin","data","useAsTitle","titleFromData","description","documentTitle","entitySlug","slug","title","components","views","edit","versions","serverURL"],"mappings":";;;AAGA,SAASA,cAAc,QAAQ;AAI/B,SAASC,IAAI,QAAQ;;;;AAEd,MAAMC,gBAAA,GAA6C,MAAAA,CAAO,EAC/DC,gBAAgB,EAChBC,MAAM,EACNC,YAAY,EACZC,IAAAA,EACD;IACC,MAAM,EAAEC,CAAAA,EAAG,GAAGD,IAAA;IAEd,MAAME,WAAA,GAAcL,gBAAA,qQAChBH,iBAAAA,AAAA,EAAeG,gBAAA,CAAiBM,MAAM,CAACC,QAAQ,EAAEJ,IAAA,IACjDD,YAAA,IACEL,kRAAAA,AAAA,EAAeK,YAAA,CAAaM,KAAK,EAAEL,IAAA,IACnC;IAEN,IAAIM,SAAA,GAAwB;QAC1B,GAAIR,MAAA,CAAOS,KAAK,CAACZ,IAAI,IAAI,CAAC,CAAC;IAC7B;IAEA,MAAMa,IAAA,GAAY,CAAC,EAAE,wBAAA;;IAErB,IAAIX,gBAAA,EAAkB;QACpB,MAAMY,UAAA,GAAaZ,gBAAA,EAAkBU,KAAA,EAAOE,UAAA,IAAc;QAC1D,MAAMC,aAAA,GAAgBF,IAAA,EAAA,CAAOC,UAAA,CAAW;QAExCH,SAAA,GAAY;YACV,GAAIR,MAAA,CAAOS,KAAK,CAACZ,IAAI,IAAI,CAAC,CAAC;YAC3BgB,WAAA,EAAaV,CAAA,CAAE,2BAA2B;gBACxCW,aAAA,EAAeJ,IAAA,EAAA,CAAOC,UAAA,CAAW;gBACjCI,UAAA,EAAYhB,gBAAA,CAAiBiB,IAAAA;YAC/B;YACAC,KAAA,EAAO,GAAGd,CAAA,CAAE,sBAAsBS,aAAA,GAAgB,CAAA,GAAA,EAAMA,aAAA,EAAe,GAAG,GAAA,GAAA,EAAQR,WAAA,EAAa;YAC/F,GAAIL,gBAAA,EAAkBU,KAAA,CAAMZ,IAAA,IAAQ,CAAC,CAAC;YACtC,GAAIE,gBAAA,EAAkBU,KAAA,EAAOS,UAAA,EAAYC,KAAA,EAAOC,IAAA,EAAMC,QAAA,EAAUxB,IAAA,IAAQ,CAAC,CAAC;QAC5E;IACF;IAEA,IAAII,YAAA,EAAc;QAChBO,SAAA,GAAY;YACV,GAAIR,MAAA,CAAOS,KAAK,CAACZ,IAAI,IAAI,CAAC,CAAC;YAC3BgB,WAAA,EAAaV,CAAA,CAAE,iCAAiC;gBAAEY,UAAA,EAAYd,YAAA,CAAae,IAAAA;YAAK;YAChFC,KAAA,EAAO,GAAGd,CAAA,CAAE,oBAAA,GAAA,EAAyBC,WAAA,EAAa;YAClD,GAAIH,YAAA,EAAcQ,KAAA,CAAMZ,IAAA,IAAQ,CAAC,CAAC;YAClC,GAAII,YAAA,EAAcQ,KAAA,EAAOS,UAAA,EAAYC,KAAA,EAAOC,IAAA,EAAMC,QAAA,EAAUxB,IAAA,IAAQ,CAAC,CAAC;QACxE;IACF;IAEA,gYAAOA,OAAAA,AAAA,EAAK;QACV,GAAGW,SAAS;QACZc,SAAA,EAAWtB,MAAA,CAAOsB,SAAAA;IACpB;AACF","ignoreList":[0]}},
    {"offset": {"line": 2406, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2412, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/API/index.client.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const APIViewClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call APIViewClient() from the server but APIViewClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/API/index.client.js <module evaluation>\",\n    \"APIViewClient\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,gBAAgB,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAC/C;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,0OACA","ignoreList":[0]}},
    {"offset": {"line": 2420, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2426, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/API/index.client.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const APIViewClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call APIViewClient() from the server but APIViewClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/API/index.client.js\",\n    \"APIViewClient\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,gBAAgB,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAC/C;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,sNACA","ignoreList":[0]}},
    {"offset": {"line": 2434, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2440, "column": 0}, "map": {"version":3,"file":"index.client.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/API/index.client.tsx"],"sourcesContent":["'use client'\n\nimport {\n  CheckboxField,\n  CopyToClipboard,\n  Form,\n  Gutter,\n  MinimizeMaximizeIcon,\n  NumberField,\n  SetDocumentStepNav,\n  useConfig,\n  useDocumentInfo,\n  useLocale,\n  useTranslation,\n} from '@payloadcms/ui'\nimport { useSearchParams } from 'next/navigation.js'\nimport * as React from 'react'\nimport { toast } from 'sonner'\n\nimport './index.scss'\nimport { LocaleSelector } from './LocaleSelector/index.js'\nimport { RenderJSON } from './RenderJSON/index.js'\n\nconst baseClass = 'query-inspector'\n\nexport const APIViewClient: React.FC = () => {\n  const { id, collectionSlug, globalSlug, initialData } = useDocumentInfo()\n\n  const searchParams = useSearchParams()\n  const { i18n, t } = useTranslation()\n  const { code } = useLocale()\n\n  const {\n    config: {\n      localization,\n      routes: { api: apiRoute },\n      serverURL,\n    },\n    getEntityConfig,\n  } = useConfig()\n\n  const collectionConfig = getEntityConfig({ collectionSlug })\n  const globalConfig = getEntityConfig({ globalSlug })\n\n  const localeOptions =\n    localization &&\n    localization.locales.map((locale) => ({ label: locale.label, value: locale.code }))\n\n  let draftsEnabled: boolean = false\n  let docEndpoint: string = ''\n\n  if (collectionConfig) {\n    draftsEnabled = Boolean(collectionConfig.versions?.drafts)\n    docEndpoint = `/${collectionSlug}/${id}`\n  }\n\n  if (globalConfig) {\n    draftsEnabled = Boolean(globalConfig.versions?.drafts)\n    docEndpoint = `/globals/${globalSlug}`\n  }\n\n  const [data, setData] = React.useState<any>(initialData)\n  const [draft, setDraft] = React.useState<boolean>(searchParams.get('draft') === 'true')\n  const [locale, setLocale] = React.useState<string>(searchParams?.get('locale') || code)\n  const [depth, setDepth] = React.useState<string>(searchParams.get('depth') || '1')\n  const [authenticated, setAuthenticated] = React.useState<boolean>(true)\n  const [fullscreen, setFullscreen] = React.useState<boolean>(false)\n\n  const params = new URLSearchParams({\n    depth,\n    draft: String(draft),\n    locale,\n  }).toString()\n\n  const fetchURL = `${serverURL}${apiRoute}${docEndpoint}?${params}`\n\n  React.useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const res = await fetch(fetchURL, {\n          credentials: authenticated ? 'include' : 'omit',\n          headers: {\n            'Accept-Language': i18n.language,\n          },\n          method: 'GET',\n        })\n\n        try {\n          const json = await res.json()\n          setData(json)\n        } catch (error) {\n          toast.error('Error parsing response')\n          console.error(error) // eslint-disable-line no-console\n        }\n      } catch (error) {\n        toast.error('Error making request')\n        console.error(error) // eslint-disable-line no-console\n      }\n    }\n\n    void fetchData()\n  }, [i18n.language, fetchURL, authenticated])\n\n  return (\n    <Gutter\n      className={[baseClass, fullscreen && `${baseClass}--fullscreen`].filter(Boolean).join(' ')}\n      right={false}\n    >\n      <SetDocumentStepNav\n        collectionSlug={collectionSlug}\n        globalLabel={globalConfig?.label}\n        globalSlug={globalSlug}\n        id={id}\n        pluralLabel={collectionConfig ? collectionConfig?.labels?.plural : undefined}\n        useAsTitle={collectionConfig ? collectionConfig?.admin?.useAsTitle : undefined}\n        view=\"API\"\n      />\n      <div className={`${baseClass}__configuration`}>\n        <div className={`${baseClass}__api-url`}>\n          <span className={`${baseClass}__label`}>\n            API URL <CopyToClipboard value={fetchURL} />\n          </span>\n          <a href={fetchURL} rel=\"noopener noreferrer\" target=\"_blank\">\n            {fetchURL}\n          </a>\n        </div>\n        <Form\n          initialState={{\n            authenticated: {\n              initialValue: authenticated || false,\n              valid: true,\n              value: authenticated || false,\n            },\n            depth: {\n              initialValue: Number(depth || 0),\n              valid: true,\n              value: Number(depth || 0),\n            },\n            draft: {\n              initialValue: draft || false,\n              valid: true,\n              value: draft || false,\n            },\n            locale: {\n              initialValue: locale,\n              valid: true,\n              value: locale,\n            },\n          }}\n        >\n          <div className={`${baseClass}__form-fields`}>\n            <div className={`${baseClass}__filter-query-checkboxes`}>\n              {draftsEnabled && (\n                <CheckboxField\n                  field={{\n                    name: 'draft',\n                    label: t('version:draft'),\n                  }}\n                  onChange={() => setDraft(!draft)}\n                  path=\"draft\"\n                />\n              )}\n              <CheckboxField\n                field={{\n                  name: 'authenticated',\n                  label: t('authentication:authenticated'),\n                }}\n                onChange={() => setAuthenticated(!authenticated)}\n                path=\"authenticated\"\n              />\n            </div>\n            {localeOptions && <LocaleSelector localeOptions={localeOptions} onChange={setLocale} />}\n            <NumberField\n              field={{\n                name: 'depth',\n                admin: {\n                  step: 1,\n                },\n                label: t('general:depth'),\n                max: 10,\n                min: 0,\n              }}\n              onChange={(value) => setDepth(value?.toString())}\n              path=\"depth\"\n            />\n          </div>\n        </Form>\n      </div>\n      <div className={`${baseClass}__results-wrapper`}>\n        <div className={`${baseClass}__toggle-fullscreen-button-container`}>\n          <button\n            aria-label=\"toggle fullscreen\"\n            className={`${baseClass}__toggle-fullscreen-button`}\n            onClick={() => setFullscreen(!fullscreen)}\n            type=\"button\"\n          >\n            <MinimizeMaximizeIcon isMinimized={!fullscreen} />\n          </button>\n        </div>\n        <div className={`${baseClass}__results`}>\n          <RenderJSON object={data} />\n        </div>\n      </div>\n    </Gutter>\n  )\n}\n"],"names":["CheckboxField","CopyToClipboard","Form","Gutter","MinimizeMaximizeIcon","NumberField","SetDocumentStepNav","useConfig","useDocumentInfo","useLocale","useTranslation","useSearchParams","React","toast","LocaleSelector","RenderJSON","baseClass","APIViewClient","id","collectionSlug","globalSlug","initialData","searchParams","i18n","t","code","config","localization","routes","api","apiRoute","serverURL","getEntityConfig","collectionConfig","globalConfig","localeOptions","locales","map","locale","label","value","draftsEnabled","docEndpoint","Boolean","versions","drafts","data","setData","useState","draft","setDraft","get","setLocale","depth","setDepth","authenticated","setAuthenticated","fullscreen","setFullscreen","params","URLSearchParams","String","toString","fetchURL","useEffect","fetchData","res","fetch","credentials","headers","language","method","json","error","console","_jsxs","className","filter","join","right","_jsx","globalLabel","pluralLabel","labels","plural","undefined","useAsTitle","admin","view","href","rel","target","initialState","initialValue","valid","Number","field","name","onChange","path","step","max","min","onClick","type","isMinimized","object"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 2444, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2450, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/API/index.tsx"],"sourcesContent":["import type { EditViewComponent, PayloadServerReactComponent } from 'payload'\n\nimport React from 'react'\n\nimport { APIViewClient } from './index.client.js'\n\nexport const APIView: PayloadServerReactComponent<EditViewComponent> = () => {\n  return <APIViewClient />\n}\n"],"names":["React","APIViewClient","APIView","_jsx"],"mappings":";;;;AAEA,OAAOA,KAAA,MAAW;AAElB,SAASC,aAAa,QAAQ;;;;AAEvB,MAAMC,OAAA,GAA0DA,CAAA;IACrE,OAAA,WAAA,mXAAOC,MAAAA,AAAA,qYAACF,gBAAA,EAAA,CAAA;AACV","ignoreList":[0]}},
    {"offset": {"line": 2462, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2468, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Edit/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const EditView = registerClientReference(\n    function() { throw new Error(\"Attempted to call EditView() from the server but EditView is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Edit/index.js <module evaluation>\",\n    \"EditView\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,WAAW,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAC1C;IAAa,MAAM,IAAI,MAAM;AAAgO,GAC7P,oOACA","ignoreList":[0]}},
    {"offset": {"line": 2476, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2482, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Edit/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const EditView = registerClientReference(\n    function() { throw new Error(\"Attempted to call EditView() from the server but EditView is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Edit/index.js\",\n    \"EditView\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,WAAW,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAC1C;IAAa,MAAM,IAAI,MAAM;AAAgO,GAC7P,gNACA","ignoreList":[0]}},
    {"offset": {"line": 2490, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2496, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Edit/index.tsx"],"sourcesContent":["'use client'\n\nimport type { ClientSideEditViewProps } from 'payload'\n\nimport { DefaultEditView } from '@payloadcms/ui'\nimport React from 'react'\n\nexport const EditView: React.FC<ClientSideEditViewProps> = (props) => {\n  return <DefaultEditView {...props} />\n}\n"],"names":["DefaultEditView","React","EditView","props","_jsx"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 2500, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2506, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/LivePreview/index.client.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const LivePreviewClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call LivePreviewClient() from the server but LivePreviewClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/LivePreview/index.client.js <module evaluation>\",\n    \"LivePreviewClient\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,oBAAoB,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EACnD;IAAa,MAAM,IAAI,MAAM;AAAkP,GAC/Q,kPACA","ignoreList":[0]}},
    {"offset": {"line": 2514, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2520, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/LivePreview/index.client.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const LivePreviewClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call LivePreviewClient() from the server but LivePreviewClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/LivePreview/index.client.js\",\n    \"LivePreviewClient\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,oBAAoB,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EACnD;IAAa,MAAM,IAAI,MAAM;AAAkP,GAC/Q,8NACA","ignoreList":[0]}},
    {"offset": {"line": 2528, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2534, "column": 0}, "map": {"version":3,"file":"index.client.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/LivePreview/index.client.tsx"],"sourcesContent":["'use client'\nimport type { FormProps } from '@payloadcms/ui'\nimport type {\n  ClientCollectionConfig,\n  ClientConfig,\n  ClientField,\n  ClientGlobalConfig,\n  ClientUser,\n  Data,\n  DocumentSlots,\n  FormState,\n  LivePreviewConfig,\n} from 'payload'\n\nimport {\n  DocumentControls,\n  DocumentFields,\n  DocumentLocked,\n  DocumentTakeOver,\n  Form,\n  LeaveWithoutSaving,\n  OperationProvider,\n  SetDocumentStepNav,\n  SetDocumentTitle,\n  useAuth,\n  useConfig,\n  useDocumentDrawerContext,\n  useDocumentEvents,\n  useDocumentInfo,\n  useEditDepth,\n  useServerFunctions,\n  useTranslation,\n  useUploadEdits,\n} from '@payloadcms/ui'\nimport {\n  abortAndIgnore,\n  formatAdminURL,\n  handleAbortRef,\n  handleBackToDashboard,\n  handleGoBack,\n  handleTakeOver,\n} from '@payloadcms/ui/shared'\nimport { useRouter, useSearchParams } from 'next/navigation.js'\nimport React, { Fragment, useCallback, useEffect, useRef, useState } from 'react'\n\nimport { useLivePreviewContext } from './Context/context.js'\nimport './index.scss'\nimport { LivePreviewProvider } from './Context/index.js'\nimport { LivePreview } from './Preview/index.js'\nimport { usePopupWindow } from './usePopupWindow.js'\n\nconst baseClass = 'live-preview'\n\ntype Props = {\n  readonly apiRoute: string\n  readonly collectionConfig?: ClientCollectionConfig\n  readonly config: ClientConfig\n  readonly fields: ClientField[]\n  readonly globalConfig?: ClientGlobalConfig\n  readonly schemaPath: string\n  readonly serverURL: string\n} & DocumentSlots\n\nconst getAbsoluteUrl = (url) => {\n  try {\n    return new URL(url, window.location.origin).href\n  } catch {\n    return url\n  }\n}\n\nconst PreviewView: React.FC<Props> = ({\n  collectionConfig,\n  config,\n  Description,\n  fields,\n  globalConfig,\n  PreviewButton,\n  PublishButton,\n  SaveButton,\n  SaveDraftButton,\n  schemaPath,\n}) => {\n  const {\n    id,\n    action,\n    AfterDocument,\n    AfterFields,\n    apiURL,\n    BeforeFields,\n    collectionSlug,\n    currentEditor,\n    disableActions,\n    disableLeaveWithoutSaving,\n    docPermissions,\n    documentIsLocked,\n    getDocPermissions,\n    getDocPreferences,\n    globalSlug,\n    hasPublishPermission,\n    hasSavePermission,\n    incrementVersionCount,\n    initialData,\n    initialState,\n    isEditing,\n    isInitializing,\n    lastUpdateTime,\n    setCurrentEditor,\n    setDocumentIsLocked,\n    unlockDocument,\n    updateDocumentEditor,\n    updateSavedDocumentData,\n  } = useDocumentInfo()\n\n  const { onSave: onSaveFromContext } = useDocumentDrawerContext()\n\n  const operation = id ? 'update' : 'create'\n\n  const {\n    config: {\n      admin: { user: userSlug },\n      routes: { admin: adminRoute },\n    },\n  } = useConfig()\n  const router = useRouter()\n  const params = useSearchParams()\n  const locale = params.get('locale')\n  const { t } = useTranslation()\n  const { previewWindowType } = useLivePreviewContext()\n  const { refreshCookieAsync, user } = useAuth()\n  const { reportUpdate } = useDocumentEvents()\n  const { resetUploadEdits } = useUploadEdits()\n  const { getFormState } = useServerFunctions()\n\n  const docConfig = collectionConfig || globalConfig\n\n  const entitySlug = collectionConfig?.slug || globalConfig?.slug\n\n  const depth = useEditDepth()\n\n  const lockDocumentsProp = docConfig?.lockDocuments !== undefined ? docConfig?.lockDocuments : true\n  const isLockingEnabled = lockDocumentsProp !== false\n\n  const lockDurationDefault = 300 // Default 5 minutes in seconds\n  const lockDuration =\n    typeof lockDocumentsProp === 'object' ? lockDocumentsProp.duration : lockDurationDefault\n  const lockDurationInMilliseconds = lockDuration * 1000\n\n  const autosaveEnabled = Boolean(\n    (collectionConfig?.versions?.drafts && collectionConfig?.versions?.drafts?.autosave) ||\n      (globalConfig?.versions?.drafts && globalConfig?.versions?.drafts?.autosave),\n  )\n\n  const preventLeaveWithoutSaving =\n    typeof disableLeaveWithoutSaving !== 'undefined' ? !disableLeaveWithoutSaving : !autosaveEnabled\n\n  const [isReadOnlyForIncomingUser, setIsReadOnlyForIncomingUser] = useState(false)\n  const [showTakeOverModal, setShowTakeOverModal] = useState(false)\n\n  const abortOnChangeRef = useRef<AbortController>(null)\n  const abortOnSaveRef = useRef<AbortController>(null)\n\n  const [editSessionStartTime, setEditSessionStartTime] = useState(Date.now())\n\n  const lockExpiryTime = lastUpdateTime + lockDurationInMilliseconds\n\n  const isLockExpired = Date.now() > lockExpiryTime\n\n  const documentLockStateRef = useRef<{\n    hasShownLockedModal: boolean\n    isLocked: boolean\n    user: ClientUser | number | string\n  } | null>({\n    hasShownLockedModal: false,\n    isLocked: false,\n    user: null,\n  })\n\n  const onSave = useCallback(\n    async (json): Promise<FormState> => {\n      const controller = handleAbortRef(abortOnSaveRef)\n\n      reportUpdate({\n        id,\n        entitySlug,\n        updatedAt: json?.result?.updatedAt || new Date().toISOString(),\n      })\n\n      // If we're editing the doc of the logged-in user,\n      // Refresh the cookie to get new permissions\n      if (user && collectionSlug === userSlug && id === user.id) {\n        void refreshCookieAsync()\n      }\n\n      incrementVersionCount()\n\n      if (typeof updateSavedDocumentData === 'function') {\n        void updateSavedDocumentData(json?.doc || {})\n      }\n\n      if (typeof onSaveFromContext === 'function') {\n        void onSaveFromContext({\n          ...json,\n          operation: id ? 'update' : 'create',\n        })\n      }\n\n      if (!isEditing && depth < 2) {\n        // Redirect to the same locale if it's been set\n        const redirectRoute = formatAdminURL({\n          adminRoute,\n          path: `/collections/${collectionSlug}/${json?.doc?.id}${locale ? `?locale=${locale}` : ''}`,\n        })\n        router.push(redirectRoute)\n      } else {\n        resetUploadEdits()\n      }\n\n      await getDocPermissions(json)\n\n      if ((id || globalSlug) && !autosaveEnabled) {\n        const docPreferences = await getDocPreferences()\n\n        const { state } = await getFormState({\n          id,\n          collectionSlug,\n          data: json?.doc || json?.result,\n          docPermissions,\n          docPreferences,\n          globalSlug,\n          operation,\n          renderAllFields: true,\n          returnLockStatus: false,\n          schemaPath: entitySlug,\n          signal: controller.signal,\n          skipValidation: true,\n        })\n\n        // Unlock the document after save\n        if (isLockingEnabled) {\n          setDocumentIsLocked(false)\n        }\n\n        abortOnSaveRef.current = null\n\n        return state\n      }\n    },\n    [\n      adminRoute,\n      collectionSlug,\n      depth,\n      docPermissions,\n      entitySlug,\n      getDocPermissions,\n      getDocPreferences,\n      getFormState,\n      globalSlug,\n      id,\n      incrementVersionCount,\n      isEditing,\n      isLockingEnabled,\n      locale,\n      onSaveFromContext,\n      operation,\n      refreshCookieAsync,\n      reportUpdate,\n      resetUploadEdits,\n      router,\n      setDocumentIsLocked,\n      updateSavedDocumentData,\n      user,\n      userSlug,\n      autosaveEnabled,\n    ],\n  )\n\n  const onChange: FormProps['onChange'][0] = useCallback(\n    async ({ formState: prevFormState, submitted }) => {\n      const controller = handleAbortRef(abortOnChangeRef)\n\n      const currentTime = Date.now()\n      const timeSinceLastUpdate = currentTime - editSessionStartTime\n\n      const updateLastEdited = isLockingEnabled && timeSinceLastUpdate >= 10000 // 10 seconds\n\n      if (updateLastEdited) {\n        setEditSessionStartTime(currentTime)\n      }\n\n      const docPreferences = await getDocPreferences()\n\n      const { lockedState, state } = await getFormState({\n        id,\n        collectionSlug,\n        docPermissions,\n        docPreferences,\n        formState: prevFormState,\n        globalSlug,\n        operation,\n        returnLockStatus: isLockingEnabled ? true : false,\n        schemaPath,\n        signal: controller.signal,\n        skipValidation: !submitted,\n        updateLastEdited,\n      })\n\n      setDocumentIsLocked(true)\n\n      if (isLockingEnabled) {\n        const previousOwnerID =\n          typeof documentLockStateRef.current?.user === 'object'\n            ? documentLockStateRef.current?.user?.id\n            : documentLockStateRef.current?.user\n\n        if (lockedState) {\n          const lockedUserID =\n            typeof lockedState.user === 'string' || typeof lockedState.user === 'number'\n              ? lockedState.user\n              : lockedState.user.id\n\n          if (!documentLockStateRef.current || lockedUserID !== previousOwnerID) {\n            if (previousOwnerID === user.id && lockedUserID !== user.id) {\n              setShowTakeOverModal(true)\n              documentLockStateRef.current.hasShownLockedModal = true\n            }\n\n            documentLockStateRef.current = documentLockStateRef.current = {\n              hasShownLockedModal: documentLockStateRef.current?.hasShownLockedModal || false,\n              isLocked: true,\n              user: lockedState.user as ClientUser,\n            }\n\n            setCurrentEditor(lockedState.user as ClientUser)\n          }\n        }\n      }\n\n      abortOnChangeRef.current = null\n\n      return state\n    },\n    [\n      editSessionStartTime,\n      isLockingEnabled,\n      getDocPreferences,\n      getFormState,\n      id,\n      collectionSlug,\n      docPermissions,\n      globalSlug,\n      operation,\n      schemaPath,\n      setDocumentIsLocked,\n      user?.id,\n      setCurrentEditor,\n    ],\n  )\n\n  // Clean up when the component unmounts or when the document is unlocked\n  useEffect(() => {\n    return () => {\n      if (!isLockingEnabled) {\n        return\n      }\n\n      const currentPath = window.location.pathname\n\n      const documentID = id || globalSlug\n\n      // Routes where we do NOT want to unlock the document\n      const stayWithinDocumentPaths = ['preview', 'api', 'versions']\n\n      const isStayingWithinDocument = stayWithinDocumentPaths.some((path) =>\n        currentPath.includes(path),\n      )\n\n      // Unlock the document only if we're actually navigating away from the document\n      if (documentID && documentIsLocked && !isStayingWithinDocument) {\n        // Check if this user is still the current editor\n        if (\n          typeof documentLockStateRef.current?.user === 'object'\n            ? documentLockStateRef.current?.user?.id === user?.id\n            : documentLockStateRef.current?.user === user?.id\n        ) {\n          void unlockDocument(id, collectionSlug ?? globalSlug)\n          setDocumentIsLocked(false)\n          setCurrentEditor(null)\n        }\n      }\n\n      setShowTakeOverModal(false)\n    }\n  }, [\n    collectionSlug,\n    globalSlug,\n    id,\n    unlockDocument,\n    user,\n    setCurrentEditor,\n    isLockingEnabled,\n    documentIsLocked,\n    setDocumentIsLocked,\n  ])\n\n  useEffect(() => {\n    const abortOnChange = abortOnChangeRef.current\n    const abortOnSave = abortOnSaveRef.current\n\n    return () => {\n      abortAndIgnore(abortOnChange)\n      abortAndIgnore(abortOnSave)\n    }\n  })\n\n  const shouldShowDocumentLockedModal =\n    documentIsLocked &&\n    currentEditor &&\n    (typeof currentEditor === 'object'\n      ? currentEditor.id !== user?.id\n      : currentEditor !== user?.id) &&\n    !isReadOnlyForIncomingUser &&\n    !showTakeOverModal &&\n    // eslint-disable-next-line react-compiler/react-compiler\n    !documentLockStateRef.current?.hasShownLockedModal &&\n    !isLockExpired\n\n  return (\n    <OperationProvider operation={operation}>\n      <Form\n        action={action}\n        className={`${baseClass}__form`}\n        disabled={isReadOnlyForIncomingUser || !hasSavePermission}\n        initialState={initialState}\n        isInitializing={isInitializing}\n        method={id ? 'PATCH' : 'POST'}\n        onChange={[onChange]}\n        onSuccess={onSave}\n      >\n        {isLockingEnabled && shouldShowDocumentLockedModal && !isReadOnlyForIncomingUser && (\n          <DocumentLocked\n            handleGoBack={() => handleGoBack({ adminRoute, collectionSlug, router })}\n            isActive={shouldShowDocumentLockedModal}\n            onReadOnly={() => {\n              setIsReadOnlyForIncomingUser(true)\n              setShowTakeOverModal(false)\n            }}\n            onTakeOver={() =>\n              handleTakeOver(\n                id,\n                collectionSlug,\n                globalSlug,\n                user,\n                false,\n                updateDocumentEditor,\n                setCurrentEditor,\n                documentLockStateRef,\n                isLockingEnabled,\n              )\n            }\n            updatedAt={lastUpdateTime}\n            user={currentEditor}\n          />\n        )}\n        {isLockingEnabled && showTakeOverModal && (\n          <DocumentTakeOver\n            handleBackToDashboard={() => handleBackToDashboard({ adminRoute, router })}\n            isActive={showTakeOverModal}\n            onReadOnly={() => {\n              setIsReadOnlyForIncomingUser(true)\n              setShowTakeOverModal(false)\n            }}\n          />\n        )}\n        {!isReadOnlyForIncomingUser && preventLeaveWithoutSaving && <LeaveWithoutSaving />}\n        <SetDocumentStepNav\n          collectionSlug={collectionSlug}\n          globalLabel={globalConfig?.label}\n          globalSlug={globalSlug}\n          id={id}\n          pluralLabel={collectionConfig ? collectionConfig?.labels?.plural : undefined}\n          useAsTitle={collectionConfig ? collectionConfig?.admin?.useAsTitle : undefined}\n          view={t('general:livePreview')}\n        />\n        <SetDocumentTitle\n          collectionConfig={collectionConfig}\n          config={config}\n          fallback={id?.toString() || ''}\n          globalConfig={globalConfig}\n        />\n        <DocumentControls\n          apiURL={apiURL}\n          customComponents={{\n            PreviewButton,\n            PublishButton,\n            SaveButton,\n            SaveDraftButton,\n          }}\n          data={initialData}\n          disableActions={disableActions}\n          hasPublishPermission={hasPublishPermission}\n          hasSavePermission={hasSavePermission}\n          id={id}\n          isEditing={isEditing}\n          onTakeOver={() =>\n            handleTakeOver(\n              id,\n              collectionSlug,\n              globalSlug,\n              user,\n              true,\n              updateDocumentEditor,\n              setCurrentEditor,\n              documentLockStateRef,\n              isLockingEnabled,\n              setIsReadOnlyForIncomingUser,\n            )\n          }\n          permissions={docPermissions}\n          readOnlyForIncomingUser={isReadOnlyForIncomingUser}\n          slug={collectionConfig?.slug || globalConfig?.slug}\n          user={currentEditor}\n        />\n        <div\n          className={[baseClass, previewWindowType === 'popup' && `${baseClass}--detached`]\n            .filter(Boolean)\n            .join(' ')}\n        >\n          <div\n            className={[\n              `${baseClass}__main`,\n              previewWindowType === 'popup' && `${baseClass}__main--popup-open`,\n            ]\n              .filter(Boolean)\n              .join(' ')}\n          >\n            <DocumentFields\n              AfterFields={AfterFields}\n              BeforeFields={BeforeFields}\n              Description={Description}\n              docPermissions={docPermissions}\n              fields={fields}\n              forceSidebarWrap\n              readOnly={isReadOnlyForIncomingUser || !hasSavePermission}\n              schemaPathSegments={[collectionSlug || globalSlug]}\n            />\n            {AfterDocument}\n          </div>\n          <LivePreview collectionSlug={collectionSlug} globalSlug={globalSlug} />\n        </div>\n      </Form>\n    </OperationProvider>\n  )\n}\n\nexport const LivePreviewClient: React.FC<\n  {\n    readonly breakpoints: LivePreviewConfig['breakpoints']\n    readonly initialData: Data\n    readonly url: string\n  } & DocumentSlots\n> = (props) => {\n  const { breakpoints, url: incomingUrl } = props\n  const { collectionSlug, globalSlug } = useDocumentInfo()\n\n  const {\n    config,\n    config: {\n      routes: { api: apiRoute },\n      serverURL,\n    },\n    getEntityConfig,\n  } = useConfig()\n\n  const url =\n    incomingUrl.startsWith('http://') || incomingUrl.startsWith('https://')\n      ? incomingUrl\n      : getAbsoluteUrl(incomingUrl)\n\n  const { isPopupOpen, openPopupWindow, popupRef } = usePopupWindow({\n    eventType: 'payload-live-preview',\n    url,\n  })\n\n  const collectionConfig = getEntityConfig({ collectionSlug })\n\n  const globalConfig = getEntityConfig({ globalSlug })\n\n  const schemaPath = collectionSlug || globalSlug\n\n  return (\n    <Fragment>\n      <LivePreviewProvider\n        breakpoints={breakpoints}\n        fieldSchema={collectionConfig?.fields || globalConfig?.fields}\n        isPopupOpen={isPopupOpen}\n        openPopupWindow={openPopupWindow}\n        popupRef={popupRef}\n        url={url}\n      >\n        <PreviewView\n          apiRoute={apiRoute}\n          collectionConfig={collectionConfig}\n          config={config}\n          Description={props.Description}\n          fields={(collectionConfig || globalConfig)?.fields}\n          globalConfig={globalConfig}\n          PreviewButton={props.PreviewButton}\n          PublishButton={props.PublishButton}\n          SaveButton={props.SaveButton}\n          SaveDraftButton={props.SaveDraftButton}\n          schemaPath={schemaPath}\n          serverURL={serverURL}\n          Upload={props.Upload}\n        />\n      </LivePreviewProvider>\n    </Fragment>\n  )\n}\n"],"names":["c","_c","DocumentControls","DocumentFields","DocumentLocked","DocumentTakeOver","Form","LeaveWithoutSaving","OperationProvider","SetDocumentStepNav","SetDocumentTitle","useAuth","useConfig","useDocumentDrawerContext","useDocumentEvents","useDocumentInfo","useEditDepth","useServerFunctions","useTranslation","useUploadEdits","abortAndIgnore","formatAdminURL","handleAbortRef","handleBackToDashboard","handleGoBack","handleTakeOver","useRouter","useSearchParams","React","Fragment","useCallback","useEffect","useRef","useState","useLivePreviewContext","LivePreviewProvider","LivePreview","usePopupWindow","baseClass","getAbsoluteUrl","url","URL","window","location","origin","href","PreviewView","collectionConfig","config","Description","fields","globalConfig","PreviewButton","PublishButton","SaveButton","SaveDraftButton","schemaPath","id","action","AfterDocument","AfterFields","apiURL","BeforeFields","collectionSlug","currentEditor","disableActions","disableLeaveWithoutSaving","docPermissions","documentIsLocked","getDocPermissions","getDocPreferences","globalSlug","hasPublishPermission","hasSavePermission","incrementVersionCount","initialData","initialState","isEditing","isInitializing","lastUpdateTime","setCurrentEditor","setDocumentIsLocked","unlockDocument","updateDocumentEditor","updateSavedDocumentData","onSave","onSaveFromContext","operation","admin","user","userSlug","routes","adminRoute","router","params","locale","get","t","previewWindowType","refreshCookieAsync","reportUpdate","resetUploadEdits","getFormState","docConfig","entitySlug","slug","depth","lockDocumentsProp","lockDocuments","undefined","isLockingEnabled","lockDurationDefault","lockDuration","duration","lockDurationInMilliseconds","autosaveEnabled","Boolean","versions","drafts","autosave","preventLeaveWithoutSaving","isReadOnlyForIncomingUser","setIsReadOnlyForIncomingUser","showTakeOverModal","setShowTakeOverModal","abortOnChangeRef","abortOnSaveRef","editSessionStartTime","setEditSessionStartTime","Date","now","lockExpiryTime","isLockExpired","documentLockStateRef","hasShownLockedModal","isLocked","json","controller","updatedAt","result","toISOString","doc","redirectRoute","path","push","docPreferences","state","data","renderAllFields","returnLockStatus","signal","skipValidation","current","onChange","formState","prevFormState","submitted","currentTime","timeSinceLastUpdate","updateLastEdited","lockedState","previousOwnerID","lockedUserID","currentPath","pathname","documentID","stayWithinDocumentPaths","isStayingWithinDocument","some","includes","abortOnChange","abortOnSave","shouldShowDocumentLockedModal","_jsx","_jsxs","className","disabled","method","onSuccess","isActive","onReadOnly","onTakeOver","globalLabel","label","pluralLabel","labels","plural","useAsTitle","view","fallback","toString","customComponents","permissions","readOnlyForIncomingUser","filter","join","forceSidebarWrap","readOnly","schemaPathSegments","LivePreviewClient","props","$","breakpoints","incomingUrl","t0","getEntityConfig","t1","serverURL","api","apiRoute","t2","startsWith","t3","eventType","isPopupOpen","openPopupWindow","popupRef","t4","Upload","children","fieldSchema"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 2538, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2544, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/LivePreview/index.tsx"],"sourcesContent":["import type { EditViewComponent, LivePreviewConfig, PayloadServerReactComponent } from 'payload'\n\nimport React from 'react'\n\nimport './index.scss'\nimport { LivePreviewClient } from './index.client.js'\n\nexport const LivePreviewView: PayloadServerReactComponent<EditViewComponent> = async (props) => {\n  const { doc, initPageResult } = props\n\n  const { collectionConfig, globalConfig, locale, req } = initPageResult\n\n  let livePreviewConfig: LivePreviewConfig = req.payload.config?.admin?.livePreview\n\n  if (collectionConfig) {\n    livePreviewConfig = {\n      ...(livePreviewConfig || {}),\n      ...(collectionConfig.admin.livePreview || {}),\n    }\n  }\n\n  if (globalConfig) {\n    livePreviewConfig = {\n      ...(livePreviewConfig || {}),\n      ...(globalConfig.admin.livePreview || {}),\n    }\n  }\n\n  const breakpoints: LivePreviewConfig['breakpoints'] = [\n    ...(livePreviewConfig?.breakpoints || []),\n    {\n      name: 'responsive',\n      height: '100%',\n      label: 'Responsive',\n      width: '100%',\n    },\n  ]\n\n  const url =\n    typeof livePreviewConfig?.url === 'function'\n      ? await livePreviewConfig.url({\n          collectionConfig,\n          data: doc,\n          globalConfig,\n          locale,\n          req,\n          /**\n           * @deprecated\n           * Use `req.payload` instead. This will be removed in the next major version.\n           */\n          payload: initPageResult.req.payload,\n        })\n      : livePreviewConfig?.url\n\n  return (\n    <LivePreviewClient\n      breakpoints={breakpoints}\n      Description={props.Description}\n      initialData={doc}\n      PreviewButton={props.PreviewButton}\n      PublishButton={props.PublishButton}\n      SaveButton={props.SaveButton}\n      SaveDraftButton={props.SaveDraftButton}\n      Upload={props.Upload}\n      url={url}\n    />\n  )\n}\n"],"names":["React","LivePreviewClient","LivePreviewView","props","doc","initPageResult","collectionConfig","globalConfig","locale","req","livePreviewConfig","payload","config","admin","livePreview","breakpoints","name","height","label","width","url","data","_jsx","Description","initialData","PreviewButton","PublishButton","SaveButton","SaveDraftButton","Upload"],"mappings":";;;;AAEA,OAAOA,KAAA,MAAW;AAGlB,SAASC,iBAAiB,QAAQ;;;;AAE3B,MAAMC,eAAA,GAAkE,OAAOC,KAAA;IACpF,MAAM,EAAEC,GAAG,EAAEC,cAAAA,EAAgB,GAAGF,KAAA;IAEhC,MAAM,EAAEG,gBAAgB,EAAEC,YAAY,EAAEC,MAAM,EAAEC,GAAAA,EAAK,GAAGJ,cAAA;IAExD,IAAIK,iBAAA,GAAuCD,GAAA,CAAIE,OAAO,CAACC,MAAM,EAAEC,KAAA,EAAOC,WAAA;IAEtE,IAAIR,gBAAA,EAAkB;QACpBI,iBAAA,GAAoB;YAClB,GAAIA,iBAAA,IAAqB,CAAC,CAAC;YAC3B,GAAIJ,gBAAA,CAAiBO,KAAK,CAACC,WAAW,IAAI,CAAC,CAAC;QAC9C;IACF;IAEA,IAAIP,YAAA,EAAc;QAChBG,iBAAA,GAAoB;YAClB,GAAIA,iBAAA,IAAqB,CAAC,CAAC;YAC3B,GAAIH,YAAA,CAAaM,KAAK,CAACC,WAAW,IAAI,CAAC,CAAC;QAC1C;IACF;IAEA,MAAMC,WAAA,GAAgD,C;WAChDL,iBAAA,EAAmBK,WAAA,IAAe,EAAE;QACxC;YACEC,IAAA,EAAM;YACNC,MAAA,EAAQ;YACRC,KAAA,EAAO;YACPC,KAAA,EAAO;QACT;KACD;IAED,MAAMC,GAAA,GACJ,OAAOV,iBAAA,EAAmBU,GAAA,KAAQ,aAC9B,MAAMV,iBAAA,CAAkBU,GAAG,CAAC;QAC1Bd,gBAAA;QACAe,IAAA,EAAMjB,GAAA;QACNG,YAAA;QACAC,MAAA;QACAC,GAAA;QACA;;;UAIAE,OAAA,EAASN,cAAA,CAAeI,GAAG,CAACE,OAAAA;IAC9B,KACAD,iBAAA,EAAmBU,GAAA;IAEzB,OAAA,WAAA,mXACEE,MAAAA,AAAA,6YAACrB,oBAAA,EAAA;QACCc,WAAA,EAAaA,WAAA;QACbQ,WAAA,EAAapB,KAAA,CAAMoB,WAAW;QAC9BC,WAAA,EAAapB,GAAA;QACbqB,aAAA,EAAetB,KAAA,CAAMsB,aAAa;QAClCC,aAAA,EAAevB,KAAA,CAAMuB,aAAa;QAClCC,UAAA,EAAYxB,KAAA,CAAMwB,UAAU;QAC5BC,eAAA,EAAiBzB,KAAA,CAAMyB,eAAe;QACtCC,MAAA,EAAQ1B,KAAA,CAAM0B,MAAM;QACpBT,GAAA,EAAKA;;AAGX","ignoreList":[0]}},
    {"offset": {"line": 2601, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2607, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/elements/FormHeader/index.tsx"],"sourcesContent":["import React from 'react'\n\nimport './index.scss'\n\nconst baseClass = 'form-header'\n\ntype Props = {\n  description?: React.ReactNode | string\n  heading: string\n}\nexport function FormHeader({ description, heading }: Props) {\n  if (!heading) {\n    return null\n  }\n\n  return (\n    <div className={baseClass}>\n      <h1>{heading}</h1>\n      {Boolean(description) && <p>{description}</p>}\n    </div>\n  )\n}\n"],"names":["React","baseClass","FormHeader","description","heading","_jsxs","className","_jsx","Boolean"],"mappings":";;;;AAAA,OAAOA,KAAA,MAAW;;;AAIlB,MAAMC,SAAA,GAAY;AAMX,SAASC,WAAW,EAAEC,WAAW,EAAEC,OAAAA,EAAgB;IACxD,IAAI,CAACA,OAAA,EAAS;QACZ,OAAO;IACT;IAEA,OAAA,WAAA,mXACEC,OAAAA,AAAA,EAAC,OAAA;QAAIC,SAAA,EAAWL,SAAA;;0YACdM,MAAAA,AAAA,EAAC,MAAA;0BAAIH;;YACJI,OAAA,CAAQL,WAAA,KAAA,WAAA,mXAAgBI,MAAAA,AAAA,EAAC,KAAA;0BAAGJ;;;;AAGnC","ignoreList":[0]}},
    {"offset": {"line": 2631, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2637, "column": 0}, "map": {"version":3,"file":"meta.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Unauthorized/meta.ts"],"sourcesContent":["import type { GenerateViewMetadata } from '../Root/index.js'\n\nimport { meta } from '../../utilities/meta.js'\n\nexport const generateUnauthorizedMetadata: GenerateViewMetadata = async ({ config, i18n: { t } }) =>\n  meta({\n    description: t('error:unauthorized'),\n    keywords: t('error:unauthorized'),\n    serverURL: config.serverURL,\n    title: t('error:unauthorized'),\n    ...(config.admin.meta || {}),\n  })\n"],"names":["meta","generateUnauthorizedMetadata","config","i18n","t","description","keywords","serverURL","title","admin"],"mappings":";;;AAEA,SAASA,IAAI,QAAQ;;AAEd,MAAMC,4BAAA,GAAqD,MAAAA,CAAO,EAAEC,MAAM,EAAEC,IAAA,EAAM,EAAEC,CAAAA,EAAC,EAAI,4XAC9FJ,OAAAA,AAAA,EAAK;QACHK,WAAA,EAAaD,CAAA,CAAE;QACfE,QAAA,EAAUF,CAAA,CAAE;QACZG,SAAA,EAAWL,MAAA,CAAOK,SAAS;QAC3BC,KAAA,EAAOJ,CAAA,CAAE;QACT,GAAIF,MAAA,CAAOO,KAAK,CAACT,IAAI,IAAI,CAAC,CAAC;IAC7B","ignoreList":[0]}},
    {"offset": {"line": 2649, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2655, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Unauthorized/index.tsx"],"sourcesContent":["import type { AdminViewComponent, PayloadServerReactComponent } from 'payload'\n\nimport { Button } from '@payloadcms/ui'\nimport { formatAdminURL } from '@payloadcms/ui/shared'\nimport LinkImport from 'next/link.js'\nimport React from 'react'\n\nimport { FormHeader } from '../../elements/FormHeader/index.js'\nimport './index.scss'\n\nconst Link = (LinkImport.default || LinkImport) as unknown as typeof LinkImport.default\n\nexport { generateUnauthorizedMetadata } from './meta.js'\n\nconst baseClass = 'unauthorized'\n\nexport const UnauthorizedView: PayloadServerReactComponent<AdminViewComponent> = ({\n  initPageResult,\n}) => {\n  const {\n    permissions,\n    req: {\n      i18n,\n      payload: {\n        config: {\n          admin: {\n            routes: { logout: logoutRoute },\n          },\n          routes: { admin: adminRoute },\n        },\n      },\n      user,\n    },\n  } = initPageResult\n\n  return (\n    <div className={baseClass}>\n      <FormHeader\n        description={i18n.t('error:notAllowedToAccessPage')}\n        heading={i18n.t(\n          user && !permissions.canAccessAdmin ? 'error:unauthorizedAdmin' : 'error:unauthorized',\n        )}\n      />\n      <Button\n        className={`${baseClass}__button`}\n        el=\"link\"\n        Link={Link}\n        size=\"large\"\n        to={formatAdminURL({\n          adminRoute,\n          path: logoutRoute,\n        })}\n      >\n        {i18n.t('authentication:logOut')}\n      </Button>\n    </div>\n  )\n}\n"],"names":["Button","formatAdminURL","LinkImport","React","FormHeader","Link","default","generateUnauthorizedMetadata","baseClass","UnauthorizedView","initPageResult","permissions","req","i18n","payload","config","admin","routes","logout","logoutRoute","adminRoute","user","_jsxs","className","_jsx","description","t","heading","canAccessAdmin","el","size","to","path"],"mappings":";;;AAIA,OAAOE,UAAA,MAAgB;;AAGvB,SAASE,UAAU,QAAQ;AAL3B,SAASJ,MAAM,QAAQ;AACvB,SAASC,cAAc,QAAQ;;;;;;;AAO/B,MAAMI,IAAA,oRAAQH,UAAA,CAAWI,OAAO,qRAAIJ,UAAA;;AAIpC,MAAMM,SAAA,GAAY;AAEX,MAAMC,gBAAA,GAAoEA,CAAC,EAChFC,cAAAA,EACD;IACC,MAAM,EACJC,WAAW,EACXC,GAAA,EAAK,EACHC,IAAI,EACJC,OAAA,EAAS,EACPC,MAAA,EAAQ,EACNC,KAAA,EAAO,EACLC,MAAA,EAAQ,EAAEC,MAAA,EAAQC,WAAAA,EAAW,EAC9B,EACDF,MAAA,EAAQ,EAAED,KAAA,EAAOI,UAAAA,EAAU,EAAE,EAEhC,EACDC,IAAAA,EAAI,EAEP,GAAGX,cAAA;IAEJ,OAAA,WAAA,GACEY,uXAAAA,AAAA,EAAC,OAAA;QAAIC,SAAA,EAAWf,SAAA;;0YACdgB,MAAAA,AAAA,EAACpB,gZAAA,EAAA;gBACCqB,WAAA,EAAaZ,IAAA,CAAKa,CAAC,CAAC;gBACpBC,OAAA,EAASd,IAAA,CAAKa,CAAC,CACbL,IAAA,IAAQ,CAACV,WAAA,CAAYiB,cAAc,GAAG,4BAA4B;;0YAGtEJ,MAAAA,AAAA,8XAACxB,SAAA,EAAA;gBACCuB,SAAA,EAAW,GAAGf,SAAA,CAAA,QAAA,CAAmB;gBACjCqB,EAAA,EAAG;gBACHxB,IAAA,EAAMA,IAAA;gBACNyB,IAAA,EAAK;gBACLC,EAAA,kYAAI9B,iBAAAA,AAAA,EAAe;oBACjBmB,UAAA;oBACAY,IAAA,EAAMb;gBACR;0BAECN,IAAA,CAAKa,CAAC,CAAC;;;;AAIhB","ignoreList":[0]}},
    {"offset": {"line": 2695, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2714, "column": 0}, "map": {"version":3,"file":"getLatestVersion.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Versions/getLatestVersion.ts"],"sourcesContent":["import type { Payload, PayloadRequest, Where } from 'payload'\n\nimport { logError } from 'payload'\n\ntype ReturnType = {\n  id: string\n  updatedAt: string\n} | null\n\ntype Args = {\n  locale?: string\n  overrideAccess?: boolean\n  parentID?: number | string\n  payload: Payload\n  req?: PayloadRequest\n  slug: string\n  status: 'draft' | 'published'\n  type: 'collection' | 'global'\n}\nexport async function getLatestVersion(args: Args): Promise<ReturnType> {\n  const { slug, type = 'collection', locale, overrideAccess, parentID, payload, req, status } = args\n\n  const and: Where[] = [\n    {\n      'version._status': {\n        equals: status,\n      },\n    },\n  ]\n\n  if (type === 'collection' && parentID) {\n    and.push({\n      parent: {\n        equals: parentID,\n      },\n    })\n  }\n\n  try {\n    const sharedOptions = {\n      depth: 0,\n      limit: 1,\n      locale,\n      overrideAccess,\n      req,\n      sort: '-updatedAt',\n      where: {\n        and,\n      },\n    }\n\n    const response =\n      type === 'collection'\n        ? await payload.findVersions({\n            collection: slug,\n            ...sharedOptions,\n          })\n        : await payload.findGlobalVersions({\n            slug,\n            ...sharedOptions,\n          })\n\n    if (!response.docs.length) {\n      return null\n    }\n\n    return {\n      id: response.docs[0].id,\n      updatedAt: response.docs[0].updatedAt,\n    }\n  } catch (err) {\n    logError({ err, payload })\n\n    return null\n  }\n}\n"],"names":["logError","getLatestVersion","args","slug","type","locale","overrideAccess","parentID","payload","req","status","and","equals","push","parent","sharedOptions","depth","limit","sort","where","response","findVersions","collection","findGlobalVersions","docs","length","id","updatedAt","err"],"mappings":";;;AAEA,SAASA,QAAQ,QAAQ;;AAiBlB,eAAeC,iBAAiBC,IAAU;IAC/C,MAAM,EAAEC,IAAI,EAAEC,IAAA,GAAO,YAAY,EAAEC,MAAM,EAAEC,cAAc,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,EAAEC,MAAAA,EAAQ,GAAGR,IAAA;IAE9F,MAAMS,GAAA,GAAe;QACnB;YACE,mBAAmB;gBACjBC,MAAA,EAAQF;YACV;QACF;KACD;IAED,IAAIN,IAAA,KAAS,gBAAgBG,QAAA,EAAU;QACrCI,GAAA,CAAIE,IAAI,CAAC;YACPC,MAAA,EAAQ;gBACNF,MAAA,EAAQL;YACV;QACF;IACF;IAEA,IAAI;QACF,MAAMQ,aAAA,GAAgB;YACpBC,KAAA,EAAO;YACPC,KAAA,EAAO;YACPZ,MAAA;YACAC,cAAA;YACAG,GAAA;YACAS,IAAA,EAAM;YACNC,KAAA,EAAO;gBACLR;YACF;QACF;QAEA,MAAMS,QAAA,GACJhB,IAAA,KAAS,eACL,MAAMI,OAAA,CAAQa,YAAY,CAAC;YACzBC,UAAA,EAAYnB,IAAA;YACZ,GAAGY,aAAAA;QACL,KACA,MAAMP,OAAA,CAAQe,kBAAkB,CAAC;YAC/BpB,IAAA;YACA,GAAGY,aAAAA;QACL;QAEN,IAAI,CAACK,QAAA,CAASI,IAAI,CAACC,MAAM,EAAE;YACzB,OAAO;QACT;QAEA,OAAO;YACLC,EAAA,EAAIN,QAAA,CAASI,IAAI,CAAC,EAAE,CAACE,EAAE;YACvBC,SAAA,EAAWP,QAAA,CAASI,IAAI,CAAC,EAAE,CAACG,SAAAA;QAC9B;IACF,EAAE,OAAOC,GAAA,EAAK;2XACZ5B,WAAAA,AAAA,EAAS;YAAE4B,GAAA;YAAKpB;QAAQ;QAExB,OAAO;IACT;AACF","ignoreList":[0]}},
    {"offset": {"line": 2769, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2775, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Version/Default/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const DefaultVersionView = registerClientReference(\n    function() { throw new Error(\"Attempted to call DefaultVersionView() from the server but DefaultVersionView is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Version/Default/index.js <module evaluation>\",\n    \"DefaultVersionView\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,qBAAqB,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EACpD;IAAa,MAAM,IAAI,MAAM;AAAoP,GACjR,+OACA","ignoreList":[0]}},
    {"offset": {"line": 2783, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2789, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Version/Default/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const DefaultVersionView = registerClientReference(\n    function() { throw new Error(\"Attempted to call DefaultVersionView() from the server but DefaultVersionView is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Version/Default/index.js\",\n    \"DefaultVersionView\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,qBAAqB,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EACpD;IAAa,MAAM,IAAI,MAAM;AAAoP,GACjR,2NACA","ignoreList":[0]}},
    {"offset": {"line": 2797, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2803, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Version/Default/index.tsx"],"sourcesContent":["'use client'\nimport type { OptionObject } from 'payload'\n\nimport { CheckboxInput, Gutter, useConfig, useDocumentInfo, useTranslation } from '@payloadcms/ui'\nimport { formatDate } from '@payloadcms/ui/shared'\nimport { usePathname, useRouter, useSearchParams } from 'next/navigation.js'\nimport React, { useEffect, useMemo, useState } from 'react'\n\nimport type { CompareOption, DefaultVersionsViewProps } from './types.js'\n\nimport Restore from '../Restore/index.js'\nimport { SelectComparison } from '../SelectComparison/index.js'\nimport './index.scss'\nimport { SelectLocales } from '../SelectLocales/index.js'\nimport { SelectedLocalesContext } from './SelectedLocalesContext.js'\nimport { SetStepNav } from './SetStepNav.js'\n\nconst baseClass = 'view-version'\n\nexport const DefaultVersionView: React.FC<DefaultVersionsViewProps> = ({\n  canUpdate,\n  doc,\n  latestDraftVersion,\n  latestPublishedVersion,\n  modifiedOnly: modifiedOnlyProp,\n  RenderedDiff,\n  selectedLocales: selectedLocalesProp,\n  versionID,\n}) => {\n  const { config, getEntityConfig } = useConfig()\n\n  const availableLocales = useMemo(\n    () =>\n      config.localization\n        ? config.localization.locales.map((locale) => ({\n            label: locale.label,\n            value: locale.code,\n          }))\n        : [],\n    [config.localization],\n  )\n\n  const { i18n } = useTranslation()\n  const { id, collectionSlug, globalSlug } = useDocumentInfo()\n\n  const [collectionConfig] = useState(() => getEntityConfig({ collectionSlug }))\n\n  const [globalConfig] = useState(() => getEntityConfig({ globalSlug }))\n\n  const [selectedLocales, setSelectedLocales] = useState<OptionObject[]>(selectedLocalesProp)\n\n  const [compareValue, setCompareValue] = useState<CompareOption>()\n  const router = useRouter()\n  const pathname = usePathname()\n  const searchParams = useSearchParams()\n  const [modifiedOnly, setModifiedOnly] = useState(modifiedOnlyProp)\n  function onToggleModifiedOnly() {\n    setModifiedOnly(!modifiedOnly)\n  }\n\n  useEffect(() => {\n    // If the selected comparison doc or locales change, update URL params so that version page RSC\n    // can update the version comparison state\n    const current = new URLSearchParams(Array.from(searchParams.entries()))\n\n    if (!compareValue) {\n      current.delete('compareValue')\n    } else {\n      current.set('compareValue', compareValue?.value)\n    }\n    if (!selectedLocales) {\n      current.delete('localeCodes')\n    } else {\n      current.set('localeCodes', JSON.stringify(selectedLocales.map((locale) => locale.value)))\n    }\n\n    if (!modifiedOnly) {\n      current.delete('modifiedOnly')\n    } else {\n      current.set('modifiedOnly', 'true')\n    }\n\n    const search = current.toString()\n    const query = search ? `?${search}` : ''\n    router.push(`${pathname}${query}`)\n  }, [compareValue, pathname, router, searchParams, selectedLocales, modifiedOnly])\n\n  const {\n    admin: { dateFormat },\n    localization,\n    routes: { api: apiRoute },\n    serverURL,\n  } = config\n\n  const versionCreatedAt = doc?.updatedAt\n    ? formatDate({ date: doc.updatedAt, i18n, pattern: dateFormat })\n    : ''\n\n  const compareBaseURL = `${serverURL}${apiRoute}/${globalSlug ? 'globals/' : ''}${\n    collectionSlug || globalSlug\n  }/versions`\n\n  const draftsEnabled = Boolean((collectionConfig || globalConfig)?.versions.drafts)\n\n  return (\n    <main className={baseClass}>\n      <SetStepNav\n        collectionConfig={collectionConfig}\n        collectionSlug={collectionSlug}\n        doc={doc}\n        fields={(collectionConfig || globalConfig)?.fields}\n        globalConfig={globalConfig}\n        globalSlug={globalSlug}\n        id={id}\n      />\n      <Gutter className={`${baseClass}__wrap`}>\n        <div className={`${baseClass}__header-wrap`}>\n          <p className={`${baseClass}__created-at`}>\n            {i18n.t('version:versionCreatedOn', {\n              version: i18n.t(doc?.autosave ? 'version:autosavedVersion' : 'version:version'),\n            })}\n          </p>\n          <header className={`${baseClass}__header`}>\n            <h2>{versionCreatedAt}</h2>\n            {canUpdate && (\n              <Restore\n                className={`${baseClass}__restore`}\n                collectionSlug={collectionSlug}\n                globalSlug={globalSlug}\n                label={collectionConfig?.labels.singular || globalConfig?.label}\n                originalDocID={id}\n                status={doc?.version?._status}\n                versionDate={versionCreatedAt}\n                versionID={versionID}\n              />\n            )}\n            <span className={`${baseClass}__modifiedCheckBox`}>\n              <CheckboxInput\n                checked={modifiedOnly}\n                id={'modifiedOnly'}\n                label={i18n.t('version:modifiedOnly')}\n                onToggle={onToggleModifiedOnly}\n              />\n            </span>\n          </header>\n        </div>\n        <div className={`${baseClass}__controls`}>\n          <SelectComparison\n            baseURL={compareBaseURL}\n            draftsEnabled={draftsEnabled}\n            latestDraftVersion={latestDraftVersion}\n            latestPublishedVersion={latestPublishedVersion}\n            onChange={setCompareValue}\n            parentID={id}\n            value={compareValue}\n            versionID={versionID}\n          />\n          {localization && (\n            <SelectLocales\n              onChange={setSelectedLocales}\n              options={availableLocales}\n              value={selectedLocales}\n            />\n          )}\n        </div>\n        <SelectedLocalesContext.Provider\n          value={{ selectedLocales: selectedLocales.map((locale) => locale.value) }}\n        >\n          {doc?.version && RenderedDiff}\n        </SelectedLocalesContext.Provider>\n      </Gutter>\n    </main>\n  )\n}\n"],"names":["CheckboxInput","Gutter","useConfig","useDocumentInfo","useTranslation","formatDate","usePathname","useRouter","useSearchParams","React","useEffect","useMemo","useState","Restore","SelectComparison","SelectLocales","SelectedLocalesContext","SetStepNav","baseClass","DefaultVersionView","canUpdate","doc","latestDraftVersion","latestPublishedVersion","modifiedOnly","modifiedOnlyProp","RenderedDiff","selectedLocales","selectedLocalesProp","versionID","config","getEntityConfig","availableLocales","localization","locales","map","locale","label","value","code","i18n","id","collectionSlug","globalSlug","collectionConfig","globalConfig","setSelectedLocales","compareValue","setCompareValue","router","pathname","searchParams","setModifiedOnly","onToggleModifiedOnly","current","URLSearchParams","Array","from","entries","delete","set","JSON","stringify","search","toString","query","push","admin","dateFormat","routes","api","apiRoute","serverURL","versionCreatedAt","updatedAt","date","pattern","compareBaseURL","draftsEnabled","Boolean","versions","drafts","_jsxs","className","_jsx","fields","t","version","autosave","labels","singular","originalDocID","status","_status","versionDate","checked","onToggle","baseURL","onChange","parentID","options","Provider"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 2807, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2813, "column": 0}, "map": {"version":3,"file":"diffMethods.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/fields/diffMethods.ts"],"sourcesContent":["export const diffMethods = {\n  radio: 'WORDS_WITH_SPACE',\n  relationship: 'WORDS_WITH_SPACE',\n  select: 'WORDS_WITH_SPACE',\n  upload: 'WORDS_WITH_SPACE',\n}\n"],"names":["diffMethods","radio","relationship","select","upload"],"mappings":";;;AAAO,MAAMA,WAAA,GAAc;IACzBC,KAAA,EAAO;IACPC,YAAA,EAAc;IACdC,MAAA,EAAQ;IACRC,MAAA,EAAQ;AACV","ignoreList":[0]}},
    {"offset": {"line": 2822, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2828, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Collapsible/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Collapsible = registerClientReference(\n    function() { throw new Error(\"Attempted to call Collapsible() from the server but Collapsible is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Collapsible/index.js <module evaluation>\",\n    \"Collapsible\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,cAAc,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,6QACA","ignoreList":[0]}},
    {"offset": {"line": 2836, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2842, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Collapsible/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Collapsible = registerClientReference(\n    function() { throw new Error(\"Attempted to call Collapsible() from the server but Collapsible is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Collapsible/index.js\",\n    \"Collapsible\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,cAAc,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,yPACA","ignoreList":[0]}},
    {"offset": {"line": 2850, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2856, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/fields/Collapsible/index.tsx"],"sourcesContent":["'use client'\nimport type { CollapsibleFieldDiffClientComponent } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\nimport { useTranslation } from '@payloadcms/ui'\nimport React from 'react'\n\nimport { useSelectedLocales } from '../../../Default/SelectedLocalesContext.js'\nimport { DiffCollapser } from '../../DiffCollapser/index.js'\nimport { RenderVersionFieldsToDiff } from '../../RenderVersionFieldsToDiff.js'\n\nconst baseClass = 'collapsible-diff'\n\nexport const Collapsible: CollapsibleFieldDiffClientComponent = ({\n  baseVersionField,\n  comparisonValue,\n  field,\n  versionValue,\n}) => {\n  const { i18n } = useTranslation()\n  const { selectedLocales } = useSelectedLocales()\n\n  if (!baseVersionField.fields?.length) {\n    return null\n  }\n\n  return (\n    <div className={baseClass}>\n      <DiffCollapser\n        comparison={comparisonValue}\n        fields={field.fields}\n        label={\n          'label' in field &&\n          field.label &&\n          typeof field.label !== 'function' && <span>{getTranslation(field.label, i18n)}</span>\n        }\n        locales={selectedLocales}\n        version={versionValue}\n      >\n        <RenderVersionFieldsToDiff versionFields={baseVersionField.fields} />\n      </DiffCollapser>\n    </div>\n  )\n}\n"],"names":["c","_c","getTranslation","useTranslation","React","useSelectedLocales","DiffCollapser","RenderVersionFieldsToDiff","baseClass","Collapsible","t0","$","baseVersionField","comparisonValue","field","versionValue","i18n","selectedLocales","fields","length","t1","label","_jsx","children","t2","className","comparison","version","versionFields"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 2860, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2866, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Group/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Group = registerClientReference(\n    function() { throw new Error(\"Attempted to call Group() from the server but Group is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Group/index.js <module evaluation>\",\n    \"Group\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,QAAQ,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EACvC;IAAa,MAAM,IAAI,MAAM;AAA0N,GACvP,uQACA","ignoreList":[0]}},
    {"offset": {"line": 2874, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2880, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Group/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Group = registerClientReference(\n    function() { throw new Error(\"Attempted to call Group() from the server but Group is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Group/index.js\",\n    \"Group\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,QAAQ,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EACvC;IAAa,MAAM,IAAI,MAAM;AAA0N,GACvP,mPACA","ignoreList":[0]}},
    {"offset": {"line": 2888, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2894, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/fields/Group/index.tsx"],"sourcesContent":["'use client'\nimport type { GroupFieldDiffClientComponent } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\n\nimport './index.scss'\n\nimport { useTranslation } from '@payloadcms/ui'\nimport React from 'react'\n\nimport { useSelectedLocales } from '../../../Default/SelectedLocalesContext.js'\nimport { DiffCollapser } from '../../DiffCollapser/index.js'\nimport { RenderVersionFieldsToDiff } from '../../RenderVersionFieldsToDiff.js'\n\nconst baseClass = 'group-diff'\n\nexport const Group: GroupFieldDiffClientComponent = ({\n  baseVersionField,\n  comparisonValue,\n  field,\n  locale,\n  versionValue,\n}) => {\n  const { i18n } = useTranslation()\n  const { selectedLocales } = useSelectedLocales()\n\n  return (\n    <div className={baseClass}>\n      <DiffCollapser\n        comparison={comparisonValue}\n        fields={field.fields}\n        label={\n          'label' in field &&\n          field.label &&\n          typeof field.label !== 'function' && (\n            <span>\n              {locale && <span className={`${baseClass}__locale-label`}>{locale}</span>}\n              {getTranslation(field.label, i18n)}\n            </span>\n          )\n        }\n        locales={selectedLocales}\n        version={versionValue}\n      >\n        <RenderVersionFieldsToDiff versionFields={baseVersionField.fields} />\n      </DiffCollapser>\n    </div>\n  )\n}\n"],"names":["c","_c","getTranslation","useTranslation","React","useSelectedLocales","DiffCollapser","RenderVersionFieldsToDiff","baseClass","Group","t0","$","baseVersionField","comparisonValue","field","locale","versionValue","i18n","selectedLocales","t1","label","_jsxs","children","_jsx","className","t2","comparison","fields","version","versionFields"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 2898, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2904, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Iterable/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Iterable = registerClientReference(\n    function() { throw new Error(\"Attempted to call Iterable() from the server but Iterable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Iterable/index.js <module evaluation>\",\n    \"Iterable\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,WAAW,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAC1C;IAAa,MAAM,IAAI,MAAM;AAAgO,GAC7P,0QACA","ignoreList":[0]}},
    {"offset": {"line": 2912, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2918, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Iterable/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Iterable = registerClientReference(\n    function() { throw new Error(\"Attempted to call Iterable() from the server but Iterable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Iterable/index.js\",\n    \"Iterable\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,WAAW,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAC1C;IAAa,MAAM,IAAI,MAAM;AAAgO,GAC7P,sPACA","ignoreList":[0]}},
    {"offset": {"line": 2926, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2932, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/fields/Iterable/index.tsx"],"sourcesContent":["'use client'\n\nimport type { FieldDiffClientProps } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\nimport { useTranslation } from '@payloadcms/ui'\n\nimport './index.scss'\n\nimport { fieldIsArrayType, fieldIsBlockType } from 'payload/shared'\nimport React from 'react'\n\nimport { useSelectedLocales } from '../../../Default/SelectedLocalesContext.js'\nimport { DiffCollapser } from '../../DiffCollapser/index.js'\nimport { RenderVersionFieldsToDiff } from '../../RenderVersionFieldsToDiff.js'\nimport { getFieldsForRowComparison } from '../../utilities/getFieldsForRowComparison.js'\n\nconst baseClass = 'iterable-diff'\n\nexport const Iterable: React.FC<FieldDiffClientProps> = ({\n  baseVersionField,\n  comparisonValue,\n  field,\n  locale,\n  versionValue,\n}) => {\n  const { i18n } = useTranslation()\n  const { selectedLocales } = useSelectedLocales()\n\n  const versionRowCount = Array.isArray(versionValue) ? versionValue.length : 0\n  const comparisonRowCount = Array.isArray(comparisonValue) ? comparisonValue.length : 0\n  const maxRows = Math.max(versionRowCount, comparisonRowCount)\n\n  if (!fieldIsArrayType(field) && !fieldIsBlockType(field)) {\n    throw new Error(`Expected field to be an array or blocks type but got: ${field.type}`)\n  }\n\n  return (\n    <div className={baseClass}>\n      <DiffCollapser\n        comparison={comparisonValue}\n        field={field}\n        isIterable\n        label={\n          'label' in field &&\n          field.label &&\n          typeof field.label !== 'function' && (\n            <span>\n              {locale && <span className={`${baseClass}__locale-label`}>{locale}</span>}\n              {getTranslation(field.label, i18n)}\n            </span>\n          )\n        }\n        locales={selectedLocales}\n        version={versionValue}\n      >\n        {maxRows > 0 && (\n          <div className={`${baseClass}__rows`}>\n            {Array.from(Array(maxRows).keys()).map((row, i) => {\n              const versionRow = versionValue?.[i] || {}\n              const comparisonRow = comparisonValue?.[i] || {}\n\n              const { fields, versionFields } = getFieldsForRowComparison({\n                baseVersionField,\n                comparisonRow,\n                field,\n                row: i,\n                versionRow,\n              })\n\n              const rowNumber = String(i + 1).padStart(2, '0')\n              const rowLabel = fieldIsArrayType(field) ? `Item ${rowNumber}` : `Block ${rowNumber}`\n\n              return (\n                <div className={`${baseClass}__row`} key={i}>\n                  <DiffCollapser\n                    comparison={comparisonRow}\n                    fields={fields}\n                    label={rowLabel}\n                    locales={selectedLocales}\n                    version={versionRow}\n                  >\n                    <RenderVersionFieldsToDiff versionFields={versionFields} />\n                  </DiffCollapser>\n                </div>\n              )\n            })}\n          </div>\n        )}\n        {maxRows === 0 && (\n          <div className={`${baseClass}__no-rows`}>\n            {i18n.t('version:noRowsFound', {\n              label:\n                'labels' in field && field.labels?.plural\n                  ? getTranslation(field.labels.plural, i18n)\n                  : i18n.t('general:rows'),\n            })}\n          </div>\n        )}\n      </DiffCollapser>\n    </div>\n  )\n}\n"],"names":["c","_c","getTranslation","useTranslation","fieldIsArrayType","fieldIsBlockType","React","useSelectedLocales","DiffCollapser","RenderVersionFieldsToDiff","getFieldsForRowComparison","baseClass","Iterable","t0","$","baseVersionField","comparisonValue","field","locale","versionValue","i18n","selectedLocales","versionRowCount","Array","isArray","length","comparisonRowCount","maxRows","Math","max","Error","type","t1","label","_jsxs","children","_jsx","className","t2","comparison","isIterable","version","from","keys","map","row","i","versionRow","comparisonRow","fields","versionFields","rowNumber","String","padStart","rowLabel","locales","t","labels","plural"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 2936, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2942, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Relationship/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Relationship = registerClientReference(\n    function() { throw new Error(\"Attempted to call Relationship() from the server but Relationship is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Relationship/index.js <module evaluation>\",\n    \"Relationship\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,eAAe,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,8QACA","ignoreList":[0]}},
    {"offset": {"line": 2950, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2956, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Relationship/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Relationship = registerClientReference(\n    function() { throw new Error(\"Attempted to call Relationship() from the server but Relationship is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Relationship/index.js\",\n    \"Relationship\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,eAAe,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,0PACA","ignoreList":[0]}},
    {"offset": {"line": 2964, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2970, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/fields/Relationship/index.tsx"],"sourcesContent":["'use client'\nimport type {\n  ClientCollectionConfig,\n  ClientField,\n  RelationshipFieldDiffClientComponent,\n} from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\nimport { useConfig, useTranslation } from '@payloadcms/ui'\nimport { fieldAffectsData, fieldIsPresentationalOnly } from 'payload/shared'\nimport React from 'react'\nimport ReactDiffViewer from 'react-diff-viewer-continued'\n\nimport Label from '../../Label/index.js'\nimport './index.scss'\nimport { diffStyles } from '../styles.js'\n\nconst baseClass = 'relationship-diff'\n\ntype RelationshipValue = Record<string, any>\n\nconst generateLabelFromValue = (\n  collections: ClientCollectionConfig[],\n  field: ClientField,\n  locale: string,\n  value: { relationTo: string; value: RelationshipValue } | RelationshipValue,\n): string => {\n  if (Array.isArray(value)) {\n    return value\n      .map((v) => generateLabelFromValue(collections, field, locale, v))\n      .filter(Boolean) // Filters out any undefined or empty values\n      .join(', ')\n  }\n\n  let relatedDoc: RelationshipValue\n  let valueToReturn: RelationshipValue | string = ''\n\n  const relationTo = 'relationTo' in field ? field.relationTo : undefined\n\n  if (value === null || typeof value === 'undefined') {\n    // eslint-disable-next-line @typescript-eslint/no-base-to-string -- We want to return a string specifilly for null and undefined\n    return String(value)\n  }\n\n  if (typeof value === 'object' && 'relationTo' in value) {\n    relatedDoc = value.value\n  } else {\n    // Non-polymorphic relationship\n    relatedDoc = value\n  }\n\n  const relatedCollection = relationTo\n    ? collections.find(\n        (c) =>\n          c.slug ===\n          (typeof value === 'object' && 'relationTo' in value ? value.relationTo : relationTo),\n      )\n    : null\n\n  if (relatedCollection) {\n    const useAsTitle = relatedCollection?.admin?.useAsTitle\n    const useAsTitleField = relatedCollection.fields.find(\n      (f) => fieldAffectsData(f) && !fieldIsPresentationalOnly(f) && f.name === useAsTitle,\n    )\n    let titleFieldIsLocalized = false\n\n    if (useAsTitleField && fieldAffectsData(useAsTitleField)) {\n      titleFieldIsLocalized = useAsTitleField.localized\n    }\n\n    if (typeof relatedDoc?.[useAsTitle] !== 'undefined') {\n      valueToReturn = relatedDoc[useAsTitle]\n    } else if (typeof relatedDoc?.id !== 'undefined') {\n      valueToReturn = relatedDoc.id\n    } else {\n      valueToReturn = relatedDoc\n    }\n\n    if (typeof valueToReturn === 'object' && titleFieldIsLocalized && valueToReturn?.[locale]) {\n      valueToReturn = valueToReturn[locale]\n    }\n  } else if (relatedDoc) {\n    // Handle non-polymorphic `hasMany` relationships or fallback\n    if (typeof relatedDoc?.id !== 'undefined') {\n      valueToReturn = String(relatedDoc.id)\n    } else {\n      valueToReturn = relatedDoc\n    }\n  }\n\n  if (\n    (valueToReturn && typeof valueToReturn === 'object' && valueToReturn !== null) ||\n    typeof valueToReturn !== 'string'\n  ) {\n    valueToReturn = JSON.stringify(valueToReturn)\n  }\n\n  return valueToReturn\n}\n\nexport const Relationship: RelationshipFieldDiffClientComponent = ({\n  comparisonValue,\n  field,\n  locale,\n  versionValue,\n}) => {\n  const { i18n } = useTranslation()\n\n  const placeholder = `[${i18n.t('general:noValue')}]`\n\n  const {\n    config: { collections },\n  } = useConfig()\n\n  let versionToRender: string | undefined = placeholder\n  let comparisonToRender: string | undefined = placeholder\n\n  if (versionValue) {\n    if ('hasMany' in field && field.hasMany && Array.isArray(versionValue)) {\n      versionToRender =\n        versionValue\n          .map((val) => generateLabelFromValue(collections, field, locale, val))\n          .join(', ') || placeholder\n    } else {\n      versionToRender =\n        generateLabelFromValue(collections, field, locale, versionValue) || placeholder\n    }\n  }\n\n  if (comparisonValue) {\n    if ('hasMany' in field && field.hasMany && Array.isArray(comparisonValue)) {\n      comparisonToRender =\n        comparisonValue\n          .map((val) => generateLabelFromValue(collections, field, locale, val))\n          .join(', ') || placeholder\n    } else {\n      comparisonToRender =\n        generateLabelFromValue(collections, field, locale, comparisonValue) || placeholder\n    }\n  }\n\n  const label =\n    'label' in field && typeof field.label !== 'boolean' && typeof field.label !== 'function'\n      ? field.label\n      : ''\n\n  return (\n    <div className={baseClass}>\n      <Label>\n        {locale && <span className={`${baseClass}__locale-label`}>{locale}</span>}\n        {getTranslation(label, i18n)}\n      </Label>\n      <ReactDiffViewer\n        hideLineNumbers\n        newValue={versionToRender}\n        oldValue={comparisonToRender}\n        showDiffOnly={false}\n        splitView\n        styles={diffStyles}\n      />\n    </div>\n  )\n}\n"],"names":["c","_c","getTranslation","useConfig","useTranslation","fieldAffectsData","fieldIsPresentationalOnly","React","ReactDiffViewer","Label","diffStyles","baseClass","generateLabelFromValue","collections","field","locale","value","Array","isArray","map","v","filter","Boolean","join","relatedDoc","valueToReturn","relationTo","undefined","String","relatedCollection","find","slug","useAsTitle","admin","useAsTitleField","fields","f","name","titleFieldIsLocalized","localized","id","JSON","stringify","Relationship","t0","$","comparisonValue","versionValue","i18n","placeholder","t","config","t1","t2","versionToRender","comparisonToRender","hasMany","val","val_0","label","t3","_jsx","className","children","_jsxs","hideLineNumbers","newValue","oldValue","showDiffOnly","splitView","styles"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 2974, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2980, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Row/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Row = registerClientReference(\n    function() { throw new Error(\"Attempted to call Row() from the server but Row is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Row/index.js <module evaluation>\",\n    \"Row\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,MAAM,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EACrC;IAAa,MAAM,IAAI,MAAM;AAAsN,GACnP,qQACA","ignoreList":[0]}},
    {"offset": {"line": 2988, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2994, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Row/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Row = registerClientReference(\n    function() { throw new Error(\"Attempted to call Row() from the server but Row is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Row/index.js\",\n    \"Row\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,MAAM,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EACrC;IAAa,MAAM,IAAI,MAAM;AAAsN,GACnP,iPACA","ignoreList":[0]}},
    {"offset": {"line": 3002, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3008, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/fields/Row/index.tsx"],"sourcesContent":["'use client'\nimport type { RowFieldDiffClientComponent } from 'payload'\n\nimport React from 'react'\n\nimport { RenderVersionFieldsToDiff } from '../../RenderVersionFieldsToDiff.js'\n\nconst baseClass = 'row-diff'\n\nexport const Row: RowFieldDiffClientComponent = ({ baseVersionField }) => {\n  return (\n    <div className={baseClass}>\n      <RenderVersionFieldsToDiff versionFields={baseVersionField.fields} />\n    </div>\n  )\n}\n"],"names":["React","RenderVersionFieldsToDiff","baseClass","Row","baseVersionField","_jsx","className","versionFields","fields"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 3012, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3018, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Select/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Select = registerClientReference(\n    function() { throw new Error(\"Attempted to call Select() from the server but Select is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Select/index.js <module evaluation>\",\n    \"Select\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,SAAS,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EACxC;IAAa,MAAM,IAAI,MAAM;AAA4N,GACzP,wQACA","ignoreList":[0]}},
    {"offset": {"line": 3026, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3032, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Select/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Select = registerClientReference(\n    function() { throw new Error(\"Attempted to call Select() from the server but Select is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Select/index.js\",\n    \"Select\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,SAAS,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EACxC;IAAa,MAAM,IAAI,MAAM;AAA4N,GACzP,oPACA","ignoreList":[0]}},
    {"offset": {"line": 3040, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3046, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/fields/Select/index.tsx"],"sourcesContent":["'use client'\nimport type { I18nClient } from '@payloadcms/translations'\nimport type { OptionObject, SelectField, SelectFieldDiffClientComponent } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\nimport { useTranslation } from '@payloadcms/ui'\nimport React from 'react'\n\nimport Label from '../../Label/index.js'\nimport './index.scss'\nimport { diffStyles } from '../styles.js'\nimport { DiffViewer } from './DiffViewer/index.js'\n\nconst baseClass = 'select-diff'\n\nconst getOptionsToRender = (\n  value: string,\n  options: SelectField['options'],\n  hasMany: boolean,\n): (OptionObject | string)[] | OptionObject | string => {\n  if (hasMany && Array.isArray(value)) {\n    return value.map(\n      (val) =>\n        options.find((option) => (typeof option === 'string' ? option : option.value) === val) ||\n        String(val),\n    )\n  }\n  return (\n    options.find((option) => (typeof option === 'string' ? option : option.value) === value) ||\n    String(value)\n  )\n}\n\nconst getTranslatedOptions = (\n  options: (OptionObject | string)[] | OptionObject | string,\n  i18n: I18nClient,\n): string => {\n  if (Array.isArray(options)) {\n    return options\n      .map((option) => (typeof option === 'string' ? option : getTranslation(option.label, i18n)))\n      .join(', ')\n  }\n\n  return typeof options === 'string' ? options : getTranslation(options.label, i18n)\n}\n\nexport const Select: SelectFieldDiffClientComponent = ({\n  comparisonValue,\n  diffMethod,\n  field,\n  locale,\n  versionValue,\n}) => {\n  const { i18n } = useTranslation()\n\n  let placeholder = ''\n\n  if (versionValue == comparisonValue) {\n    placeholder = `[${i18n.t('general:noValue')}]`\n  }\n\n  const options = 'options' in field && field.options\n\n  const comparisonToRender =\n    typeof comparisonValue !== 'undefined'\n      ? getTranslatedOptions(\n          getOptionsToRender(\n            typeof comparisonValue === 'string' ? comparisonValue : JSON.stringify(comparisonValue),\n            options,\n            field.hasMany,\n          ),\n          i18n,\n        )\n      : placeholder\n\n  const versionToRender =\n    typeof versionValue !== 'undefined'\n      ? getTranslatedOptions(\n          getOptionsToRender(\n            typeof versionValue === 'string' ? versionValue : JSON.stringify(versionValue),\n            options,\n            field.hasMany,\n          ),\n          i18n,\n        )\n      : placeholder\n\n  return (\n    <div className={baseClass}>\n      <Label>\n        {locale && <span className={`${baseClass}__locale-label`}>{locale}</span>}\n        {'label' in field && getTranslation(field.label || '', i18n)}\n      </Label>\n      <DiffViewer\n        comparisonToRender={comparisonToRender}\n        diffMethod={diffMethod}\n        diffStyles={diffStyles}\n        placeholder={placeholder}\n        versionToRender={versionToRender}\n      />\n    </div>\n  )\n}\n"],"names":["c","_c","getTranslation","useTranslation","React","Label","diffStyles","DiffViewer","baseClass","getOptionsToRender","value","options","hasMany","Array","isArray","map","val","find","option","String","getTranslatedOptions","i18n","label","join","Select","t0","$","comparisonValue","diffMethod","field","locale","versionValue","placeholder","t","t1","comparisonToRender","JSON","stringify","versionToRender","t2","_jsx","className","children","_jsxs"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 3050, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3056, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Tabs/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Tabs = registerClientReference(\n    function() { throw new Error(\"Attempted to call Tabs() from the server but Tabs is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Tabs/index.js <module evaluation>\",\n    \"Tabs\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,OAAO,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EACtC;IAAa,MAAM,IAAI,MAAM;AAAwN,GACrP,sQACA","ignoreList":[0]}},
    {"offset": {"line": 3064, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3070, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Tabs/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Tabs = registerClientReference(\n    function() { throw new Error(\"Attempted to call Tabs() from the server but Tabs is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Tabs/index.js\",\n    \"Tabs\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,OAAO,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EACtC;IAAa,MAAM,IAAI,MAAM;AAAwN,GACrP,kPACA","ignoreList":[0]}},
    {"offset": {"line": 3078, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3084, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/fields/Tabs/index.tsx"],"sourcesContent":["'use client'\nimport type {\n  ClientTab,\n  FieldDiffClientProps,\n  TabsFieldClient,\n  TabsFieldDiffClientComponent,\n  VersionTab,\n} from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\nimport { useTranslation } from '@payloadcms/ui'\nimport React from 'react'\n\nimport './index.scss'\nimport { useSelectedLocales } from '../../../Default/SelectedLocalesContext.js'\nimport { DiffCollapser } from '../../DiffCollapser/index.js'\nimport { RenderVersionFieldsToDiff } from '../../RenderVersionFieldsToDiff.js'\n\nconst baseClass = 'tabs-diff'\n\nexport const Tabs: TabsFieldDiffClientComponent = (props) => {\n  const { baseVersionField, comparisonValue, field, versionValue } = props\n  const { selectedLocales } = useSelectedLocales()\n\n  return (\n    <div className={baseClass}>\n      {baseVersionField.tabs.map((tab, i) => {\n        if (!tab?.fields?.length) {\n          return null\n        }\n        const fieldTab = field.tabs?.[i]\n        return (\n          <div className={`${baseClass}__tab`} key={i}>\n            {(() => {\n              if ('name' in fieldTab && selectedLocales && fieldTab.localized) {\n                // Named localized tab\n                return selectedLocales.map((locale, index) => {\n                  const localizedTabProps = {\n                    ...props,\n                    comparison: comparisonValue?.[tab.name]?.[locale],\n                    version: versionValue?.[tab.name]?.[locale],\n                  }\n                  return (\n                    <div className={`${baseClass}__tab-locale`} key={[locale, index].join('-')}>\n                      <div className={`${baseClass}__tab-locale-value`}>\n                        <Tab\n                          key={locale}\n                          {...localizedTabProps}\n                          fieldTab={fieldTab}\n                          locale={locale}\n                          tab={tab}\n                        />\n                      </div>\n                    </div>\n                  )\n                })\n              } else if ('name' in tab && tab.name) {\n                // Named tab\n                const namedTabProps = {\n                  ...props,\n                  comparison: comparisonValue?.[tab.name],\n                  version: versionValue?.[tab.name],\n                }\n                return <Tab fieldTab={fieldTab} key={i} {...namedTabProps} tab={tab} />\n              } else {\n                // Unnamed tab\n                return <Tab fieldTab={fieldTab} key={i} {...props} tab={tab} />\n              }\n            })()}\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\ntype TabProps = {\n  fieldTab: ClientTab\n  tab: VersionTab\n} & FieldDiffClientProps<TabsFieldClient>\n\nconst Tab: React.FC<TabProps> = ({ comparisonValue, fieldTab, locale, tab, versionValue }) => {\n  const { i18n } = useTranslation()\n  const { selectedLocales } = useSelectedLocales()\n\n  if (!tab.fields?.length) {\n    return null\n  }\n\n  return (\n    <DiffCollapser\n      comparison={comparisonValue}\n      fields={fieldTab.fields}\n      label={\n        'label' in tab &&\n        tab.label &&\n        typeof tab.label !== 'function' && (\n          <span>\n            {locale && <span className={`${baseClass}__locale-label`}>{locale}</span>}\n            {getTranslation(tab.label, i18n)}\n          </span>\n        )\n      }\n      locales={selectedLocales}\n      version={versionValue}\n    >\n      <RenderVersionFieldsToDiff versionFields={tab.fields} />\n    </DiffCollapser>\n  )\n}\n"],"names":["c","_c","getTranslation","useTranslation","React","useSelectedLocales","DiffCollapser","RenderVersionFieldsToDiff","baseClass","Tabs","props","$","baseVersionField","comparisonValue","field","versionValue","selectedLocales","t0","tabs","t1","tab","i","fields","length","fieldTab","_jsx","className","children","localized","map","locale","index","localizedTabProps","comparison","name","version","Tab","join","namedTabProps","i18n","label","_jsxs","t2","versionFields"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 3088, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3094, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Text/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Text = registerClientReference(\n    function() { throw new Error(\"Attempted to call Text() from the server but Text is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Text/index.js <module evaluation>\",\n    \"Text\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,OAAO,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EACtC;IAAa,MAAM,IAAI,MAAM;AAAwN,GACrP,sQACA","ignoreList":[0]}},
    {"offset": {"line": 3102, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3108, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Text/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Text = registerClientReference(\n    function() { throw new Error(\"Attempted to call Text() from the server but Text is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/fields/Text/index.js\",\n    \"Text\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,OAAO,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EACtC;IAAa,MAAM,IAAI,MAAM;AAAwN,GACrP,kPACA","ignoreList":[0]}},
    {"offset": {"line": 3116, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3122, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/fields/Text/index.tsx"],"sourcesContent":["'use client'\nimport type { TextFieldDiffClientComponent } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\nimport { useTranslation } from '@payloadcms/ui'\nimport React from 'react'\n\nimport Label from '../../Label/index.js'\nimport './index.scss'\nimport { diffStyles } from '../styles.js'\nimport { DiffViewer } from './DiffViewer/index.js'\n\nconst baseClass = 'text-diff'\n\nexport const Text: TextFieldDiffClientComponent = ({\n  comparisonValue,\n  diffMethod,\n  field,\n  locale,\n  versionValue,\n}) => {\n  const { i18n } = useTranslation()\n\n  let placeholder = ''\n\n  if (versionValue == comparisonValue) {\n    placeholder = `[${i18n.t('general:noValue')}]`\n  }\n\n  const versionToRender: string =\n    typeof versionValue === 'string' ? versionValue : JSON.stringify(versionValue, null, 2)\n  const comparisonToRender =\n    typeof comparisonValue === 'string' ? comparisonValue : JSON.stringify(comparisonValue, null, 2)\n\n  return (\n    <div className={baseClass}>\n      <Label>\n        {locale && <span className={`${baseClass}__locale-label`}>{locale}</span>}\n        {'label' in field &&\n          typeof field.label !== 'function' &&\n          getTranslation(field.label || '', i18n)}\n      </Label>\n      <DiffViewer\n        comparisonToRender={comparisonToRender}\n        diffMethod={diffMethod}\n        diffStyles={diffStyles}\n        placeholder={placeholder}\n        versionToRender={versionToRender}\n      />\n    </div>\n  )\n}\n"],"names":["c","_c","getTranslation","useTranslation","React","Label","diffStyles","DiffViewer","baseClass","Text","t0","$","comparisonValue","diffMethod","field","locale","versionValue","i18n","placeholder","t","t1","JSON","stringify","versionToRender","t2","comparisonToRender","t3","_jsx","className","children","t4","_jsxs","label"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 3126, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3132, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/fields/index.tsx"],"sourcesContent":["import type { FieldDiffClientProps, FieldTypes } from 'payload'\n\nimport { Collapsible } from './Collapsible/index.js'\nimport { Group } from './Group/index.js'\nimport { Iterable } from './Iterable/index.js'\nimport { Relationship } from './Relationship/index.js'\nimport { Row } from './Row/index.js'\nimport { Select } from './Select/index.js'\nimport { Tabs } from './Tabs/index.js'\nimport { Text } from './Text/index.js'\n\nexport const diffComponents: Record<FieldTypes, React.ComponentType<FieldDiffClientProps>> = {\n  array: Iterable,\n  blocks: Iterable,\n  checkbox: Text,\n  code: Text,\n  collapsible: Collapsible,\n  date: Text,\n  email: Text,\n  group: Group,\n  join: null,\n  json: Text,\n  number: Text,\n  point: Text,\n  radio: Select,\n  relationship: Relationship,\n  richText: Text,\n  row: Row,\n  select: Select,\n  tabs: Tabs,\n  text: Text,\n  textarea: Text,\n  ui: null,\n  upload: Relationship,\n}\n"],"names":["Collapsible","Group","Iterable","Relationship","Row","Select","Tabs","Text","diffComponents","array","blocks","checkbox","code","collapsible","date","email","group","join","json","number","point","radio","relationship","richText","row","select","tabs","text","textarea","ui","upload"],"mappings":";;;AAEA,SAASA,WAAW,QAAQ;AAC5B,SAASC,KAAK,QAAQ;AACtB,SAASC,QAAQ,QAAQ;AACzB,SAASC,YAAY,QAAQ;AAC7B,SAASC,GAAG,QAAQ;AACpB,SAASC,MAAM,QAAQ;AACvB,SAASC,IAAI,QAAQ;AACrB,SAASC,IAAI,QAAQ;;;;;;;;;AAEd,MAAMC,cAAA,GAAgF;IAC3FC,KAAA,2aAAOP,WAAA;IACPQ,MAAA,2aAAQR,WAAA;IACRS,QAAA,uaAAUJ,OAAA;IACVK,IAAA,uaAAML,OAAA;IACNM,WAAA,8aAAab,cAAA;IACbc,IAAA,uaAAMP,OAAA;IACNQ,KAAA,uaAAOR,OAAA;IACPS,KAAA,waAAOf,QAAA;IACPgB,IAAA,EAAM;IACNC,IAAA,uaAAMX,OAAA;IACNY,MAAA,uaAAQZ,OAAA;IACRa,KAAA,uaAAOb,OAAA;IACPc,KAAA,yaAAOhB,SAAA;IACPiB,YAAA,+aAAcnB,eAAA;IACdoB,QAAA,uaAAUhB,OAAA;IACViB,GAAA,saAAKpB,MAAA;IACLqB,MAAA,yaAAQpB,SAAA;IACRqB,IAAA,uaAAMpB,OAAA;IACNqB,IAAA,uaAAMpB,OAAA;IACNqB,QAAA,uaAAUrB,OAAA;IACVsB,EAAA,EAAI;IACJC,MAAA,+aAAQ3B,eAAAA;AACV","ignoreList":[0]}},
    {"offset": {"line": 3175, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3181, "column": 0}, "map": {"version":3,"file":"getFieldPathsModified.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/utilities/getFieldPathsModified.ts"],"sourcesContent":["import type { ClientField, Field, Tab, TabAsFieldClient } from 'payload'\n\ntype Args = {\n  field: ClientField | Field | Tab | TabAsFieldClient\n  index: number\n  parentIndexPath: string\n  parentPath: string\n  parentSchemaPath: string\n}\n\ntype FieldPaths = {\n  /**\n   * A string of '-' separated indexes representing where\n   * to find this field in a given field schema array.\n   * It will always be complete and accurate.\n   */\n  indexPath: string\n  /**\n   * Path for this field relative to its position in the data.\n   */\n  path: string\n  /**\n   * Path for this field relative to its position in the schema.\n   */\n  schemaPath: string\n}\n\nexport function getFieldPathsModified({\n  field,\n  index,\n  parentIndexPath,\n  parentPath,\n  parentSchemaPath,\n}: Args): FieldPaths {\n  const parentPathSegments = parentPath.split('.')\n\n  const parentIsUnnamed = parentPathSegments[parentPathSegments.length - 1].startsWith('_index-')\n\n  const parentWithoutIndex = parentIsUnnamed\n    ? parentPathSegments.slice(0, -1).join('.')\n    : parentPath\n\n  const parentPathToUse = parentIsUnnamed ? parentWithoutIndex : parentPath\n\n  const parentSchemaPathSegments = parentSchemaPath.split('.')\n  const parentSchemaIsUnnamed =\n    parentSchemaPathSegments[parentSchemaPathSegments.length - 1].startsWith('_index-')\n  const parentSchemaWithoutIndex = parentSchemaIsUnnamed\n    ? parentSchemaPathSegments.slice(0, -1).join('.')\n    : parentSchemaPath\n  const parentSchemaPathToUse = parentSchemaIsUnnamed ? parentSchemaWithoutIndex : parentSchemaPath\n\n  if ('name' in field) {\n    return {\n      indexPath: '',\n      path: `${parentPathToUse ? parentPathToUse + '.' : ''}${field.name}`,\n      schemaPath: `${parentSchemaPathToUse ? parentSchemaPathToUse + '.' : ''}${field.name}`,\n    }\n  }\n\n  const indexSuffix = `_index-${`${parentIndexPath ? parentIndexPath + '-' : ''}${index}`}`\n\n  return {\n    indexPath: `${parentIndexPath ? parentIndexPath + '-' : ''}${index}`,\n    path: `${parentPathToUse ? parentPathToUse + '.' : ''}${indexSuffix}`,\n    schemaPath: `${!parentIsUnnamed && parentSchemaPathToUse ? parentSchemaPathToUse + '.' : ''}${indexSuffix}`,\n  }\n}\n"],"names":["getFieldPathsModified","field","index","parentIndexPath","parentPath","parentSchemaPath","parentPathSegments","split","parentIsUnnamed","length","startsWith","parentWithoutIndex","slice","join","parentPathToUse","parentSchemaPathSegments","parentSchemaIsUnnamed","parentSchemaWithoutIndex","parentSchemaPathToUse","indexPath","path","name","schemaPath","indexSuffix"],"mappings":";;;AA2BO,SAASA,sBAAsB,EACpCC,KAAK,EACLC,KAAK,EACLC,eAAe,EACfC,UAAU,EACVC,gBAAAA,EACK;IACL,MAAMC,kBAAA,GAAqBF,UAAA,CAAWG,KAAK,CAAC;IAE5C,MAAMC,eAAA,GAAkBF,kBAAkB,CAACA,kBAAA,CAAmBG,MAAM,GAAG,EAAE,CAACC,UAAU,CAAC;IAErF,MAAMC,kBAAA,GAAqBH,eAAA,GACvBF,kBAAA,CAAmBM,KAAK,CAAC,GAAG,CAAC,GAAGC,IAAI,CAAC,OACrCT,UAAA;IAEJ,MAAMU,eAAA,GAAkBN,eAAA,GAAkBG,kBAAA,GAAqBP,UAAA;IAE/D,MAAMW,wBAAA,GAA2BV,gBAAA,CAAiBE,KAAK,CAAC;IACxD,MAAMS,qBAAA,GACJD,wBAAwB,CAACA,wBAAA,CAAyBN,MAAM,GAAG,EAAE,CAACC,UAAU,CAAC;IAC3E,MAAMO,wBAAA,GAA2BD,qBAAA,GAC7BD,wBAAA,CAAyBH,KAAK,CAAC,GAAG,CAAC,GAAGC,IAAI,CAAC,OAC3CR,gBAAA;IACJ,MAAMa,qBAAA,GAAwBF,qBAAA,GAAwBC,wBAAA,GAA2BZ,gBAAA;IAEjF,IAAI,UAAUJ,KAAA,EAAO;QACnB,OAAO;YACLkB,SAAA,EAAW;YACXC,IAAA,EAAM,GAAGN,eAAA,GAAkBA,eAAA,GAAkB,MAAM,KAAKb,KAAA,CAAMoB,IAAI,EAAE;YACpEC,UAAA,EAAY,GAAGJ,qBAAA,GAAwBA,qBAAA,GAAwB,MAAM,KAAKjB,KAAA,CAAMoB,IAAI,EAAA;QACtF;IACF;IAEA,MAAME,WAAA,GAAc,CAAA,OAAA,EAAU,GAAGpB,eAAA,GAAkBA,eAAA,GAAkB,MAAM,KAAKD,KAAA,EAAO,EAAE;IAEzF,OAAO;QACLiB,SAAA,EAAW,GAAGhB,eAAA,GAAkBA,eAAA,GAAkB,MAAM,KAAKD,KAAA,EAAO;QACpEkB,IAAA,EAAM,GAAGN,eAAA,GAAkBA,eAAA,GAAkB,MAAM,KAAKS,WAAA,EAAa;QACrED,UAAA,EAAY,GAAG,CAACd,eAAA,IAAmBU,qBAAA,GAAwBA,qBAAA,GAAwB,MAAM,KAAKK,WAAA,EAAA;IAChG;AACF","ignoreList":[0]}},
    {"offset": {"line": 3207, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3213, "column": 0}, "map": {"version":3,"file":"buildVersionFields.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/buildVersionFields.tsx"],"sourcesContent":["import type { I18nClient } from '@payloadcms/translations'\nimport type {\n  BaseVersionField,\n  ClientField,\n  ClientFieldSchemaMap,\n  Field,\n  FieldDiffClientProps,\n  FieldDiffServerProps,\n  FieldTypes,\n  PayloadComponent,\n  PayloadRequest,\n  SanitizedFieldPermissions,\n  VersionField,\n} from 'payload'\nimport type { DiffMethod } from 'react-diff-viewer-continued'\n\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { dequal } from 'dequal/lite'\nimport { fieldIsID, getUniqueListBy, tabHasName } from 'payload/shared'\n\nimport { diffMethods } from './fields/diffMethods.js'\nimport { diffComponents } from './fields/index.js'\nimport { getFieldPathsModified } from './utilities/getFieldPathsModified.js'\n\nexport type BuildVersionFieldsArgs = {\n  clientSchemaMap: ClientFieldSchemaMap\n  comparisonSiblingData: object\n  customDiffComponents: Partial<\n    Record<FieldTypes, PayloadComponent<FieldDiffServerProps, FieldDiffClientProps>>\n  >\n  entitySlug: string\n  fieldPermissions:\n    | {\n        [key: string]: SanitizedFieldPermissions\n      }\n    | true\n  fields: Field[]\n  i18n: I18nClient\n  modifiedOnly: boolean\n  parentIndexPath: string\n  parentPath: string\n  parentSchemaPath: string\n  req: PayloadRequest\n  selectedLocales: string[]\n  versionSiblingData: object\n}\n\n/**\n * Build up an object that contains rendered diff components for each field.\n * This is then sent to the client to be rendered.\n *\n * Here, the server is responsible for traversing through the document data and building up this\n * version state object.\n */\nexport const buildVersionFields = ({\n  clientSchemaMap,\n  comparisonSiblingData,\n  customDiffComponents,\n  entitySlug,\n  fieldPermissions,\n  fields,\n  i18n,\n  modifiedOnly,\n  parentIndexPath,\n  parentPath,\n  parentSchemaPath,\n  req,\n  selectedLocales,\n  versionSiblingData,\n}: BuildVersionFieldsArgs): {\n  versionFields: VersionField[]\n} => {\n  const versionFields: VersionField[] = []\n  let fieldIndex = -1\n  for (const field of fields) {\n    fieldIndex++\n    if (fieldIsID(field)) {\n      continue\n    }\n\n    const { indexPath, path, schemaPath } = getFieldPathsModified({\n      field,\n      index: fieldIndex,\n      parentIndexPath: 'name' in field ? '' : parentIndexPath,\n      parentPath,\n      parentSchemaPath,\n    })\n\n    const clientField = clientSchemaMap.get(entitySlug + '.' + schemaPath)\n\n    if (!clientField) {\n      req.payload.logger.error({\n        clientFieldKey: entitySlug + '.' + schemaPath,\n        clientSchemaMapKeys: Array.from(clientSchemaMap.keys()),\n        msg: 'No client field found for ' + entitySlug + '.' + schemaPath,\n        parentPath,\n        parentSchemaPath,\n        path,\n        schemaPath,\n      })\n      throw new Error('No client field found for ' + entitySlug + '.' + schemaPath)\n    }\n\n    const versionField: VersionField = {}\n    const isLocalized = 'localized' in field && field.localized\n    const fieldName: null | string = 'name' in field ? field.name : null\n\n    const versionValue = fieldName ? versionSiblingData?.[fieldName] : versionSiblingData\n\n    const comparisonValue = fieldName ? comparisonSiblingData?.[fieldName] : comparisonSiblingData\n\n    if (isLocalized) {\n      versionField.fieldByLocale = {}\n\n      for (const locale of selectedLocales) {\n        const localizedVersionField = buildVersionField({\n          clientField: clientField as ClientField,\n          clientSchemaMap,\n          comparisonValue: comparisonValue?.[locale],\n          customDiffComponents,\n          entitySlug,\n          field,\n          fieldPermissions,\n          i18n,\n          indexPath,\n          locale,\n          modifiedOnly,\n          parentPath,\n          parentSchemaPath,\n          path,\n          req,\n          schemaPath,\n          selectedLocales,\n          versionValue: versionValue?.[locale],\n        })\n        if (localizedVersionField) {\n          versionField.fieldByLocale[locale] = localizedVersionField\n        }\n      }\n    } else {\n      const baseVersionField = buildVersionField({\n        clientField: clientField as ClientField,\n        clientSchemaMap,\n        comparisonValue,\n        customDiffComponents,\n        entitySlug,\n        field,\n        fieldPermissions,\n        i18n,\n        indexPath,\n        modifiedOnly,\n        parentPath,\n        parentSchemaPath,\n        path,\n        req,\n        schemaPath,\n        selectedLocales,\n        versionValue,\n      })\n\n      if (baseVersionField) {\n        versionField.field = baseVersionField\n      }\n    }\n\n    versionFields.push(versionField)\n  }\n\n  return {\n    versionFields,\n  }\n}\n\nconst buildVersionField = ({\n  clientField,\n  clientSchemaMap,\n  comparisonValue,\n  customDiffComponents,\n  entitySlug,\n  field,\n  fieldPermissions,\n  i18n,\n  indexPath,\n  locale,\n  modifiedOnly,\n  parentPath,\n  parentSchemaPath,\n  path,\n  req,\n  schemaPath,\n  selectedLocales,\n  versionValue,\n}: {\n  clientField: ClientField\n  comparisonValue: unknown\n  field: Field\n  indexPath: string\n  locale?: string\n  modifiedOnly?: boolean\n  path: string\n  schemaPath: string\n  versionValue: unknown\n} & Omit<\n  BuildVersionFieldsArgs,\n  'comparisonSiblingData' | 'fields' | 'parentIndexPath' | 'versionSiblingData'\n>): BaseVersionField | null => {\n  const fieldName: null | string = 'name' in field ? field.name : null\n\n  const diffMethod: DiffMethod = diffMethods[field.type] || 'CHARS'\n\n  const hasPermission =\n    fieldPermissions === true ||\n    !fieldName ||\n    fieldPermissions?.[fieldName] === true ||\n    fieldPermissions?.[fieldName]?.read\n\n  const subFieldPermissions =\n    fieldPermissions === true ||\n    !fieldName ||\n    fieldPermissions?.[fieldName] === true ||\n    fieldPermissions?.[fieldName]?.fields\n\n  if (!hasPermission) {\n    return null\n  }\n\n  if (modifiedOnly && dequal(versionValue, comparisonValue)) {\n    return null\n  }\n\n  const CustomComponent = field?.admin?.components?.Diff ?? customDiffComponents?.[field.type]\n  const DefaultComponent = diffComponents?.[field.type]\n\n  const baseVersionField: BaseVersionField = {\n    type: field.type,\n    fields: [],\n    path,\n    schemaPath,\n  }\n\n  if (field.type === 'tabs' && 'tabs' in field) {\n    baseVersionField.tabs = []\n    let tabIndex = -1\n    for (const tab of field.tabs) {\n      tabIndex++\n      const isNamedTab = tabHasName(tab)\n\n      const {\n        indexPath: tabIndexPath,\n        path: tabPath,\n        schemaPath: tabSchemaPath,\n      } = getFieldPathsModified({\n        field: {\n          ...tab,\n          type: 'tab',\n        },\n        index: tabIndex,\n        parentIndexPath: indexPath,\n        parentPath,\n        parentSchemaPath,\n      })\n      baseVersionField.tabs.push({\n        name: 'name' in tab ? tab.name : null,\n        fields: buildVersionFields({\n          clientSchemaMap,\n          comparisonSiblingData: 'name' in tab ? comparisonValue?.[tab.name] : comparisonValue,\n          customDiffComponents,\n          entitySlug,\n          fieldPermissions,\n          fields: tab.fields,\n          i18n,\n          modifiedOnly,\n          parentIndexPath: isNamedTab ? '' : tabIndexPath,\n          parentPath: tabPath,\n          parentSchemaPath: tabSchemaPath,\n          req,\n          selectedLocales,\n          versionSiblingData: 'name' in tab ? versionValue?.[tab.name] : versionValue,\n        }).versionFields,\n        label: tab.label,\n      })\n    }\n  } // At this point, we are dealing with a `row`, etc\n  else if ('fields' in field) {\n    if (field.type === 'array' && versionValue) {\n      const arrayValue = Array.isArray(versionValue) ? versionValue : []\n      baseVersionField.rows = []\n\n      for (let i = 0; i < arrayValue.length; i++) {\n        const comparisonRow = comparisonValue?.[i] || {}\n        const versionRow = arrayValue?.[i] || {}\n        baseVersionField.rows[i] = buildVersionFields({\n          clientSchemaMap,\n          comparisonSiblingData: comparisonRow,\n          customDiffComponents,\n          entitySlug,\n          fieldPermissions,\n          fields: field.fields,\n          i18n,\n          modifiedOnly,\n          parentIndexPath: 'name' in field ? '' : indexPath,\n          parentPath: path + '.' + i,\n          parentSchemaPath: schemaPath,\n          req,\n          selectedLocales,\n          versionSiblingData: versionRow,\n        }).versionFields\n      }\n    } else {\n      baseVersionField.fields = buildVersionFields({\n        clientSchemaMap,\n        comparisonSiblingData: comparisonValue as object,\n        customDiffComponents,\n        entitySlug,\n        fieldPermissions,\n        fields: field.fields,\n        i18n,\n        modifiedOnly,\n        parentIndexPath: 'name' in field ? '' : indexPath,\n        parentPath: path,\n        parentSchemaPath: schemaPath,\n        req,\n        selectedLocales,\n        versionSiblingData: versionValue as object,\n      }).versionFields\n    }\n  } else if (field.type === 'blocks') {\n    baseVersionField.rows = []\n\n    const blocksValue = Array.isArray(versionValue) ? versionValue : []\n\n    for (let i = 0; i < blocksValue.length; i++) {\n      const comparisonRow = comparisonValue?.[i] || {}\n      const versionRow = blocksValue[i] || {}\n      const versionBlock = field.blocks.find((block) => block.slug === versionRow.blockType)\n\n      let fields = []\n\n      if (versionRow.blockType === comparisonRow.blockType) {\n        fields = versionBlock.fields\n      } else {\n        const comparisonBlock = field.blocks.find((block) => block.slug === comparisonRow.blockType)\n        if (comparisonBlock) {\n          fields = getUniqueListBy<Field>(\n            [...versionBlock.fields, ...comparisonBlock.fields],\n            'name',\n          )\n        } else {\n          fields = versionBlock.fields\n        }\n      }\n\n      baseVersionField.rows[i] = buildVersionFields({\n        clientSchemaMap,\n        comparisonSiblingData: comparisonRow,\n        customDiffComponents,\n        entitySlug,\n        fieldPermissions,\n        fields,\n        i18n,\n        modifiedOnly,\n        parentIndexPath: 'name' in field ? '' : indexPath,\n        parentPath: path + '.' + i,\n        parentSchemaPath: schemaPath + '.' + versionBlock.slug,\n        req,\n        selectedLocales,\n        versionSiblingData: versionRow,\n      }).versionFields\n    }\n  }\n\n  const clientCellProps: FieldDiffClientProps = {\n    baseVersionField: {\n      ...baseVersionField,\n      CustomComponent: undefined,\n    },\n    comparisonValue,\n    diffMethod,\n    field: clientField,\n    fieldPermissions: subFieldPermissions,\n    versionValue,\n  }\n\n  const serverCellProps: FieldDiffServerProps = {\n    ...clientCellProps,\n    clientField,\n    field,\n    i18n,\n    req,\n    selectedLocales,\n  }\n\n  baseVersionField.CustomComponent = RenderServerComponent({\n    clientProps: locale\n      ? ({\n          ...clientCellProps,\n          locale,\n        } as FieldDiffClientProps)\n      : clientCellProps,\n    Component: CustomComponent,\n    Fallback: DefaultComponent,\n    importMap: req.payload.importMap,\n    key: 'diff component',\n    serverProps: locale\n      ? ({\n          ...serverCellProps,\n          locale,\n        } as FieldDiffServerProps)\n      : serverCellProps,\n  })\n\n  return baseVersionField\n}\n"],"names":["RenderServerComponent","dequal","fieldIsID","getUniqueListBy","tabHasName","diffMethods","diffComponents","getFieldPathsModified","buildVersionFields","clientSchemaMap","comparisonSiblingData","customDiffComponents","entitySlug","fieldPermissions","fields","i18n","modifiedOnly","parentIndexPath","parentPath","parentSchemaPath","req","selectedLocales","versionSiblingData","versionFields","fieldIndex","field","indexPath","path","schemaPath","index","clientField","get","payload","logger","error","clientFieldKey","clientSchemaMapKeys","Array","from","keys","msg","Error","versionField","isLocalized","localized","fieldName","name","versionValue","comparisonValue","fieldByLocale","locale","localizedVersionField","buildVersionField","baseVersionField","push","diffMethod","type","hasPermission","read","subFieldPermissions","CustomComponent","admin","components","Diff","DefaultComponent","tabs","tabIndex","tab","isNamedTab","tabIndexPath","tabPath","tabSchemaPath","label","arrayValue","isArray","rows","i","length","comparisonRow","versionRow","blocksValue","versionBlock","blocks","find","block","slug","blockType","comparisonBlock","clientCellProps","undefined","serverCellProps","clientProps","Component","Fallback","importMap","key","serverProps"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3491, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3497, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/RenderVersionFieldsToDiff.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const RenderVersionFieldsToDiff = registerClientReference(\n    function() { throw new Error(\"Attempted to call RenderVersionFieldsToDiff() from the server but RenderVersionFieldsToDiff is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/RenderVersionFieldsToDiff.js <module evaluation>\",\n    \"RenderVersionFieldsToDiff\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,4BAA4B,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAC3D;IAAa,MAAM,IAAI,MAAM;AAAkQ,GAC/R,8QACA","ignoreList":[0]}},
    {"offset": {"line": 3505, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3511, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Version/RenderFieldsToDiff/RenderVersionFieldsToDiff.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const RenderVersionFieldsToDiff = registerClientReference(\n    function() { throw new Error(\"Attempted to call RenderVersionFieldsToDiff() from the server but RenderVersionFieldsToDiff is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Version/RenderFieldsToDiff/RenderVersionFieldsToDiff.js\",\n    \"RenderVersionFieldsToDiff\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,4BAA4B,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAC3D;IAAa,MAAM,IAAI,MAAM;AAAkQ,GAC/R,0PACA","ignoreList":[0]}},
    {"offset": {"line": 3519, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3525, "column": 0}, "map": {"version":3,"file":"RenderVersionFieldsToDiff.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/RenderVersionFieldsToDiff.tsx"],"sourcesContent":["'use client'\nconst baseClass = 'render-field-diffs'\nimport type { VersionField } from 'payload'\n\nimport './index.scss'\n\nimport { ShimmerEffect } from '@payloadcms/ui'\nimport React, { Fragment, useEffect } from 'react'\n\nexport const RenderVersionFieldsToDiff = ({\n  versionFields,\n}: {\n  versionFields: VersionField[]\n}): React.ReactNode => {\n  const [hasMounted, setHasMounted] = React.useState(false)\n\n  // defer rendering until after the first mount as the CSS is loaded with Emotion\n  // this will ensure that the CSS is loaded before rendering the diffs and prevent CLS\n  useEffect(() => {\n    setHasMounted(true)\n  }, [])\n\n  return (\n    <div className={baseClass}>\n      {!hasMounted ? (\n        <Fragment>\n          <ShimmerEffect height=\"8rem\" width=\"100%\" />\n        </Fragment>\n      ) : (\n        versionFields?.map((field, fieldIndex) => {\n          if (field.fieldByLocale) {\n            const LocaleComponents: React.ReactNode[] = []\n            for (const [locale, baseField] of Object.entries(field.fieldByLocale)) {\n              LocaleComponents.push(\n                <div\n                  className={`${baseClass}__locale`}\n                  data-field-path={baseField.path}\n                  data-locale={locale}\n                  key={[locale, fieldIndex].join('-')}\n                >\n                  <div className={`${baseClass}__locale-value`}>{baseField.CustomComponent}</div>\n                </div>,\n              )\n            }\n            return (\n              <div className={`${baseClass}__field`} key={fieldIndex}>\n                {LocaleComponents}\n              </div>\n            )\n          } else if (field.field) {\n            return (\n              <div\n                className={`${baseClass}__field field__${field.field.type}`}\n                data-field-path={field.field.path}\n                key={fieldIndex}\n              >\n                {field.field.CustomComponent}\n              </div>\n            )\n          }\n\n          return null\n        })\n      )}\n    </div>\n  )\n}\n"],"names":["c","_c","baseClass","ShimmerEffect","React","Fragment","useEffect","RenderVersionFieldsToDiff","t0","$","versionFields","hasMounted","setHasMounted","useState","t1","t2","Symbol","for","t3","_jsx","className","children","height","width","map","_temp","field","fieldIndex","fieldByLocale","LocaleComponents","locale","baseField","Object","entries","push","path","CustomComponent","join","type"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 3529, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3535, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Version/RenderFieldsToDiff/index.tsx"],"sourcesContent":["import { buildVersionFields, type BuildVersionFieldsArgs } from './buildVersionFields.js'\nimport { RenderVersionFieldsToDiff } from './RenderVersionFieldsToDiff.js'\n\nexport const RenderDiff = (args: BuildVersionFieldsArgs): React.ReactNode => {\n  const { versionFields } = buildVersionFields(args)\n\n  return <RenderVersionFieldsToDiff versionFields={versionFields} />\n}\n"],"names":["buildVersionFields","RenderVersionFieldsToDiff","RenderDiff","args","versionFields","_jsx"],"mappings":";;;;AAAA,SAASA,kBAAkB,QAAqC;AAChE,SAASC,yBAAyB,QAAQ;;;;AAEnC,MAAMC,UAAA,IAAcC,IAAA;IACzB,MAAM,EAAEC,aAAAA,EAAe,uaAAGJ,qBAAAA,AAAA,EAAmBG,IAAA;IAE7C,OAAA,WAAA,mXAAOE,MAAAA,AAAA,yaAACJ,4BAAA,EAAA;QAA0BG,aAAA,EAAeA;;AACnD","ignoreList":[0]}},
    {"offset": {"line": 3550, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3556, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Version/index.tsx"],"sourcesContent":["import type {\n  Document,\n  EditViewComponent,\n  OptionObject,\n  PayloadServerReactComponent,\n  SanitizedCollectionPermission,\n  SanitizedGlobalPermission,\n} from 'payload'\n\nimport { getClientConfig } from '@payloadcms/ui/utilities/getClientConfig'\nimport { getClientSchemaMap } from '@payloadcms/ui/utilities/getClientSchemaMap'\nimport { getSchemaMap } from '@payloadcms/ui/utilities/getSchemaMap'\nimport { notFound } from 'next/navigation.js'\nimport React from 'react'\n\nimport { getLatestVersion } from '../Versions/getLatestVersion.js'\nimport { DefaultVersionView } from './Default/index.js'\nimport { RenderDiff } from './RenderFieldsToDiff/index.js'\n\nexport const VersionView: PayloadServerReactComponent<EditViewComponent> = async (props) => {\n  const { i18n, initPageResult, routeSegments, searchParams } = props\n\n  const {\n    collectionConfig,\n    docID: id,\n    globalConfig,\n    permissions,\n    req,\n    req: { payload, payload: { config } = {}, user } = {},\n  } = initPageResult\n\n  const versionID = routeSegments[routeSegments.length - 1]\n\n  const collectionSlug = collectionConfig?.slug\n  const globalSlug = globalConfig?.slug\n\n  const localeCodesFromParams = searchParams.localeCodes\n    ? JSON.parse(searchParams.localeCodes as string)\n    : null\n  const comparisonVersionIDFromParams: string = searchParams.compareValue as string\n\n  const modifiedOnly: boolean = searchParams.modifiedOnly === 'true'\n\n  const { localization } = config\n\n  let docPermissions: SanitizedCollectionPermission | SanitizedGlobalPermission\n  let slug: string\n\n  let doc: Document\n  let latestPublishedVersion = null\n  let latestDraftVersion = null\n\n  if (collectionSlug) {\n    // /collections/:slug/:id/versions/:versionID\n    slug = collectionSlug\n    docPermissions = permissions.collections[collectionSlug]\n\n    try {\n      doc = await payload.findVersionByID({\n        id: versionID,\n        collection: slug,\n        depth: 0,\n        locale: 'all',\n        overrideAccess: false,\n        req,\n        user,\n      })\n\n      if (collectionConfig?.versions?.drafts) {\n        latestDraftVersion = await getLatestVersion({\n          slug,\n          type: 'collection',\n          locale: 'all',\n          overrideAccess: false,\n          parentID: id,\n          payload,\n          req,\n          status: 'draft',\n        })\n        latestPublishedVersion = await getLatestVersion({\n          slug,\n          type: 'collection',\n          locale: 'all',\n          overrideAccess: false,\n          parentID: id,\n          payload,\n          req,\n          status: 'published',\n        })\n      }\n    } catch (error) {\n      return notFound()\n    }\n  }\n\n  if (globalSlug) {\n    // /globals/:slug/versions/:versionID\n    slug = globalSlug\n    docPermissions = permissions.globals[globalSlug]\n\n    try {\n      doc = await payload.findGlobalVersionByID({\n        id: versionID,\n        slug,\n        depth: 0,\n        locale: 'all',\n        overrideAccess: false,\n        req,\n        user,\n      })\n\n      if (globalConfig?.versions?.drafts) {\n        latestDraftVersion = await getLatestVersion({\n          slug,\n          type: 'global',\n          locale: 'all',\n          overrideAccess: false,\n          payload,\n          req,\n          status: 'draft',\n        })\n        latestPublishedVersion = await getLatestVersion({\n          slug,\n          type: 'global',\n          locale: 'all',\n          overrideAccess: false,\n          payload,\n          req,\n          status: 'published',\n        })\n      }\n    } catch (error) {\n      return notFound()\n    }\n  }\n\n  const publishedNewerThanDraft = latestPublishedVersion?.updatedAt > latestDraftVersion?.updatedAt\n\n  if (publishedNewerThanDraft) {\n    latestDraftVersion = {\n      id: '',\n      updatedAt: '',\n    }\n  }\n\n  const selectedLocales: OptionObject[] = []\n  if (localization) {\n    if (localeCodesFromParams) {\n      for (const code of localeCodesFromParams) {\n        const locale = localization.locales.find((locale) => locale.code === code)\n        if (locale) {\n          selectedLocales.push({\n            label: locale.label,\n            value: locale.code,\n          })\n        }\n      }\n    } else {\n      for (const { code, label } of localization.locales) {\n        selectedLocales.push({\n          label,\n          value: code,\n        })\n      }\n    }\n  }\n\n  const latestVersion =\n    latestPublishedVersion?.updatedAt > latestDraftVersion?.updatedAt\n      ? latestPublishedVersion\n      : latestDraftVersion\n\n  if (!doc) {\n    return notFound()\n  }\n\n  /**\n   * The doc to compare this version to is either the latest version, or a specific version if specified in the URL.\n   * This specific version is added to the URL when a user selects a version to compare to.\n   */\n  let comparisonDoc = null\n  if (comparisonVersionIDFromParams) {\n    if (collectionSlug) {\n      comparisonDoc = await payload.findVersionByID({\n        id: comparisonVersionIDFromParams,\n        collection: collectionSlug,\n        depth: 0,\n        locale: 'all',\n        overrideAccess: false,\n        req,\n      })\n    } else {\n      comparisonDoc = await payload.findGlobalVersionByID({\n        id: comparisonVersionIDFromParams,\n        slug: globalSlug,\n        depth: 0,\n        locale: 'all',\n        overrideAccess: false,\n        req,\n      })\n    }\n  } else {\n    comparisonDoc = latestVersion\n  }\n\n  const schemaMap = getSchemaMap({\n    collectionSlug,\n    config,\n    globalSlug,\n    i18n,\n  })\n\n  const clientSchemaMap = getClientSchemaMap({\n    collectionSlug,\n    config: getClientConfig({ config: payload.config, i18n, importMap: payload.importMap }),\n    globalSlug,\n    i18n,\n    payload,\n    schemaMap,\n  })\n\n  const RenderedDiff = RenderDiff({\n    clientSchemaMap,\n    comparisonSiblingData: comparisonDoc?.version,\n    customDiffComponents: {},\n    entitySlug: collectionSlug || globalSlug,\n    fieldPermissions: docPermissions?.fields,\n    fields: (collectionConfig || globalConfig)?.fields,\n    i18n,\n    modifiedOnly,\n    parentIndexPath: '',\n    parentPath: '',\n    parentSchemaPath: '',\n    req,\n    selectedLocales: selectedLocales && selectedLocales.map((locale) => locale.value),\n    versionSiblingData: globalConfig\n      ? {\n          ...doc?.version,\n          createdAt: doc?.version?.createdAt || doc.createdAt,\n          updatedAt: doc?.version?.updatedAt || doc.updatedAt,\n        }\n      : doc?.version,\n  })\n\n  return (\n    <DefaultVersionView\n      canUpdate={docPermissions?.update}\n      doc={doc}\n      latestDraftVersion={latestDraftVersion?.id}\n      latestPublishedVersion={latestPublishedVersion?.id}\n      modifiedOnly={modifiedOnly}\n      RenderedDiff={RenderedDiff}\n      selectedLocales={selectedLocales}\n      versionID={versionID}\n    />\n  )\n}\n"],"names":["getClientConfig","getClientSchemaMap","getSchemaMap","notFound","React","getLatestVersion","DefaultVersionView","RenderDiff","VersionView","props","i18n","initPageResult","routeSegments","searchParams","collectionConfig","docID","id","globalConfig","permissions","req","payload","config","user","versionID","length","collectionSlug","slug","globalSlug","localeCodesFromParams","localeCodes","JSON","parse","comparisonVersionIDFromParams","compareValue","modifiedOnly","localization","docPermissions","doc","latestPublishedVersion","latestDraftVersion","collections","findVersionByID","collection","depth","locale","overrideAccess","versions","drafts","type","parentID","status","error","globals","findGlobalVersionByID","publishedNewerThanDraft","updatedAt","selectedLocales","code","locales","find","push","label","value","latestVersion","comparisonDoc","schemaMap","clientSchemaMap","importMap","RenderedDiff","comparisonSiblingData","version","customDiffComponents","entitySlug","fieldPermissions","fields","parentIndexPath","parentPath","parentSchemaPath","map","versionSiblingData","createdAt","_jsx","canUpdate","update"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3778, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3784, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Versions/cells/AutosaveCell/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const AutosaveCell = registerClientReference(\n    function() { throw new Error(\"Attempted to call AutosaveCell() from the server but AutosaveCell is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Versions/cells/AutosaveCell/index.js <module evaluation>\",\n    \"AutosaveCell\",\n);\nexport const renderPill = registerClientReference(\n    function() { throw new Error(\"Attempted to call renderPill() from the server but renderPill is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Versions/cells/AutosaveCell/index.js <module evaluation>\",\n    \"renderPill\",\n);\n"],"names":[],"mappings":";;;;AAAA;;AACO,MAAM,eAAe,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,2PACA;AAEG,MAAM,aAAa,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,2PACA","ignoreList":[0]}},
    {"offset": {"line": 3796, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3802, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Versions/cells/AutosaveCell/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const AutosaveCell = registerClientReference(\n    function() { throw new Error(\"Attempted to call AutosaveCell() from the server but AutosaveCell is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Versions/cells/AutosaveCell/index.js\",\n    \"AutosaveCell\",\n);\nexport const renderPill = registerClientReference(\n    function() { throw new Error(\"Attempted to call renderPill() from the server but renderPill is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Versions/cells/AutosaveCell/index.js\",\n    \"renderPill\",\n);\n"],"names":[],"mappings":";;;;AAAA;;AACO,MAAM,eAAe,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,uOACA;AAEG,MAAM,aAAa,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAoO,GACjQ,uOACA","ignoreList":[0]}},
    {"offset": {"line": 3814, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3820, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Versions/cells/AutosaveCell/index.tsx"],"sourcesContent":["'use client'\nimport { Pill, useConfig, useTranslation } from '@payloadcms/ui'\nimport React, { Fragment } from 'react'\n\ntype AutosaveCellProps = {\n  latestDraftVersion?: string\n  latestPublishedVersion?: string\n  rowData?: {\n    autosave?: boolean\n    publishedLocale?: string\n    version: {\n      _status?: string\n    }\n  }\n}\n\nexport const renderPill = (data, latestVersion, currentLabel, previousLabel, pillStyle) => {\n  return (\n    <React.Fragment>\n      {data?.id === latestVersion ? (\n        <Pill pillStyle={pillStyle}>{currentLabel}</Pill>\n      ) : (\n        <Pill>{previousLabel}</Pill>\n      )}\n      &nbsp;&nbsp;\n    </React.Fragment>\n  )\n}\n\nexport const AutosaveCell: React.FC<AutosaveCellProps> = ({\n  latestDraftVersion,\n  latestPublishedVersion,\n  rowData = { autosave: undefined, publishedLocale: undefined, version: undefined },\n}) => {\n  const { i18n, t } = useTranslation()\n\n  const {\n    config: { localization },\n  } = useConfig()\n\n  const publishedLocale = rowData?.publishedLocale || undefined\n  const status = rowData?.version._status\n  let publishedLocalePill = null\n\n  const versionInfo = {\n    draft: {\n      currentLabel: t('version:currentDraft'),\n      latestVersion: latestDraftVersion,\n      pillStyle: undefined,\n      previousLabel: t('version:draft'),\n    },\n    published: {\n      currentLabel: t('version:currentPublishedVersion'),\n      latestVersion: latestPublishedVersion,\n      pillStyle: 'success',\n      previousLabel: t('version:previouslyPublished'),\n    },\n  }\n\n  const { currentLabel, latestVersion, pillStyle, previousLabel } = versionInfo[status] || {}\n\n  if (localization && localization?.locales && publishedLocale) {\n    const localeCode = Array.isArray(publishedLocale) ? publishedLocale[0] : publishedLocale\n\n    const locale = localization.locales.find((loc) => loc.code === localeCode)\n    const formattedLabel = locale?.label?.[i18n?.language] || locale?.label\n\n    if (formattedLabel) {\n      publishedLocalePill = <Pill>{formattedLabel}</Pill>\n    }\n  }\n\n  return (\n    <Fragment>\n      {rowData?.autosave && <Pill>{t('version:autosave')}</Pill>}\n      {status && renderPill(rowData, latestVersion, currentLabel, previousLabel, pillStyle)}\n      {publishedLocalePill}\n    </Fragment>\n  )\n}\n"],"names":["c","_c","Pill","useConfig","useTranslation","React","Fragment","renderPill","data","latestVersion","currentLabel","previousLabel","pillStyle","_jsxs","id","_jsx","AutosaveCell","t0","$","latestDraftVersion","latestPublishedVersion","rowData","t1","t2","undefined","autosave","publishedLocale","version","i18n","t","config","t3","localization","status","_status","t4","language","publishedLocalePill","versionInfo","draft","published","locales","localeCode","Array","isArray","t5","loc","code","locale","find","formattedLabel","label","children"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 3824, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3830, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Versions/cells/CreatedAt/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const CreatedAtCell = registerClientReference(\n    function() { throw new Error(\"Attempted to call CreatedAtCell() from the server but CreatedAtCell is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Versions/cells/CreatedAt/index.js <module evaluation>\",\n    \"CreatedAtCell\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,gBAAgB,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAC/C;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,wPACA","ignoreList":[0]}},
    {"offset": {"line": 3838, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3844, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Versions/cells/CreatedAt/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const CreatedAtCell = registerClientReference(\n    function() { throw new Error(\"Attempted to call CreatedAtCell() from the server but CreatedAtCell is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Versions/cells/CreatedAt/index.js\",\n    \"CreatedAtCell\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,gBAAgB,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EAC/C;IAAa,MAAM,IAAI,MAAM;AAA0O,GACvQ,oOACA","ignoreList":[0]}},
    {"offset": {"line": 3852, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3858, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Versions/cells/CreatedAt/index.tsx"],"sourcesContent":["'use client'\nimport { useConfig, useTranslation } from '@payloadcms/ui'\nimport { formatAdminURL, formatDate } from '@payloadcms/ui/shared'\nimport LinkImport from 'next/link.js'\nimport React from 'react'\n\nconst Link = (LinkImport.default || LinkImport) as unknown as typeof LinkImport.default\n\ntype CreatedAtCellProps = {\n  collectionSlug?: string\n  docID?: number | string\n  globalSlug?: string\n  rowData?: {\n    id: number | string\n    updatedAt: Date | number | string\n  }\n}\n\nexport const CreatedAtCell: React.FC<CreatedAtCellProps> = ({\n  collectionSlug,\n  docID,\n  globalSlug,\n  rowData: { id, updatedAt } = {},\n}) => {\n  const {\n    config: {\n      admin: { dateFormat },\n      routes: { admin: adminRoute },\n    },\n  } = useConfig()\n\n  const { i18n } = useTranslation()\n\n  let to: string\n\n  if (collectionSlug) {\n    to = formatAdminURL({\n      adminRoute,\n      path: `/collections/${collectionSlug}/${docID}/versions/${id}`,\n    })\n  }\n\n  if (globalSlug) {\n    to = formatAdminURL({\n      adminRoute,\n      path: `/globals/${globalSlug}/versions/${id}`,\n    })\n  }\n\n  return (\n    <Link href={to} prefetch={false}>\n      {formatDate({ date: updatedAt, i18n, pattern: dateFormat })}\n    </Link>\n  )\n}\n"],"names":["c","_c","useConfig","useTranslation","formatAdminURL","formatDate","LinkImport","React","Link","default","CreatedAtCell","t0","$","collectionSlug","docID","globalSlug","rowData","t1","t2","undefined","id","updatedAt","config","t3","admin","t4","routes","t5","dateFormat","adminRoute","i18n","t6","to","_jsx","href","prefetch","children","date","pattern"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 3862, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3868, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Versions/cells/ID/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const IDCell = registerClientReference(\n    function() { throw new Error(\"Attempted to call IDCell() from the server but IDCell is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Versions/cells/ID/index.js <module evaluation>\",\n    \"IDCell\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,SAAS,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EACxC;IAAa,MAAM,IAAI,MAAM;AAA4N,GACzP,iPACA","ignoreList":[0]}},
    {"offset": {"line": 3876, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3882, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Versions/cells/ID/index.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const IDCell = registerClientReference(\n    function() { throw new Error(\"Attempted to call IDCell() from the server but IDCell is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Versions/cells/ID/index.js\",\n    \"IDCell\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,SAAS,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EACxC;IAAa,MAAM,IAAI,MAAM;AAA4N,GACzP,6NACA","ignoreList":[0]}},
    {"offset": {"line": 3890, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3896, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Versions/cells/ID/index.tsx"],"sourcesContent":["'use client'\nimport React, { Fragment } from 'react'\n\nexport function IDCell({ id }: { id: number | string }) {\n  return <Fragment>{id}</Fragment>\n}\n"],"names":["React","Fragment","IDCell","id","_jsx"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 3900, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3906, "column": 0}, "map": {"version":3,"file":"buildColumns.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Versions/buildColumns.tsx"],"sourcesContent":["import type { I18n } from '@payloadcms/translations'\nimport type {\n  PaginatedDocs,\n  SanitizedCollectionConfig,\n  SanitizedConfig,\n  SanitizedGlobalConfig,\n  TypeWithVersion,\n} from 'payload'\n\nimport { type Column, SortColumn } from '@payloadcms/ui'\nimport React from 'react'\n\nimport { AutosaveCell } from './cells/AutosaveCell/index.js'\nimport { CreatedAtCell } from './cells/CreatedAt/index.js'\nimport { IDCell } from './cells/ID/index.js'\n\nexport const buildVersionColumns = ({\n  collectionConfig,\n  docID,\n  docs,\n  globalConfig,\n  i18n: { t },\n  latestDraftVersion,\n  latestPublishedVersion,\n}: {\n  collectionConfig?: SanitizedCollectionConfig\n  config: SanitizedConfig\n  docID?: number | string\n  docs: PaginatedDocs<TypeWithVersion<any>>['docs']\n  globalConfig?: SanitizedGlobalConfig\n  i18n: I18n\n  latestDraftVersion?: string\n  latestPublishedVersion?: string\n}): Column[] => {\n  const entityConfig = collectionConfig || globalConfig\n\n  const columns: Column[] = [\n    {\n      accessor: 'updatedAt',\n      active: true,\n      field: {\n        name: '',\n        type: 'date',\n      },\n      Heading: <SortColumn Label={t('general:updatedAt')} name=\"updatedAt\" />,\n      renderedCells: docs.map((doc, i) => {\n        return (\n          <CreatedAtCell\n            collectionSlug={collectionConfig?.slug}\n            docID={docID}\n            globalSlug={globalConfig?.slug}\n            key={i}\n            rowData={{\n              id: doc.id,\n              updatedAt: doc.updatedAt,\n            }}\n          />\n        )\n      }),\n    },\n    {\n      accessor: 'id',\n      active: true,\n      field: {\n        name: '',\n        type: 'text',\n      },\n      Heading: <SortColumn disable Label={t('version:versionID')} name=\"id\" />,\n      renderedCells: docs.map((doc, i) => {\n        return <IDCell id={doc.id} key={i} />\n      }),\n    },\n  ]\n\n  if (\n    entityConfig?.versions?.drafts ||\n    (entityConfig?.versions?.drafts && entityConfig.versions.drafts?.autosave)\n  ) {\n    columns.push({\n      accessor: '_status',\n      active: true,\n      field: {\n        name: '',\n        type: 'checkbox',\n      },\n      Heading: <SortColumn disable Label={t('version:status')} name=\"status\" />,\n      renderedCells: docs.map((doc, i) => {\n        return (\n          <AutosaveCell\n            key={i}\n            latestDraftVersion={latestDraftVersion}\n            latestPublishedVersion={latestPublishedVersion}\n            rowData={doc}\n          />\n        )\n      }),\n    })\n  }\n\n  return columns\n}\n"],"names":["SortColumn","React","AutosaveCell","CreatedAtCell","IDCell","buildVersionColumns","collectionConfig","docID","docs","globalConfig","i18n","t","latestDraftVersion","latestPublishedVersion","entityConfig","columns","accessor","active","field","name","type","Heading","_jsx","Label","renderedCells","map","doc","i","collectionSlug","slug","globalSlug","rowData","id","updatedAt","disable","versions","drafts","autosave","push"],"mappings":";;;;AAUA,OAAOC,KAAA,MAAW;AAElB,SAASC,YAAY,QAAQ;AAC7B,SAASC,aAAa,QAAQ;AAC9B,SAASC,MAAM,QAAQ;AALvB,SAAsBJ,UAAU,QAAQ;;;;;;;AAOjC,MAAMK,mBAAA,GAAsBA,CAAC,EAClCC,gBAAgB,EAChBC,KAAK,EACLC,IAAI,EACJC,YAAY,EACZC,IAAA,EAAM,EAAEC,CAAAA,EAAG,EACXC,kBAAkB,EAClBC,sBAAAA,EAUD;IACC,MAAMC,YAAA,GAAeR,gBAAA,IAAoBG,YAAA;IAEzC,MAAMM,OAAA,GAAoB;QACxB;YACEC,QAAA,EAAU;YACVC,MAAA,EAAQ;YACRC,KAAA,EAAO;gBACLC,IAAA,EAAM;gBACNC,IAAA,EAAM;YACR;YACAC,OAAA,EAAA,WAAA,mXAASC,MAAAA,AAAA,8XAACtB,aAAA,EAAA;gBAAWuB,KAAA,EAAOZ,CAAA,CAAE;gBAAsBQ,IAAA,EAAK;;YACzDK,aAAA,EAAehB,IAAA,CAAKiB,GAAG,CAAC,CAACC,GAAA,EAAKC,CAAA;gBAC5B,OAAA,WAAA,IACEL,qXAAAA,AAAA,sZAACnB,gBAAA,EAAA;oBACCyB,cAAA,EAAgBtB,gBAAA,EAAkBuB,IAAA;oBAClCtB,KAAA,EAAOA,KAAA;oBACPuB,UAAA,EAAYrB,YAAA,EAAcoB,IAAA;oBAE1BE,OAAA,EAAS;wBACPC,EAAA,EAAIN,GAAA,CAAIM,EAAE;wBACVC,SAAA,EAAWP,GAAA,CAAIO,SAAAA;oBACjB;mBAJKN,CAAA;YAOX;QACF;QACA;YACEX,QAAA,EAAU;YACVC,MAAA,EAAQ;YACRC,KAAA,EAAO;gBACLC,IAAA,EAAM;gBACNC,IAAA,EAAM;YACR;YACAC,OAAA,EAAA,WAAA,mXAASC,MAAAA,AAAA,8XAACtB,aAAA,EAAA;gBAAWkC,OAAO,EAAA;gBAACX,KAAA,EAAOZ,CAAA,CAAE;gBAAsBQ,IAAA,EAAK;;YACjEK,aAAA,EAAehB,IAAA,CAAKiB,GAAG,CAAC,CAACC,GAAA,EAAKC,CAAA;gBAC5B,OAAA,WAAA,mXAAOL,MAAAA,AAAA,+YAAClB,SAAA,EAAA;oBAAO4B,EAAA,EAAIN,GAAA,CAAIM,EAAAA;mBAASL,CAAA;YAClC;QACF;KACD;IAED,IACEb,YAAA,EAAcqB,QAAA,EAAUC,MAAA,IACvBtB,YAAA,EAAcqB,QAAA,EAAUC,MAAA,IAAUtB,YAAA,CAAaqB,QAAQ,CAACC,MAAM,EAAEC,QAAA,EACjE;QACAtB,OAAA,CAAQuB,IAAI,CAAC;YACXtB,QAAA,EAAU;YACVC,MAAA,EAAQ;YACRC,KAAA,EAAO;gBACLC,IAAA,EAAM;gBACNC,IAAA,EAAM;YACR;YACAC,OAAA,EAAA,WAAA,IAASC,qXAAAA,AAAA,8XAACtB,aAAA,EAAA;gBAAWkC,OAAO,EAAA;gBAACX,KAAA,EAAOZ,CAAA,CAAE;gBAAmBQ,IAAA,EAAK;;YAC9DK,aAAA,EAAehB,IAAA,CAAKiB,GAAG,CAAC,CAACC,GAAA,EAAKC,CAAA;gBAC5B,OAAA,WAAA,mXACEL,MAAAA,AAAA,yZAACpB,eAAA,EAAA;oBAECU,kBAAA,EAAoBA,kBAAA;oBACpBC,sBAAA,EAAwBA,sBAAA;oBACxBkB,OAAA,EAASL;mBAHJC,CAAA;YAMX;QACF;IACF;IAEA,OAAOZ,OAAA;AACT","ignoreList":[0]}},
    {"offset": {"line": 3990, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3996, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Versions/index.client.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const VersionsViewClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call VersionsViewClient() from the server but VersionsViewClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Versions/index.client.js <module evaluation>\",\n    \"VersionsViewClient\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,qBAAqB,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EACpD;IAAa,MAAM,IAAI,MAAM;AAAoP,GACjR,+OACA","ignoreList":[0]}},
    {"offset": {"line": 4004, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4010, "column": 0}, "map": {"version":3,"sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/dist/views/Versions/index.client.js/proxy.js"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const VersionsViewClient = registerClientReference(\n    function() { throw new Error(\"Attempted to call VersionsViewClient() from the server but VersionsViewClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/node_modules/.pnpm/@payloadcms+next@3.23.0_@types+react@19.0.1_graphql@16.10.0_monaco-editor@0.52.2_next@15.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/@payloadcms/next/dist/views/Versions/index.client.js\",\n    \"VersionsViewClient\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,qBAAqB,CAAA,GAAA,yYAAA,CAAA,0BAAuB,AAAD,EACpD;IAAa,MAAM,IAAI,MAAM;AAAoP,GACjR,2NACA","ignoreList":[0]}},
    {"offset": {"line": 4018, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4024, "column": 0}, "map": {"version":3,"file":"index.client.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Versions/index.client.tsx"],"sourcesContent":["'use client'\nimport type { SanitizedCollectionConfig } from 'payload'\n\nimport {\n  type Column,\n  LoadingOverlayToggle,\n  Pagination,\n  PerPage,\n  Table,\n  useListQuery,\n  useTranslation,\n} from '@payloadcms/ui'\nimport { useSearchParams } from 'next/navigation.js'\nimport React from 'react'\n\nexport const VersionsViewClient: React.FC<{\n  readonly baseClass: string\n  readonly columns: Column[]\n  readonly fetchURL: string\n  readonly paginationLimits?: SanitizedCollectionConfig['admin']['pagination']['limits']\n}> = (props) => {\n  const { baseClass, columns, paginationLimits } = props\n\n  const { data, handlePageChange, handlePerPageChange } = useListQuery()\n\n  const searchParams = useSearchParams()\n  const limit = searchParams.get('limit')\n\n  const { i18n } = useTranslation()\n\n  const versionCount = data?.totalDocs || 0\n\n  return (\n    <React.Fragment>\n      <LoadingOverlayToggle name=\"versions\" show={!data} />\n      {versionCount === 0 && (\n        <div className={`${baseClass}__no-versions`}>\n          {i18n.t('version:noFurtherVersionsFound')}\n        </div>\n      )}\n      {versionCount > 0 && (\n        <React.Fragment>\n          <Table columns={columns} data={data?.docs} />\n          <div className={`${baseClass}__page-controls`}>\n            <Pagination\n              hasNextPage={data.hasNextPage}\n              hasPrevPage={data.hasPrevPage}\n              limit={data.limit}\n              nextPage={data.nextPage}\n              numberOfNeighbors={1}\n              onChange={handlePageChange}\n              page={data.page}\n              prevPage={data.prevPage}\n              totalPages={data.totalPages}\n            />\n            {data?.totalDocs > 0 && (\n              <React.Fragment>\n                <div className={`${baseClass}__page-info`}>\n                  {data.page * data.limit - (data.limit - 1)}-\n                  {data.totalPages > 1 && data.totalPages !== data.page\n                    ? data.limit * data.page\n                    : data.totalDocs}{' '}\n                  {i18n.t('general:of')} {data.totalDocs}\n                </div>\n                <PerPage\n                  handleChange={handlePerPageChange}\n                  limit={limit ? Number(limit) : 10}\n                  limits={paginationLimits}\n                />\n              </React.Fragment>\n            )}\n          </div>\n        </React.Fragment>\n      )}\n    </React.Fragment>\n  )\n}\n"],"names":["c","_c","LoadingOverlayToggle","Pagination","PerPage","Table","useListQuery","useTranslation","useSearchParams","React","VersionsViewClient","props","$","baseClass","columns","paginationLimits","data","handlePageChange","handlePerPageChange","searchParams","t0","get","limit","i18n","versionCount","totalDocs","t1","t2","_jsxs","Fragment","children","_jsx","name","show","className","t","docs","hasNextPage","hasPrevPage","nextPage","numberOfNeighbors","onChange","page","prevPage","totalPages","handleChange","Number","limits"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 4028, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4034, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Versions/index.tsx"],"sourcesContent":["import { Gutter, ListQueryProvider, SetDocumentStepNav } from '@payloadcms/ui'\nimport { notFound } from 'next/navigation.js'\nimport {\n  type EditViewComponent,\n  logError,\n  type PaginatedDocs,\n  type PayloadServerReactComponent,\n} from 'payload'\nimport { isNumber } from 'payload/shared'\nimport React from 'react'\n\nimport { buildVersionColumns } from './buildColumns.js'\nimport { getLatestVersion } from './getLatestVersion.js'\nimport { VersionsViewClient } from './index.client.js'\nimport './index.scss'\n\nexport const baseClass = 'versions'\n\nexport const VersionsView: PayloadServerReactComponent<EditViewComponent> = async (props) => {\n  const { initPageResult, searchParams } = props\n\n  const {\n    collectionConfig,\n    docID: id,\n    globalConfig,\n    req,\n    req: {\n      i18n,\n      payload,\n      payload: { config },\n      t,\n      user,\n    },\n  } = initPageResult\n\n  const collectionSlug = collectionConfig?.slug\n  const globalSlug = globalConfig?.slug\n  const { limit, page, sort } = searchParams\n\n  const {\n    localization,\n    routes: { api: apiRoute },\n    serverURL,\n  } = config\n\n  let versionsData: PaginatedDocs\n  let limitToUse = isNumber(limit) ? Number(limit) : undefined\n  let latestPublishedVersion = null\n  let latestDraftVersion = null\n\n  if (collectionSlug) {\n    limitToUse = limitToUse || collectionConfig.admin.pagination.defaultLimit\n    const whereQuery: {\n      and: Array<{ parent?: { equals: number | string }; snapshot?: { not_equals: boolean } }>\n    } = {\n      and: [\n        {\n          parent: {\n            equals: id,\n          },\n        },\n      ],\n    }\n\n    if (localization && collectionConfig?.versions?.drafts) {\n      whereQuery.and.push({\n        snapshot: {\n          not_equals: true,\n        },\n      })\n    }\n\n    try {\n      versionsData = await payload.findVersions({\n        collection: collectionSlug,\n        depth: 0,\n        limit: limitToUse,\n        overrideAccess: false,\n        page: page ? parseInt(page.toString(), 10) : undefined,\n        req,\n        sort: sort as string,\n        user,\n        where: whereQuery,\n      })\n      if (collectionConfig?.versions?.drafts) {\n        latestDraftVersion = await getLatestVersion({\n          slug: collectionSlug,\n          type: 'collection',\n          parentID: id,\n          payload,\n          status: 'draft',\n        })\n        latestPublishedVersion = await getLatestVersion({\n          slug: collectionSlug,\n          type: 'collection',\n          parentID: id,\n          payload,\n          status: 'published',\n        })\n      }\n    } catch (err) {\n      logError({ err, payload })\n    }\n  }\n\n  if (globalSlug) {\n    limitToUse = limitToUse || 10\n    const whereQuery =\n      localization && globalConfig?.versions?.drafts\n        ? {\n            snapshot: {\n              not_equals: true,\n            },\n          }\n        : {}\n\n    try {\n      versionsData = await payload.findGlobalVersions({\n        slug: globalSlug,\n        depth: 0,\n        limit: limitToUse,\n        overrideAccess: false,\n        page: page ? parseInt(page as string, 10) : undefined,\n        req,\n        sort: sort as string,\n        user,\n        where: whereQuery,\n      })\n\n      if (globalConfig?.versions?.drafts) {\n        latestDraftVersion = await getLatestVersion({\n          slug: globalSlug,\n          type: 'global',\n          payload,\n          status: 'draft',\n        })\n        latestPublishedVersion = await getLatestVersion({\n          slug: globalSlug,\n          type: 'global',\n          payload,\n          status: 'published',\n        })\n      }\n    } catch (err) {\n      logError({ err, payload })\n    }\n\n    if (!versionsData) {\n      return notFound()\n    }\n  }\n  const fetchURL = collectionSlug\n    ? `${serverURL}${apiRoute}/${collectionSlug}/versions`\n    : globalSlug\n      ? `${serverURL}${apiRoute}/globals/${globalSlug}/versions`\n      : ''\n\n  const publishedNewerThanDraft = latestPublishedVersion?.updatedAt > latestDraftVersion?.updatedAt\n\n  if (publishedNewerThanDraft) {\n    latestDraftVersion = {\n      id: '',\n      updatedAt: '',\n    }\n  }\n\n  const columns = buildVersionColumns({\n    collectionConfig,\n    config,\n    docID: id,\n    docs: versionsData?.docs,\n    globalConfig,\n    i18n,\n    latestDraftVersion: latestDraftVersion?.id,\n    latestPublishedVersion: latestPublishedVersion?.id,\n  })\n\n  const pluralLabel = collectionConfig?.labels?.plural\n    ? typeof collectionConfig.labels.plural === 'function'\n      ? collectionConfig.labels.plural({ t })\n      : collectionConfig.labels.plural\n    : globalConfig?.label\n\n  return (\n    <React.Fragment>\n      <SetDocumentStepNav\n        collectionSlug={collectionConfig?.slug}\n        globalSlug={globalConfig?.slug}\n        id={id}\n        pluralLabel={pluralLabel}\n        useAsTitle={collectionConfig?.admin?.useAsTitle || globalConfig?.slug}\n        view={i18n.t('version:versions')}\n      />\n      <main className={baseClass}>\n        <Gutter className={`${baseClass}__wrap`}>\n          <ListQueryProvider\n            data={versionsData}\n            defaultLimit={limitToUse}\n            defaultSort={sort as string}\n            modifySearchParams\n          >\n            <VersionsViewClient\n              baseClass={baseClass}\n              columns={columns}\n              fetchURL={fetchURL}\n              paginationLimits={collectionConfig?.admin?.pagination?.limits}\n            />\n          </ListQueryProvider>\n        </Gutter>\n      </main>\n    </React.Fragment>\n  )\n}\n"],"names":["Gutter","ListQueryProvider","SetDocumentStepNav","notFound","logError","isNumber","React","buildVersionColumns","getLatestVersion","VersionsViewClient","baseClass","VersionsView","props","initPageResult","searchParams","collectionConfig","docID","id","globalConfig","req","i18n","payload","config","t","user","collectionSlug","slug","globalSlug","limit","page","sort","localization","routes","api","apiRoute","serverURL","versionsData","limitToUse","Number","undefined","latestPublishedVersion","latestDraftVersion","admin","pagination","defaultLimit","whereQuery","and","parent","equals","versions","drafts","push","snapshot","not_equals","findVersions","collection","depth","overrideAccess","parseInt","toString","where","type","parentID","status","err","findGlobalVersions","fetchURL","publishedNewerThanDraft","updatedAt","columns","docs","pluralLabel","labels","plural","label","_jsxs","Fragment","_jsx","useAsTitle","view","className","data","defaultSort","modifySearchParams","paginationLimits","limits"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4216, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4222, "column": 0}, "map": {"version":3,"file":"getCustomViewByKey.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Document/getCustomViewByKey.tsx"],"sourcesContent":["import type { EditViewComponent, SanitizedCollectionConfig, SanitizedGlobalConfig } from 'payload'\n\nexport const getCustomViewByKey = (\n  views:\n    | SanitizedCollectionConfig['admin']['components']['views']\n    | SanitizedGlobalConfig['admin']['components']['views'],\n  customViewKey: string,\n): EditViewComponent => {\n  return typeof views?.edit?.[customViewKey] === 'object' &&\n    'Component' in views.edit[customViewKey]\n    ? views?.edit?.[customViewKey].Component\n    : null\n}\n"],"names":["getCustomViewByKey","views","customViewKey","edit","Component"],"mappings":";;;AAEO,MAAMA,kBAAA,GAAqBA,CAChCC,KAAA,EAGAC,aAAA;IAEA,OAAO,OAAOD,KAAA,EAAOE,IAAA,EAAA,CAAOD,aAAA,CAAc,KAAK,YAC7C,eAAeD,KAAA,CAAME,IAAI,CAACD,aAAA,CAAc,GACtCD,KAAA,EAAOE,IAAA,EAAA,CAAOD,aAAA,CAAc,CAACE,SAAA,GAC7B;AACN","ignoreList":[0]}},
    {"offset": {"line": 4228, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4234, "column": 0}, "map": {"version":3,"file":"isPathMatchingRoute.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Root/isPathMatchingRoute.ts"],"sourcesContent":["import { pathToRegexp } from 'path-to-regexp'\n\nexport const isPathMatchingRoute = ({\n  currentRoute,\n  exact,\n  path: viewPath,\n  sensitive,\n  strict,\n}: {\n  currentRoute: string\n  exact?: boolean\n  path?: string\n  sensitive?: boolean\n  strict?: boolean\n}) => {\n  const keys = []\n\n  // run the view path through `pathToRegexp` to resolve any dynamic segments\n  // i.e. `/admin/custom-view/:id` -> `/admin/custom-view/123`\n  const regex = pathToRegexp(viewPath, keys, {\n    sensitive,\n    strict,\n  })\n\n  const match = regex.exec(currentRoute)\n  const viewRoute = match?.[0] || viewPath\n\n  if (exact) {\n    return currentRoute === viewRoute\n  }\n  if (!exact) {\n    return viewRoute.startsWith(currentRoute)\n  }\n}\n"],"names":["pathToRegexp","isPathMatchingRoute","currentRoute","exact","path","viewPath","sensitive","strict","keys","regex","match","exec","viewRoute","startsWith"],"mappings":";;;AAAA,SAASA,YAAY,QAAQ;;AAEtB,MAAMC,mBAAA,GAAsBA,CAAC,EAClCC,YAAY,EACZC,KAAK,EACLC,IAAA,EAAMC,QAAQ,EACdC,SAAS,EACTC,MAAAA,EAOD;IACC,MAAMC,IAAA,GAAO,EAAE;IAEf,2EAAA;IACA,4DAAA;IACA,MAAMC,KAAA,wOAAQT,eAAAA,AAAA,EAAaK,QAAA,EAAUG,IAAA,EAAM;QACzCF,SAAA;QACAC;IACF;IAEA,MAAMG,KAAA,GAAQD,KAAA,CAAME,IAAI,CAACT,YAAA;IACzB,MAAMU,SAAA,GAAYF,KAAA,EAAA,CAAQ,EAAE,IAAIL,QAAA;IAEhC,IAAIF,KAAA,EAAO;QACT,OAAOD,YAAA,KAAiBU,SAAA;IAC1B;IACA,IAAI,CAACT,KAAA,EAAO;QACV,OAAOS,SAAA,CAAUC,UAAU,CAACX,YAAA;IAC9B;AACF","ignoreList":[0]}},
    {"offset": {"line": 4256, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4262, "column": 0}, "map": {"version":3,"file":"getCustomViewByRoute.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Document/getCustomViewByRoute.tsx"],"sourcesContent":["import type { EditViewComponent, SanitizedCollectionConfig, SanitizedGlobalConfig } from 'payload'\n\nimport { isPathMatchingRoute } from '../Root/isPathMatchingRoute.js'\n\nexport const getCustomViewByRoute = ({\n  baseRoute,\n  currentRoute,\n  views,\n}: {\n  baseRoute: string\n  currentRoute: string\n  views:\n    | SanitizedCollectionConfig['admin']['components']['views']\n    | SanitizedGlobalConfig['admin']['components']['views']\n}): {\n  Component: EditViewComponent\n  viewKey?: string\n} => {\n  if (typeof views?.edit === 'object') {\n    let viewKey: string\n\n    const foundViewConfig = Object.entries(views.edit).find(([key, view]) => {\n      if (typeof view === 'object' && 'path' in view) {\n        const viewPath = `${baseRoute}${view.path}`\n\n        const isMatching = isPathMatchingRoute({\n          currentRoute,\n          exact: true,\n          path: viewPath,\n        })\n\n        if (isMatching) {\n          viewKey = key\n        }\n\n        return isMatching\n      }\n\n      return false\n    })?.[1]\n\n    if (foundViewConfig && 'Component' in foundViewConfig) {\n      return {\n        Component: foundViewConfig.Component,\n        viewKey,\n      }\n    }\n  }\n\n  return {\n    Component: null,\n  }\n}\n"],"names":["isPathMatchingRoute","getCustomViewByRoute","baseRoute","currentRoute","views","edit","viewKey","foundViewConfig","Object","entries","find","key","view","viewPath","path","isMatching","exact","Component"],"mappings":";;;AAEA,SAASA,mBAAmB,QAAQ;;AAE7B,MAAMC,oBAAA,GAAuBA,CAAC,EACnCC,SAAS,EACTC,YAAY,EACZC,KAAAA,EAOD;IAIC,IAAI,OAAOA,KAAA,EAAOC,IAAA,KAAS,UAAU;QACnC,IAAIC,OAAA;QAEJ,MAAMC,eAAA,GAAkBC,MAAA,CAAOC,OAAO,CAACL,KAAA,CAAMC,IAAI,EAAEK,IAAI,CAAC,CAAC,CAACC,GAAA,EAAKC,IAAA,CAAK;YAClE,IAAI,OAAOA,IAAA,KAAS,YAAY,UAAUA,IAAA,EAAM;gBAC9C,MAAMC,QAAA,GAAW,GAAGX,SAAA,GAAYU,IAAA,CAAKE,IAAI,EAAE;gBAE3C,MAAMC,UAAA,IAAaf,iaAAAA,AAAA,EAAoB;oBACrCG,YAAA;oBACAa,KAAA,EAAO;oBACPF,IAAA,EAAMD;gBACR;gBAEA,IAAIE,UAAA,EAAY;oBACdT,OAAA,GAAUK,GAAA;gBACZ;gBAEA,OAAOI,UAAA;YACT;YAEA,OAAO;QACT,IAAA,CAAK,EAAE;QAEP,IAAIR,eAAA,IAAmB,eAAeA,eAAA,EAAiB;YACrD,OAAO;gBACLU,SAAA,EAAWV,eAAA,CAAgBU,SAAS;gBACpCX;YACF;QACF;IACF;IAEA,OAAO;QACLW,SAAA,EAAW;IACb;AACF","ignoreList":[0]}},
    {"offset": {"line": 4296, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4302, "column": 0}, "map": {"version":3,"file":"getViewsFromConfig.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Document/getViewsFromConfig.tsx"],"sourcesContent":["import type {\n  AdminViewProps,\n  PayloadComponent,\n  SanitizedCollectionConfig,\n  SanitizedCollectionPermission,\n  SanitizedConfig,\n  SanitizedGlobalConfig,\n  SanitizedGlobalPermission,\n  ServerSideEditViewProps,\n} from 'payload'\nimport type React from 'react'\n\nimport { APIView as DefaultAPIView } from '../API/index.js'\nimport { EditView as DefaultEditView } from '../Edit/index.js'\nimport { LivePreviewView as DefaultLivePreviewView } from '../LivePreview/index.js'\nimport { UnauthorizedView } from '../Unauthorized/index.js'\nimport { VersionView as DefaultVersionView } from '../Version/index.js'\nimport { VersionsView as DefaultVersionsView } from '../Versions/index.js'\nimport { getCustomViewByKey } from './getCustomViewByKey.js'\nimport { getCustomViewByRoute } from './getCustomViewByRoute.js'\n\nexport type ViewFromConfig<TProps extends object> = {\n  Component?: React.FC<TProps>\n  ComponentConfig?: PayloadComponent<TProps>\n}\n\nexport const getViewsFromConfig = ({\n  collectionConfig,\n  config,\n  docPermissions,\n  globalConfig,\n  overrideDocPermissions,\n  routeSegments,\n}: {\n  collectionConfig?: SanitizedCollectionConfig\n  config: SanitizedConfig\n  globalConfig?: SanitizedGlobalConfig\n  routeSegments: string[]\n} & (\n  | {\n      docPermissions: SanitizedCollectionPermission | SanitizedGlobalPermission\n      overrideDocPermissions?: false | undefined\n    }\n  | {\n      docPermissions?: never\n      overrideDocPermissions: true\n    }\n)): {\n  CustomView: ViewFromConfig<ServerSideEditViewProps>\n  DefaultView: ViewFromConfig<ServerSideEditViewProps>\n  /**\n   * The error view to display if CustomView or DefaultView do not exist (could be either due to not found, or unauthorized). Can be null\n   */\n  ErrorView: ViewFromConfig<AdminViewProps>\n  viewKey: string\n} | null => {\n  // Conditionally import and lazy load the default view\n  let DefaultView: ViewFromConfig<ServerSideEditViewProps> = null\n  let CustomView: ViewFromConfig<ServerSideEditViewProps> = null\n  let ErrorView: ViewFromConfig<AdminViewProps> = null\n  let viewKey: string\n\n  const {\n    routes: { admin: adminRoute },\n  } = config\n\n  const views =\n    (collectionConfig && collectionConfig?.admin?.components?.views) ||\n    (globalConfig && globalConfig?.admin?.components?.views)\n\n  const livePreviewEnabled =\n    (collectionConfig && collectionConfig?.admin?.livePreview) ||\n    config?.admin?.livePreview?.collections?.includes(collectionConfig?.slug) ||\n    (globalConfig && globalConfig?.admin?.livePreview) ||\n    config?.admin?.livePreview?.globals?.includes(globalConfig?.slug)\n\n  if (collectionConfig) {\n    const [collectionEntity, collectionSlug, segment3, segment4, segment5, ...remainingSegments] =\n      routeSegments\n\n    if (!overrideDocPermissions && !docPermissions?.read) {\n      throw new Error('not-found')\n    } else {\n      // `../:id`, or `../create`\n      switch (routeSegments.length) {\n        case 3: {\n          switch (segment3) {\n            case 'create': {\n              if (!overrideDocPermissions && 'create' in docPermissions && docPermissions.create) {\n                CustomView = {\n                  ComponentConfig: getCustomViewByKey(views, 'default'),\n                }\n                DefaultView = {\n                  Component: DefaultEditView,\n                }\n              } else {\n                ErrorView = {\n                  Component: UnauthorizedView,\n                }\n              }\n              break\n            }\n\n            default: {\n              const baseRoute = [\n                adminRoute !== '/' && adminRoute,\n                'collections',\n                collectionSlug,\n                segment3,\n              ]\n                .filter(Boolean)\n                .join('/')\n\n              const currentRoute = [baseRoute, segment4, segment5, ...remainingSegments]\n                .filter(Boolean)\n                .join('/')\n\n              const { Component: CustomViewComponent, viewKey: customViewKey } =\n                getCustomViewByRoute({\n                  baseRoute,\n                  currentRoute,\n                  views,\n                })\n\n              if (customViewKey) {\n                viewKey = customViewKey\n\n                CustomView = {\n                  ComponentConfig: CustomViewComponent,\n                }\n              } else {\n                CustomView = {\n                  ComponentConfig: getCustomViewByKey(views, 'default'),\n                }\n\n                DefaultView = {\n                  Component: DefaultEditView,\n                }\n              }\n\n              break\n            }\n          }\n          break\n        }\n\n        // `../:id/api`, `../:id/preview`, `../:id/versions`, etc\n        case 4: {\n          switch (segment4) {\n            case 'api': {\n              if (collectionConfig?.admin?.hideAPIURL !== true) {\n                CustomView = {\n                  ComponentConfig: getCustomViewByKey(views, 'api'),\n                }\n                DefaultView = {\n                  Component: DefaultAPIView,\n                }\n              }\n              break\n            }\n\n            case 'preview': {\n              if (livePreviewEnabled) {\n                DefaultView = {\n                  Component: DefaultLivePreviewView,\n                }\n                CustomView = {\n                  ComponentConfig: getCustomViewByKey(views, 'livePreview'),\n                }\n              }\n              break\n            }\n\n            case 'versions': {\n              if (!overrideDocPermissions && docPermissions?.readVersions) {\n                CustomView = {\n                  ComponentConfig: getCustomViewByKey(views, 'versions'),\n                }\n                DefaultView = {\n                  Component: DefaultVersionsView,\n                }\n              } else {\n                ErrorView = {\n                  Component: UnauthorizedView,\n                }\n              }\n              break\n            }\n\n            default: {\n              const baseRoute = [\n                adminRoute !== '/' && adminRoute,\n                'collections',\n                collectionSlug,\n                segment3,\n              ]\n                .filter(Boolean)\n                .join('/')\n\n              const currentRoute = [baseRoute, segment4, segment5, ...remainingSegments]\n                .filter(Boolean)\n                .join('/')\n\n              const { Component: CustomViewComponent, viewKey: customViewKey } =\n                getCustomViewByRoute({\n                  baseRoute,\n                  currentRoute,\n                  views,\n                })\n\n              if (customViewKey) {\n                viewKey = customViewKey\n\n                CustomView = {\n                  ComponentConfig: CustomViewComponent,\n                }\n              }\n\n              break\n            }\n          }\n          break\n        }\n\n        // `../:id/versions/:version`, etc\n        default: {\n          if (segment4 === 'versions') {\n            if (!overrideDocPermissions && docPermissions?.readVersions) {\n              CustomView = {\n                ComponentConfig: getCustomViewByKey(views, 'version'),\n              }\n              DefaultView = {\n                Component: DefaultVersionView,\n              }\n            } else {\n              ErrorView = {\n                Component: UnauthorizedView,\n              }\n            }\n          } else {\n            const baseRoute = [\n              adminRoute !== '/' && adminRoute,\n              collectionEntity,\n              collectionSlug,\n              segment3,\n            ]\n              .filter(Boolean)\n              .join('/')\n\n            const currentRoute = [baseRoute, segment4, segment5, ...remainingSegments]\n              .filter(Boolean)\n              .join('/')\n\n            const { Component: CustomViewComponent, viewKey: customViewKey } = getCustomViewByRoute(\n              {\n                baseRoute,\n                currentRoute,\n                views,\n              },\n            )\n\n            if (customViewKey) {\n              viewKey = customViewKey\n\n              CustomView = {\n                ComponentConfig: CustomViewComponent,\n              }\n            }\n          }\n\n          break\n        }\n      }\n    }\n  }\n\n  if (globalConfig) {\n    const [globalEntity, globalSlug, segment3, ...remainingSegments] = routeSegments\n\n    if (!overrideDocPermissions && !docPermissions?.read) {\n      throw new Error('not-found')\n    } else {\n      switch (routeSegments.length) {\n        case 2: {\n          CustomView = {\n            ComponentConfig: getCustomViewByKey(views, 'default'),\n          }\n          DefaultView = {\n            Component: DefaultEditView,\n          }\n          break\n        }\n\n        case 3: {\n          // `../:slug/api`, `../:slug/preview`, `../:slug/versions`, etc\n          switch (segment3) {\n            case 'api': {\n              if (globalConfig?.admin?.hideAPIURL !== true) {\n                CustomView = {\n                  ComponentConfig: getCustomViewByKey(views, 'api'),\n                }\n                DefaultView = {\n                  Component: DefaultAPIView,\n                }\n              }\n              break\n            }\n\n            case 'preview': {\n              if (livePreviewEnabled) {\n                DefaultView = {\n                  Component: DefaultLivePreviewView,\n                }\n                CustomView = {\n                  ComponentConfig: getCustomViewByKey(views, 'livePreview'),\n                }\n              }\n              break\n            }\n\n            case 'versions': {\n              if (!overrideDocPermissions && docPermissions?.readVersions) {\n                CustomView = {\n                  ComponentConfig: getCustomViewByKey(views, 'versions'),\n                }\n\n                DefaultView = {\n                  Component: DefaultVersionsView,\n                }\n              } else {\n                ErrorView = {\n                  Component: UnauthorizedView,\n                }\n              }\n              break\n            }\n\n            default: {\n              if (!overrideDocPermissions && docPermissions?.read) {\n                const baseRoute = [adminRoute, globalEntity, globalSlug, segment3]\n                  .filter(Boolean)\n                  .join('/')\n\n                const currentRoute = [baseRoute, segment3, ...remainingSegments]\n                  .filter(Boolean)\n                  .join('/')\n\n                const { Component: CustomViewComponent, viewKey: customViewKey } =\n                  getCustomViewByRoute({\n                    baseRoute,\n                    currentRoute,\n                    views,\n                  })\n\n                if (customViewKey) {\n                  viewKey = customViewKey\n\n                  CustomView = {\n                    ComponentConfig: CustomViewComponent,\n                  }\n                } else {\n                  DefaultView = {\n                    Component: DefaultEditView,\n                  }\n                }\n              } else {\n                ErrorView = {\n                  Component: UnauthorizedView,\n                }\n              }\n              break\n            }\n          }\n          break\n        }\n\n        default: {\n          // `../:slug/versions/:version`, etc\n          if (segment3 === 'versions') {\n            if (!overrideDocPermissions && docPermissions?.readVersions) {\n              CustomView = {\n                ComponentConfig: getCustomViewByKey(views, 'version'),\n              }\n              DefaultView = {\n                Component: DefaultVersionView,\n              }\n            } else {\n              ErrorView = {\n                Component: UnauthorizedView,\n              }\n            }\n          } else {\n            const baseRoute = [adminRoute !== '/' && adminRoute, 'globals', globalSlug]\n              .filter(Boolean)\n              .join('/')\n\n            const currentRoute = [baseRoute, segment3, ...remainingSegments]\n              .filter(Boolean)\n              .join('/')\n\n            const { Component: CustomViewComponent, viewKey: customViewKey } = getCustomViewByRoute(\n              {\n                baseRoute,\n                currentRoute,\n                views,\n              },\n            )\n\n            if (customViewKey) {\n              viewKey = customViewKey\n\n              CustomView = {\n                ComponentConfig: CustomViewComponent,\n              }\n            }\n          }\n\n          break\n        }\n      }\n    }\n  }\n\n  return {\n    CustomView,\n    DefaultView,\n    ErrorView,\n    viewKey,\n  }\n}\n"],"names":["APIView","DefaultAPIView","EditView","DefaultEditView","LivePreviewView","DefaultLivePreviewView","UnauthorizedView","VersionView","DefaultVersionView","VersionsView","DefaultVersionsView","getCustomViewByKey","getCustomViewByRoute","getViewsFromConfig","collectionConfig","config","docPermissions","globalConfig","overrideDocPermissions","routeSegments","DefaultView","CustomView","ErrorView","viewKey","routes","admin","adminRoute","views","components","livePreviewEnabled","livePreview","collections","includes","slug","globals","collectionEntity","collectionSlug","segment3","segment4","segment5","remainingSegments","read","Error","length","create","ComponentConfig","Component","baseRoute","filter","Boolean","join","currentRoute","CustomViewComponent","customViewKey","hideAPIURL","readVersions","globalEntity","globalSlug"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4664, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4670, "column": 0}, "map": {"version":3,"file":"getMetaBySegment.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Document/getMetaBySegment.tsx"],"sourcesContent":["import type { Metadata } from 'next'\nimport type { EditConfig, SanitizedCollectionConfig, SanitizedGlobalConfig } from 'payload'\n\nimport type { GenerateViewMetadata } from '../Root/index.js'\n\nimport { getNextRequestI18n } from '../../utilities/getNextRequestI18n.js'\nimport { generateMetadata as apiMeta } from '../API/meta.js'\nimport { generateMetadata as editMeta } from '../Edit/meta.js'\nimport { generateMetadata as livePreviewMeta } from '../LivePreview/meta.js'\nimport { generateNotFoundMeta } from '../NotFound/meta.js'\nimport { generateMetadata as versionMeta } from '../Version/meta.js'\nimport { generateMetadata as versionsMeta } from '../Versions/meta.js'\nimport { getViewsFromConfig } from './getViewsFromConfig.js'\n\nexport type GenerateEditViewMetadata = (\n  args: {\n    collectionConfig?: null | SanitizedCollectionConfig\n    globalConfig?: null | SanitizedGlobalConfig\n    view?: keyof EditConfig\n  } & Parameters<GenerateViewMetadata>[0],\n) => Promise<Metadata>\n\nexport const getMetaBySegment: GenerateEditViewMetadata = async ({\n  collectionConfig,\n  config,\n  globalConfig,\n  params,\n}) => {\n  const { segments } = params\n\n  let fn: GenerateEditViewMetadata | null = null\n\n  const [segmentOne] = segments\n  const isCollection = segmentOne === 'collections'\n  const isGlobal = segmentOne === 'globals'\n\n  const isEditing =\n    isGlobal || Boolean(isCollection && segments?.length > 2 && segments[2] !== 'create')\n\n  if (isCollection) {\n    // `/:collection/:id`\n    if (params.segments.length === 3) {\n      fn = editMeta\n    }\n\n    // `/:collection/:id/:view`\n    if (params.segments.length === 4) {\n      switch (params.segments[3]) {\n        case 'api':\n          // `/:collection/:id/api`\n          fn = apiMeta\n          break\n        case 'preview':\n          // `/:collection/:id/preview`\n          fn = livePreviewMeta\n          break\n        case 'versions':\n          // `/:collection/:id/versions`\n          fn = versionsMeta\n          break\n        default:\n          break\n      }\n    }\n\n    // `/:collection/:id/:slug-1/:slug-2`\n    if (params.segments.length === 5) {\n      switch (params.segments[3]) {\n        case 'versions':\n          // `/:collection/:id/versions/:version`\n          fn = versionMeta\n          break\n        default:\n          break\n      }\n    }\n  }\n\n  if (isGlobal) {\n    // `/:global`\n    if (params.segments?.length === 2) {\n      fn = editMeta\n    }\n\n    // `/:global/:view`\n    if (params.segments?.length === 3) {\n      switch (params.segments[2]) {\n        case 'api':\n          // `/:global/api`\n          fn = apiMeta\n          break\n        case 'preview':\n          // `/:global/preview`\n          fn = livePreviewMeta\n          break\n        case 'versions':\n          // `/:global/versions`\n          fn = versionsMeta\n          break\n        default:\n          break\n      }\n    }\n\n    // `/:global/versions/:version`\n    if (params.segments?.length === 4 && params.segments[2] === 'versions') {\n      fn = versionMeta\n    }\n  }\n\n  const i18n = await getNextRequestI18n({\n    config,\n  })\n\n  if (typeof fn === 'function') {\n    return fn({\n      collectionConfig,\n      config,\n      globalConfig,\n      i18n,\n      isEditing,\n    })\n  } else {\n    const { viewKey } = getViewsFromConfig({\n      collectionConfig,\n      config,\n      globalConfig,\n      overrideDocPermissions: true,\n      routeSegments: typeof segments === 'string' ? [segments] : segments,\n    })\n\n    if (viewKey) {\n      const customViewConfig =\n        collectionConfig?.admin?.components?.views?.edit?.[viewKey] ||\n        globalConfig?.admin?.components?.views?.edit?.[viewKey]\n\n      if (customViewConfig) {\n        return editMeta({\n          collectionConfig,\n          config,\n          globalConfig,\n          i18n,\n          isEditing,\n          view: viewKey as keyof EditConfig,\n        })\n      }\n    }\n  }\n\n  return generateNotFoundMeta({ config, i18n })\n}\n"],"names":["getNextRequestI18n","generateMetadata","apiMeta","editMeta","livePreviewMeta","generateNotFoundMeta","versionMeta","versionsMeta","getViewsFromConfig","getMetaBySegment","collectionConfig","config","globalConfig","params","segments","fn","segmentOne","isCollection","isGlobal","isEditing","Boolean","length","i18n","viewKey","overrideDocPermissions","routeSegments","customViewConfig","admin","components","views","edit","view"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4801, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4807, "column": 0}, "map": {"version":3,"file":"getVersions.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Document/getVersions.ts"],"sourcesContent":["import type {\n  Payload,\n  SanitizedCollectionConfig,\n  SanitizedDocumentPermissions,\n  SanitizedGlobalConfig,\n  TypedUser,\n} from 'payload'\n\nimport { sanitizeID } from '@payloadcms/ui/shared'\n\ntype Args = {\n  collectionConfig?: SanitizedCollectionConfig\n  /**\n   * Optional - performance optimization.\n   * If a document has been fetched before fetching versions, pass it here.\n   * If this document is set to published, we can skip the query to find out if a published document exists,\n   * as the passed in document is proof of its existence.\n   */\n  doc?: Record<string, any>\n  docPermissions: SanitizedDocumentPermissions\n  globalConfig?: SanitizedGlobalConfig\n  id?: number | string\n  locale?: string\n  payload: Payload\n  user: TypedUser\n}\n\ntype Result = Promise<{\n  hasPublishedDoc: boolean\n  mostRecentVersionIsAutosaved: boolean\n  unpublishedVersionCount: number\n  versionCount: number\n}>\n\n// TODO: in the future, we can parallelize some of these queries\n// this will speed up the API by ~30-100ms or so\n// Note from the future: I have attempted parallelizing these queries, but it made this function almost 2x slower.\nexport const getVersions = async ({\n  id: idArg,\n  collectionConfig,\n  doc,\n  docPermissions,\n  globalConfig,\n  locale,\n  payload,\n  user,\n}: Args): Result => {\n  const id = sanitizeID(idArg)\n  let publishedDoc\n  let hasPublishedDoc = false\n  let mostRecentVersionIsAutosaved = false\n  let unpublishedVersionCount = 0\n  let versionCount = 0\n\n  const entityConfig = collectionConfig || globalConfig\n  const versionsConfig = entityConfig?.versions\n\n  const shouldFetchVersions = Boolean(versionsConfig && docPermissions?.readVersions)\n\n  if (!shouldFetchVersions) {\n    const hasPublishedDoc = Boolean((collectionConfig && id) || globalConfig)\n\n    return {\n      hasPublishedDoc,\n      mostRecentVersionIsAutosaved,\n      unpublishedVersionCount,\n      versionCount,\n    }\n  }\n\n  if (collectionConfig) {\n    if (!id) {\n      return {\n        hasPublishedDoc,\n        mostRecentVersionIsAutosaved,\n        unpublishedVersionCount,\n        versionCount,\n      }\n    }\n\n    if (versionsConfig?.drafts) {\n      // Find out if a published document exists\n      if (doc?._status === 'published') {\n        publishedDoc = doc\n      } else {\n        publishedDoc = (\n          await payload.find({\n            collection: collectionConfig.slug,\n            depth: 0,\n            limit: 1,\n            locale: locale || undefined,\n            pagination: false,\n            select: {\n              updatedAt: true,\n            },\n            user,\n            where: {\n              and: [\n                {\n                  or: [\n                    {\n                      _status: {\n                        equals: 'published',\n                      },\n                    },\n                    {\n                      _status: {\n                        exists: false,\n                      },\n                    },\n                  ],\n                },\n                {\n                  id: {\n                    equals: id,\n                  },\n                },\n              ],\n            },\n          })\n        )?.docs?.[0]\n      }\n\n      if (publishedDoc) {\n        hasPublishedDoc = true\n      }\n\n      if (versionsConfig.drafts?.autosave) {\n        const mostRecentVersion = await payload.findVersions({\n          collection: collectionConfig.slug,\n          depth: 0,\n          limit: 1,\n          select: {\n            autosave: true,\n          },\n          user,\n          where: {\n            and: [\n              {\n                parent: {\n                  equals: id,\n                },\n              },\n            ],\n          },\n        })\n\n        if (\n          mostRecentVersion.docs[0] &&\n          'autosave' in mostRecentVersion.docs[0] &&\n          mostRecentVersion.docs[0].autosave\n        ) {\n          mostRecentVersionIsAutosaved = true\n        }\n      }\n\n      if (publishedDoc?.updatedAt) {\n        ;({ totalDocs: unpublishedVersionCount } = await payload.countVersions({\n          collection: collectionConfig.slug,\n          user,\n          where: {\n            and: [\n              {\n                parent: {\n                  equals: id,\n                },\n              },\n              {\n                'version._status': {\n                  equals: 'draft',\n                },\n              },\n              {\n                updatedAt: {\n                  greater_than: publishedDoc.updatedAt,\n                },\n              },\n            ],\n          },\n        }))\n      }\n    }\n\n    ;({ totalDocs: versionCount } = await payload.countVersions({\n      collection: collectionConfig.slug,\n      depth: 0,\n      user,\n      where: {\n        and: [\n          {\n            parent: {\n              equals: id,\n            },\n          },\n        ],\n      },\n    }))\n  }\n\n  if (globalConfig) {\n    // Find out if a published document exists\n    if (versionsConfig?.drafts) {\n      if (doc?._status === 'published') {\n        publishedDoc = doc\n      } else {\n        publishedDoc = await payload.findGlobal({\n          slug: globalConfig.slug,\n          depth: 0,\n          locale,\n          select: {\n            updatedAt: true,\n          },\n          user,\n        })\n      }\n\n      if (publishedDoc?._status === 'published') {\n        hasPublishedDoc = true\n      }\n\n      if (versionsConfig.drafts?.autosave) {\n        const mostRecentVersion = await payload.findGlobalVersions({\n          slug: globalConfig.slug,\n          limit: 1,\n          select: {\n            autosave: true,\n          },\n          user,\n        })\n\n        if (\n          mostRecentVersion.docs[0] &&\n          'autosave' in mostRecentVersion.docs[0] &&\n          mostRecentVersion.docs[0].autosave\n        ) {\n          mostRecentVersionIsAutosaved = true\n        }\n      }\n\n      if (publishedDoc?.updatedAt) {\n        ;({ totalDocs: unpublishedVersionCount } = await payload.countGlobalVersions({\n          depth: 0,\n          global: globalConfig.slug,\n          user,\n          where: {\n            and: [\n              {\n                'version._status': {\n                  equals: 'draft',\n                },\n              },\n              {\n                updatedAt: {\n                  greater_than: publishedDoc.updatedAt,\n                },\n              },\n            ],\n          },\n        }))\n      }\n    }\n\n    ;({ totalDocs: versionCount } = await payload.countGlobalVersions({\n      depth: 0,\n      global: globalConfig.slug,\n      user,\n    }))\n  }\n\n  return {\n    hasPublishedDoc,\n    mostRecentVersionIsAutosaved,\n    unpublishedVersionCount,\n    versionCount,\n  }\n}\n"],"names":["sanitizeID","getVersions","id","idArg","collectionConfig","doc","docPermissions","globalConfig","locale","payload","user","publishedDoc","hasPublishedDoc","mostRecentVersionIsAutosaved","unpublishedVersionCount","versionCount","entityConfig","versionsConfig","versions","shouldFetchVersions","Boolean","readVersions","drafts","_status","find","collection","slug","depth","limit","undefined","pagination","select","updatedAt","where","and","or","equals","exists","docs","autosave","mostRecentVersion","findVersions","parent","totalDocs","countVersions","greater_than","findGlobal","findGlobalVersions","countGlobalVersions","global"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5014, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5020, "column": 0}, "map": {"version":3,"file":"renderDocumentSlots.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Document/renderDocumentSlots.tsx"],"sourcesContent":["import type {\n  DefaultServerFunctionArgs,\n  DocumentSlots,\n  PayloadRequest,\n  SanitizedCollectionConfig,\n  SanitizedDocumentPermissions,\n  SanitizedGlobalConfig,\n  ServerProps,\n  StaticDescription,\n} from 'payload'\n\nimport { ViewDescription } from '@payloadcms/ui'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\n\nimport { getDocumentPermissions } from './getDocumentPermissions.js'\n\nexport const renderDocumentSlots: (args: {\n  collectionConfig?: SanitizedCollectionConfig\n  globalConfig?: SanitizedGlobalConfig\n  hasSavePermission: boolean\n  permissions: SanitizedDocumentPermissions\n  req: PayloadRequest\n}) => DocumentSlots = (args) => {\n  const { collectionConfig, globalConfig, hasSavePermission, req } = args\n\n  const components: DocumentSlots = {} as DocumentSlots\n\n  const unsavedDraftWithValidations = undefined\n\n  const isPreviewEnabled = collectionConfig?.admin?.preview || globalConfig?.admin?.preview\n\n  const serverProps: ServerProps = {\n    i18n: req.i18n,\n    payload: req.payload,\n    user: req.user,\n    // TODO: Add remaining serverProps\n  }\n\n  const CustomPreviewButton =\n    collectionConfig?.admin?.components?.edit?.PreviewButton ||\n    globalConfig?.admin?.components?.elements?.PreviewButton\n\n  if (isPreviewEnabled && CustomPreviewButton) {\n    components.PreviewButton = RenderServerComponent({\n      Component: CustomPreviewButton,\n      importMap: req.payload.importMap,\n      serverProps,\n    })\n  }\n\n  const descriptionFromConfig =\n    collectionConfig?.admin?.description || globalConfig?.admin?.description\n\n  const staticDescription: StaticDescription =\n    typeof descriptionFromConfig === 'function'\n      ? descriptionFromConfig({ t: req.i18n.t })\n      : descriptionFromConfig\n\n  const CustomDescription =\n    collectionConfig?.admin?.components?.Description ||\n    globalConfig?.admin?.components?.elements?.Description\n\n  const hasDescription = CustomDescription || staticDescription\n\n  if (hasDescription) {\n    components.Description = RenderServerComponent({\n      clientProps: { description: staticDescription },\n      Component: CustomDescription,\n      Fallback: ViewDescription,\n      importMap: req.payload.importMap,\n      serverProps,\n    })\n  }\n\n  if (hasSavePermission) {\n    if (collectionConfig?.versions?.drafts || globalConfig?.versions?.drafts) {\n      const CustomPublishButton =\n        collectionConfig?.admin?.components?.edit?.PublishButton ||\n        globalConfig?.admin?.components?.elements?.PublishButton\n\n      if (CustomPublishButton) {\n        components.PublishButton = RenderServerComponent({\n          Component: CustomPublishButton,\n          importMap: req.payload.importMap,\n          serverProps,\n        })\n      }\n      const CustomSaveDraftButton =\n        collectionConfig?.admin?.components?.edit?.SaveDraftButton ||\n        globalConfig?.admin?.components?.elements?.SaveDraftButton\n\n      const draftsEnabled =\n        (collectionConfig?.versions?.drafts && !collectionConfig?.versions?.drafts?.autosave) ||\n        (globalConfig?.versions?.drafts && !globalConfig?.versions?.drafts?.autosave)\n\n      if ((draftsEnabled || unsavedDraftWithValidations) && CustomSaveDraftButton) {\n        components.SaveDraftButton = RenderServerComponent({\n          Component: CustomSaveDraftButton,\n          importMap: req.payload.importMap,\n          serverProps,\n        })\n      }\n    } else {\n      const CustomSaveButton =\n        collectionConfig?.admin?.components?.edit?.SaveButton ||\n        globalConfig?.admin?.components?.elements?.SaveButton\n\n      if (CustomSaveButton) {\n        components.SaveButton = RenderServerComponent({\n          Component: CustomSaveButton,\n          importMap: req.payload.importMap,\n          serverProps,\n        })\n      }\n    }\n  }\n\n  if (collectionConfig?.upload && collectionConfig?.admin?.components?.edit?.Upload) {\n    components.Upload = RenderServerComponent({\n      Component: collectionConfig.admin.components.edit.Upload,\n      importMap: req.payload.importMap,\n      serverProps,\n    })\n  }\n\n  return components\n}\n\nexport const renderDocumentSlotsHandler = async (\n  args: { collectionSlug: string } & DefaultServerFunctionArgs,\n) => {\n  const { collectionSlug, req } = args\n\n  const collectionConfig = req.payload.collections[collectionSlug]?.config\n\n  if (!collectionConfig) {\n    throw new Error(req.t('error:incorrectCollection'))\n  }\n\n  const { docPermissions, hasSavePermission } = await getDocumentPermissions({\n    collectionConfig,\n    data: {},\n    req,\n  })\n\n  return renderDocumentSlots({\n    collectionConfig,\n    hasSavePermission,\n    permissions: docPermissions,\n    req,\n  })\n}\n"],"names":["ViewDescription","RenderServerComponent","getDocumentPermissions","renderDocumentSlots","args","collectionConfig","globalConfig","hasSavePermission","req","components","unsavedDraftWithValidations","undefined","isPreviewEnabled","admin","preview","serverProps","i18n","payload","user","CustomPreviewButton","edit","PreviewButton","elements","Component","importMap","descriptionFromConfig","description","staticDescription","t","CustomDescription","Description","hasDescription","clientProps","Fallback","versions","drafts","CustomPublishButton","PublishButton","CustomSaveDraftButton","SaveDraftButton","draftsEnabled","autosave","CustomSaveButton","SaveButton","upload","Upload","renderDocumentSlotsHandler","collectionSlug","collections","config","Error","docPermissions","data","permissions"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5122, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5128, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Document/index.tsx"],"sourcesContent":["import type { AdminViewProps, Data, PayloadComponent, ServerSideEditViewProps } from 'payload'\n\nimport { DocumentInfoProvider, EditDepthProvider, HydrateAuthProvider } from '@payloadcms/ui'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { formatAdminURL, isEditing as getIsEditing } from '@payloadcms/ui/shared'\nimport { buildFormState } from '@payloadcms/ui/utilities/buildFormState'\nimport { notFound, redirect } from 'next/navigation.js'\nimport { logError } from 'payload'\nimport React from 'react'\n\nimport type { GenerateEditViewMetadata } from './getMetaBySegment.js'\nimport type { ViewFromConfig } from './getViewsFromConfig.js'\n\nimport { DocumentHeader } from '../../elements/DocumentHeader/index.js'\nimport { NotFoundView } from '../NotFound/index.js'\nimport { getDocPreferences } from './getDocPreferences.js'\nimport { getDocumentData } from './getDocumentData.js'\nimport { getDocumentPermissions } from './getDocumentPermissions.js'\nimport { getIsLocked } from './getIsLocked.js'\nimport { getMetaBySegment } from './getMetaBySegment.js'\nimport { getVersions } from './getVersions.js'\nimport { getViewsFromConfig } from './getViewsFromConfig.js'\nimport { renderDocumentSlots } from './renderDocumentSlots.js'\n\nexport const generateMetadata: GenerateEditViewMetadata = async (args) => getMetaBySegment(args)\n\n// This function will be responsible for rendering an Edit Document view\n// it will be called on the server for Edit page views as well as\n// called on-demand from document drawers\nexport const renderDocument = async ({\n  disableActions,\n  documentSubViewType,\n  drawerSlug,\n  importMap,\n  initialData,\n  initPageResult,\n  overrideEntityVisibility,\n  params,\n  redirectAfterDelete,\n  redirectAfterDuplicate,\n  searchParams,\n  viewType,\n}: {\n  overrideEntityVisibility?: boolean\n} & AdminViewProps): Promise<{\n  data: Data\n  Document: React.ReactNode\n}> => {\n  const {\n    collectionConfig,\n    docID: idFromArgs,\n    globalConfig,\n    locale,\n    permissions,\n    req,\n    req: {\n      i18n,\n      payload,\n      payload: {\n        config,\n        config: {\n          routes: { admin: adminRoute, api: apiRoute },\n          serverURL,\n        },\n      },\n      user,\n    },\n    visibleEntities,\n  } = initPageResult\n\n  const segments = Array.isArray(params?.segments) ? params.segments : []\n  const collectionSlug = collectionConfig?.slug || undefined\n  const globalSlug = globalConfig?.slug || undefined\n  let isEditing = getIsEditing({ id: idFromArgs, collectionSlug, globalSlug })\n\n  let RootViewOverride: PayloadComponent\n  let CustomView: ViewFromConfig<ServerSideEditViewProps>\n  let DefaultView: ViewFromConfig<ServerSideEditViewProps>\n  let ErrorView: ViewFromConfig<AdminViewProps>\n\n  let apiURL: string\n\n  // Fetch the doc required for the view\n  let doc =\n    initialData ||\n    (await getDocumentData({\n      id: idFromArgs,\n      collectionSlug,\n      globalSlug,\n      locale,\n      payload,\n      req,\n      user,\n    }))\n\n  if (isEditing && !doc) {\n    throw new Error('not-found')\n  }\n\n  const [\n    docPreferences,\n    { docPermissions, hasPublishPermission, hasSavePermission },\n    { currentEditor, isLocked, lastUpdateTime },\n  ] = await Promise.all([\n    // Get document preferences\n    getDocPreferences({\n      id: idFromArgs,\n      collectionSlug,\n      globalSlug,\n      payload,\n      user,\n    }),\n\n    // Get permissions\n    getDocumentPermissions({\n      id: idFromArgs,\n      collectionConfig,\n      data: doc,\n      globalConfig,\n      req,\n    }),\n\n    // Fetch document lock state\n    getIsLocked({\n      id: idFromArgs,\n      collectionConfig,\n      globalConfig,\n      isEditing,\n      req,\n    }),\n  ])\n\n  const [\n    { hasPublishedDoc, mostRecentVersionIsAutosaved, unpublishedVersionCount, versionCount },\n    { state: formState },\n  ] = await Promise.all([\n    getVersions({\n      id: idFromArgs,\n      collectionConfig,\n      doc,\n      docPermissions,\n      globalConfig,\n      locale: locale?.code,\n      payload,\n      user,\n    }),\n    buildFormState({\n      id: idFromArgs,\n      collectionSlug,\n      data: doc,\n      docPermissions,\n      docPreferences,\n      fallbackLocale: false,\n      globalSlug,\n      locale: locale?.code,\n      operation: (collectionSlug && idFromArgs) || globalSlug ? 'update' : 'create',\n      renderAllFields: true,\n      req,\n      schemaPath: collectionSlug || globalSlug,\n      skipValidation: true,\n    }),\n  ])\n\n  const serverProps: ServerSideEditViewProps = {\n    doc,\n    i18n,\n    initPageResult,\n    locale,\n    params,\n    payload,\n    permissions,\n    routeSegments: segments,\n    searchParams,\n    user,\n  }\n\n  if (collectionConfig) {\n    if (\n      !visibleEntities?.collections?.find((visibleSlug) => visibleSlug === collectionSlug) &&\n      !overrideEntityVisibility\n    ) {\n      throw new Error('not-found')\n    }\n\n    const params = new URLSearchParams()\n    if (collectionConfig.versions?.drafts) {\n      params.append('draft', 'true')\n    }\n    if (locale?.code) {\n      params.append('locale', locale.code)\n    }\n\n    const apiQueryParams = `?${params.toString()}`\n\n    apiURL = `${serverURL}${apiRoute}/${collectionSlug}/${idFromArgs}${apiQueryParams}`\n\n    RootViewOverride =\n      collectionConfig?.admin?.components?.views?.edit?.root &&\n      'Component' in collectionConfig.admin.components.views.edit.root\n        ? collectionConfig?.admin?.components?.views?.edit?.root?.Component\n        : null\n\n    if (!RootViewOverride) {\n      const collectionViews = getViewsFromConfig({\n        collectionConfig,\n        config,\n        docPermissions,\n        routeSegments: segments,\n      })\n\n      CustomView = collectionViews?.CustomView\n      DefaultView = collectionViews?.DefaultView\n      ErrorView = collectionViews?.ErrorView\n    }\n\n    if (!CustomView && !DefaultView && !RootViewOverride && !ErrorView) {\n      ErrorView = {\n        Component: NotFoundView,\n      }\n    }\n  }\n\n  if (globalConfig) {\n    if (!visibleEntities?.globals?.find((visibleSlug) => visibleSlug === globalSlug)) {\n      throw new Error('not-found')\n    }\n\n    const params = new URLSearchParams({\n      locale: locale?.code,\n    })\n\n    if (globalConfig.versions?.drafts) {\n      params.append('draft', 'true')\n    }\n\n    if (locale?.code) {\n      params.append('locale', locale.code)\n    }\n\n    const apiQueryParams = `?${params.toString()}`\n\n    apiURL = `${serverURL}${apiRoute}/${globalSlug}${apiQueryParams}`\n\n    RootViewOverride =\n      globalConfig?.admin?.components?.views?.edit?.root &&\n      'Component' in globalConfig.admin.components.views.edit.root\n        ? globalConfig?.admin?.components?.views?.edit?.root?.Component\n        : null\n\n    if (!RootViewOverride) {\n      const globalViews = getViewsFromConfig({\n        config,\n        docPermissions,\n        globalConfig,\n        routeSegments: segments,\n      })\n\n      CustomView = globalViews?.CustomView\n      DefaultView = globalViews?.DefaultView\n      ErrorView = globalViews?.ErrorView\n\n      if (!CustomView && !DefaultView && !RootViewOverride && !ErrorView) {\n        ErrorView = {\n          Component: NotFoundView,\n        }\n      }\n    }\n  }\n\n  /**\n   * Handle case where autoSave is enabled and the document is being created\n   * => create document and redirect\n   */\n  const shouldAutosave =\n    hasSavePermission &&\n    ((collectionConfig?.versions?.drafts && collectionConfig?.versions?.drafts?.autosave) ||\n      (globalConfig?.versions?.drafts && globalConfig?.versions?.drafts?.autosave))\n\n  const validateDraftData =\n    collectionConfig?.versions?.drafts && collectionConfig?.versions?.drafts?.validate\n\n  let id = idFromArgs\n\n  if (shouldAutosave && !validateDraftData && !idFromArgs && collectionSlug) {\n    doc = await payload.create({\n      collection: collectionSlug,\n      data: initialData || {},\n      depth: 0,\n      draft: true,\n      fallbackLocale: false,\n      locale: locale?.code,\n      req,\n      user,\n    })\n\n    if (doc?.id) {\n      id = doc.id\n      isEditing = getIsEditing({ id: doc.id, collectionSlug, globalSlug })\n\n      if (!drawerSlug) {\n        const redirectURL = formatAdminURL({\n          adminRoute,\n          path: `/collections/${collectionSlug}/${doc.id}`,\n          serverURL,\n        })\n\n        redirect(redirectURL)\n      }\n    } else {\n      throw new Error('not-found')\n    }\n  }\n\n  const documentSlots = renderDocumentSlots({\n    collectionConfig,\n    globalConfig,\n    hasSavePermission,\n    permissions: docPermissions,\n    req,\n  })\n\n  const clientProps = { formState, ...documentSlots, documentSubViewType, viewType }\n\n  return {\n    data: doc,\n    Document: (\n      <DocumentInfoProvider\n        apiURL={apiURL}\n        collectionSlug={collectionConfig?.slug}\n        currentEditor={currentEditor}\n        disableActions={disableActions ?? false}\n        docPermissions={docPermissions}\n        globalSlug={globalConfig?.slug}\n        hasPublishedDoc={hasPublishedDoc}\n        hasPublishPermission={hasPublishPermission}\n        hasSavePermission={hasSavePermission}\n        id={id}\n        initialData={doc}\n        initialState={formState}\n        isEditing={isEditing}\n        isLocked={isLocked}\n        key={locale?.code}\n        lastUpdateTime={lastUpdateTime}\n        mostRecentVersionIsAutosaved={mostRecentVersionIsAutosaved}\n        redirectAfterDelete={redirectAfterDelete}\n        redirectAfterDuplicate={redirectAfterDuplicate}\n        unpublishedVersionCount={unpublishedVersionCount}\n        versionCount={versionCount}\n      >\n        {!RootViewOverride && !drawerSlug && (\n          <DocumentHeader\n            collectionConfig={collectionConfig}\n            globalConfig={globalConfig}\n            i18n={i18n}\n            payload={payload}\n            permissions={permissions}\n          />\n        )}\n        <HydrateAuthProvider permissions={permissions} />\n        <EditDepthProvider>\n          {ErrorView\n            ? RenderServerComponent({\n                clientProps,\n                Component: ErrorView.ComponentConfig || ErrorView.Component,\n                importMap,\n                serverProps,\n              })\n            : RenderServerComponent({\n                clientProps,\n                Component: RootViewOverride\n                  ? RootViewOverride\n                  : CustomView?.ComponentConfig || CustomView?.Component\n                    ? CustomView?.ComponentConfig || CustomView?.Component\n                    : DefaultView?.ComponentConfig || DefaultView?.Component,\n                importMap,\n                serverProps,\n              })}\n        </EditDepthProvider>\n      </DocumentInfoProvider>\n    ),\n  }\n}\n\nexport const Document: React.FC<AdminViewProps> = async (args) => {\n  try {\n    const { Document: RenderedDocument } = await renderDocument(args)\n    return RenderedDocument\n  } catch (error) {\n    if (error?.message === 'NEXT_REDIRECT') {\n      throw error\n    }\n\n    logError({ err: error, payload: args.initPageResult.req.payload })\n\n    if (error.message === 'not-found') {\n      notFound()\n    }\n  }\n}\n"],"names":["DocumentInfoProvider","EditDepthProvider","HydrateAuthProvider","RenderServerComponent","formatAdminURL","isEditing","getIsEditing","buildFormState","notFound","redirect","logError","React","DocumentHeader","NotFoundView","getDocPreferences","getDocumentData","getDocumentPermissions","getIsLocked","getMetaBySegment","getVersions","getViewsFromConfig","renderDocumentSlots","generateMetadata","args","renderDocument","disableActions","documentSubViewType","drawerSlug","importMap","initialData","initPageResult","overrideEntityVisibility","params","redirectAfterDelete","redirectAfterDuplicate","searchParams","viewType","collectionConfig","docID","idFromArgs","globalConfig","locale","permissions","req","i18n","payload","config","routes","admin","adminRoute","api","apiRoute","serverURL","user","visibleEntities","segments","Array","isArray","collectionSlug","slug","undefined","globalSlug","id","RootViewOverride","CustomView","DefaultView","ErrorView","apiURL","doc","Error","docPreferences","docPermissions","hasPublishPermission","hasSavePermission","currentEditor","isLocked","lastUpdateTime","Promise","all","data","hasPublishedDoc","mostRecentVersionIsAutosaved","unpublishedVersionCount","versionCount","state","formState","code","fallbackLocale","operation","renderAllFields","schemaPath","skipValidation","serverProps","routeSegments","collections","find","visibleSlug","URLSearchParams","versions","drafts","append","apiQueryParams","toString","components","views","edit","root","Component","collectionViews","globals","globalViews","shouldAutosave","autosave","validateDraftData","validate","create","collection","depth","draft","redirectURL","path","documentSlots","clientProps","Document","_jsxs","initialState","_jsx","ComponentConfig","RenderedDocument","error","message","err"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5444, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5450, "column": 0}, "map": {"version":3,"file":"handleServerFunction.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/Document/handleServerFunction.tsx"],"sourcesContent":["import type {\n  Data,\n  DocumentPreferences,\n  FormState,\n  Locale,\n  PayloadRequest,\n  VisibleEntities,\n} from 'payload'\n\nimport { getClientConfig } from '@payloadcms/ui/utilities/getClientConfig'\nimport { headers as getHeaders } from 'next/headers.js'\nimport { getAccessResults, isEntityHidden, parseCookies } from 'payload'\n\nimport { renderDocument } from './index.js'\n\ntype RenderDocumentResult = {\n  data: any\n  Document: React.ReactNode\n  preferences: DocumentPreferences\n}\n\nexport const renderDocumentHandler = async (args: {\n  collectionSlug: string\n  disableActions?: boolean\n  docID: string\n  drawerSlug?: string\n  initialData?: Data\n  initialState?: FormState\n  locale?: Locale\n  overrideEntityVisibility?: boolean\n  redirectAfterDelete: boolean\n  redirectAfterDuplicate: boolean\n  req: PayloadRequest\n}): Promise<RenderDocumentResult> => {\n  const {\n    collectionSlug,\n    disableActions,\n    docID,\n    drawerSlug,\n    initialData,\n    locale,\n    overrideEntityVisibility,\n    redirectAfterDelete,\n    redirectAfterDuplicate,\n    req,\n    req: {\n      i18n,\n      payload,\n      payload: { config },\n      user,\n    },\n  } = args\n\n  const headers = await getHeaders()\n\n  const cookies = parseCookies(headers)\n\n  const incomingUserSlug = user?.collection\n\n  const adminUserSlug = config.admin.user\n\n  // If we have a user slug, test it against the functions\n  if (incomingUserSlug) {\n    const adminAccessFunction = payload.collections[incomingUserSlug].config.access?.admin\n\n    // Run the admin access function from the config if it exists\n    if (adminAccessFunction) {\n      const canAccessAdmin = await adminAccessFunction({ req })\n\n      if (!canAccessAdmin) {\n        throw new Error('Unauthorized')\n      }\n      // Match the user collection to the global admin config\n    } else if (adminUserSlug !== incomingUserSlug) {\n      throw new Error('Unauthorized')\n    }\n  } else {\n    const hasUsers = await payload.find({\n      collection: adminUserSlug,\n      depth: 0,\n      limit: 1,\n      pagination: false,\n    })\n\n    // If there are users, we should not allow access because of /create-first-user\n    if (hasUsers.docs.length) {\n      throw new Error('Unauthorized')\n    }\n  }\n\n  const clientConfig = getClientConfig({\n    config,\n    i18n,\n    importMap: req.payload.importMap,\n  })\n\n  let preferences: DocumentPreferences\n\n  if (docID) {\n    const preferencesKey = `${collectionSlug}-edit-${docID}`\n\n    preferences = await payload\n      .find({\n        collection: 'payload-preferences',\n        depth: 0,\n        limit: 1,\n        where: {\n          and: [\n            {\n              key: {\n                equals: preferencesKey,\n              },\n            },\n            {\n              'user.relationTo': {\n                equals: user.collection,\n              },\n            },\n            {\n              'user.value': {\n                equals: user.id,\n              },\n            },\n          ],\n        },\n      })\n      .then((res) => res.docs[0]?.value as DocumentPreferences)\n  }\n\n  const visibleEntities: VisibleEntities = {\n    collections: payload.config.collections\n      .map(({ slug, admin: { hidden } }) => (!isEntityHidden({ hidden, user }) ? slug : null))\n      .filter(Boolean),\n    globals: payload.config.globals\n      .map(({ slug, admin: { hidden } }) => (!isEntityHidden({ hidden, user }) ? slug : null))\n      .filter(Boolean),\n  }\n\n  const permissions = await getAccessResults({\n    req,\n  })\n\n  const { data, Document } = await renderDocument({\n    clientConfig,\n    disableActions,\n    documentSubViewType: 'default',\n    drawerSlug,\n    importMap: payload.importMap,\n    initialData,\n    initPageResult: {\n      collectionConfig: payload?.collections?.[collectionSlug]?.config,\n      cookies,\n      docID,\n      globalConfig: payload.config.globals.find((global) => global.slug === collectionSlug),\n      languageOptions: undefined, // TODO\n      locale,\n      permissions,\n      req,\n      translations: undefined, // TODO\n      visibleEntities,\n    },\n    overrideEntityVisibility,\n    params: {\n      segments: ['collections', collectionSlug, docID],\n    },\n    redirectAfterDelete,\n    redirectAfterDuplicate,\n    searchParams: {},\n    viewType: 'document',\n  })\n\n  return {\n    data,\n    Document,\n    preferences,\n  }\n}\n"],"names":["getClientConfig","headers","getHeaders","getAccessResults","isEntityHidden","parseCookies","renderDocument","renderDocumentHandler","args","collectionSlug","disableActions","docID","drawerSlug","initialData","locale","overrideEntityVisibility","redirectAfterDelete","redirectAfterDuplicate","req","i18n","payload","config","user","cookies","incomingUserSlug","collection","adminUserSlug","admin","adminAccessFunction","collections","access","canAccessAdmin","Error","hasUsers","find","depth","limit","pagination","docs","length","clientConfig","importMap","preferences","preferencesKey","where","and","key","equals","id","then","res","value","visibleEntities","map","slug","hidden","filter","Boolean","globals","permissions","data","Document","documentSubViewType","initPageResult","collectionConfig","globalConfig","global","languageOptions","undefined","translations","params","segments","searchParams","viewType"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5580, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5586, "column": 0}, "map": {"version":3,"file":"renderListViewSlots.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/List/renderListViewSlots.tsx"],"sourcesContent":["import type {\n  ListComponentClientProps,\n  ListComponentServerProps,\n  ListViewSlots,\n} from '@payloadcms/ui'\nimport type { Payload, SanitizedCollectionConfig, StaticDescription } from 'payload'\n\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\n\ntype Args = {\n  clientProps: ListComponentClientProps\n  collectionConfig: SanitizedCollectionConfig\n  description?: StaticDescription\n  payload: Payload\n  serverProps: ListComponentServerProps\n}\n\nexport const renderListViewSlots = ({\n  clientProps,\n  collectionConfig,\n  description,\n  payload,\n  serverProps,\n}: Args): ListViewSlots => {\n  const result: ListViewSlots = {} as ListViewSlots\n\n  if (collectionConfig.admin.components?.afterList) {\n    result.AfterList = RenderServerComponent({\n      clientProps,\n      Component: collectionConfig.admin.components.afterList,\n      importMap: payload.importMap,\n      serverProps,\n    })\n  }\n\n  if (collectionConfig.admin.components?.afterListTable) {\n    result.AfterListTable = RenderServerComponent({\n      clientProps,\n      Component: collectionConfig.admin.components.afterListTable,\n      importMap: payload.importMap,\n      serverProps,\n    })\n  }\n\n  if (collectionConfig.admin.components?.beforeList) {\n    result.BeforeList = RenderServerComponent({\n      clientProps,\n      Component: collectionConfig.admin.components.beforeList,\n      importMap: payload.importMap,\n      serverProps,\n    })\n  }\n\n  if (collectionConfig.admin.components?.beforeListTable) {\n    result.BeforeListTable = RenderServerComponent({\n      clientProps,\n      Component: collectionConfig.admin.components.beforeListTable,\n      importMap: payload.importMap,\n      serverProps,\n    })\n  }\n\n  if (collectionConfig.admin.components?.Description) {\n    result.Description = RenderServerComponent({\n      clientProps: {\n        description,\n        ...clientProps,\n      },\n      Component: collectionConfig.admin.components.Description,\n      importMap: payload.importMap,\n      serverProps,\n    })\n  }\n\n  return result\n}\n"],"names":["RenderServerComponent","renderListViewSlots","clientProps","collectionConfig","description","payload","serverProps","result","admin","components","afterList","AfterList","Component","importMap","afterListTable","AfterListTable","beforeList","BeforeList","beforeListTable","BeforeListTable","Description"],"mappings":";;;AAOA,SAASA,qBAAqB,QAAQ;;AAU/B,MAAMC,mBAAA,GAAsBA,CAAC,EAClCC,WAAW,EACXC,gBAAgB,EAChBC,WAAW,EACXC,OAAO,EACPC,WAAAA,EACK;IACL,MAAMC,MAAA,GAAwB,CAAC;IAE/B,IAAIJ,gBAAA,CAAiBK,KAAK,CAACC,UAAU,EAAEC,SAAA,EAAW;QAChDH,MAAA,CAAOI,SAAS,IAAGX,uaAAAA,AAAA,EAAsB;YACvCE,WAAA;YACAU,SAAA,EAAWT,gBAAA,CAAiBK,KAAK,CAACC,UAAU,CAACC,SAAS;YACtDG,SAAA,EAAWR,OAAA,CAAQQ,SAAS;YAC5BP;QACF;IACF;IAEA,IAAIH,gBAAA,CAAiBK,KAAK,CAACC,UAAU,EAAEK,cAAA,EAAgB;QACrDP,MAAA,CAAOQ,cAAc,mZAAGf,wBAAAA,AAAA,EAAsB;YAC5CE,WAAA;YACAU,SAAA,EAAWT,gBAAA,CAAiBK,KAAK,CAACC,UAAU,CAACK,cAAc;YAC3DD,SAAA,EAAWR,OAAA,CAAQQ,SAAS;YAC5BP;QACF;IACF;IAEA,IAAIH,gBAAA,CAAiBK,KAAK,CAACC,UAAU,EAAEO,UAAA,EAAY;QACjDT,MAAA,CAAOU,UAAU,mZAAGjB,wBAAAA,AAAA,EAAsB;YACxCE,WAAA;YACAU,SAAA,EAAWT,gBAAA,CAAiBK,KAAK,CAACC,UAAU,CAACO,UAAU;YACvDH,SAAA,EAAWR,OAAA,CAAQQ,SAAS;YAC5BP;QACF;IACF;IAEA,IAAIH,gBAAA,CAAiBK,KAAK,CAACC,UAAU,EAAES,eAAA,EAAiB;QACtDX,MAAA,CAAOY,eAAe,IAAGnB,uaAAAA,AAAA,EAAsB;YAC7CE,WAAA;YACAU,SAAA,EAAWT,gBAAA,CAAiBK,KAAK,CAACC,UAAU,CAACS,eAAe;YAC5DL,SAAA,EAAWR,OAAA,CAAQQ,SAAS;YAC5BP;QACF;IACF;IAEA,IAAIH,gBAAA,CAAiBK,KAAK,CAACC,UAAU,EAAEW,WAAA,EAAa;QAClDb,MAAA,CAAOa,WAAW,mZAAGpB,wBAAAA,AAAA,EAAsB;YACzCE,WAAA,EAAa;gBACXE,WAAA;gBACA,GAAGF,WAAAA;YACL;YACAU,SAAA,EAAWT,gBAAA,CAAiBK,KAAK,CAACC,UAAU,CAACW,WAAW;YACxDP,SAAA,EAAWR,OAAA,CAAQQ,SAAS;YAC5BP;QACF;IACF;IAEA,OAAOC,MAAA;AACT","ignoreList":[0]}},
    {"offset": {"line": 5638, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5644, "column": 0}, "map": {"version":3,"file":"meta.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/List/meta.ts"],"sourcesContent":["import type { Metadata } from 'next'\nimport type { SanitizedCollectionConfig } from 'payload'\n\nimport { getTranslation } from '@payloadcms/translations'\n\nimport type { GenerateViewMetadata } from '../Root/index.js'\n\nimport { meta } from '../../utilities/meta.js'\n\nexport const generateListMetadata = async (\n  args: {\n    collectionConfig: SanitizedCollectionConfig\n  } & Parameters<GenerateViewMetadata>[0],\n): Promise<Metadata> => {\n  const { collectionConfig, config, i18n } = args\n\n  let title: string = ''\n  const description: string = ''\n  const keywords: string = ''\n\n  if (collectionConfig) {\n    title = getTranslation(collectionConfig.labels.plural, i18n)\n  }\n\n  return meta({\n    ...(config.admin.meta || {}),\n    description,\n    keywords,\n    serverURL: config.serverURL,\n    title,\n    ...(collectionConfig?.admin?.meta || {}),\n  })\n}\n"],"names":["getTranslation","meta","generateListMetadata","args","collectionConfig","config","i18n","title","description","keywords","labels","plural","admin","serverURL"],"mappings":";;;AAGA,SAASA,cAAc,QAAQ;AAI/B,SAASC,IAAI,QAAQ;;;;AAEd,MAAMC,oBAAA,GAAuB,OAClCC,IAAA;IAIA,MAAM,EAAEC,gBAAgB,EAAEC,MAAM,EAAEC,IAAAA,EAAM,GAAGH,IAAA;IAE3C,IAAII,KAAA,GAAgB;IACpB,MAAMC,WAAA,GAAsB;IAC5B,MAAMC,QAAA,GAAmB;IAEzB,IAAIL,gBAAA,EAAkB;QACpBG,KAAA,qQAAQP,iBAAAA,AAAA,EAAeI,gBAAA,CAAiBM,MAAM,CAACC,MAAM,EAAEL,IAAA;IACzD;IAEA,OAAOL,gYAAAA,AAAA,EAAK;QACV,GAAII,MAAA,CAAOO,KAAK,CAACX,IAAI,IAAI,CAAC,CAAC;QAC3BO,WAAA;QACAC,QAAA;QACAI,SAAA,EAAWR,MAAA,CAAOQ,SAAS;QAC3BN,KAAA;QACA,GAAIH,gBAAA,EAAkBQ,KAAA,EAAOX,IAAA,IAAQ,CAAC,CAAC;IACzC;AACF","ignoreList":[0]}},
    {"offset": {"line": 5669, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5675, "column": 0}, "map": {"version":3,"file":"index.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/List/index.tsx"],"sourcesContent":["import type {\n  ListComponentClientProps,\n  ListComponentServerProps,\n  ListPreferences,\n  ListViewClientProps,\n} from '@payloadcms/ui'\nimport type { AdminViewProps, ListQuery, Where } from 'payload'\n\nimport { DefaultListView, HydrateAuthProvider, ListQueryProvider } from '@payloadcms/ui'\nimport { RenderServerComponent } from '@payloadcms/ui/elements/RenderServerComponent'\nimport { renderFilters, renderTable, upsertPreferences } from '@payloadcms/ui/rsc'\nimport { formatAdminURL, mergeListSearchAndWhere } from '@payloadcms/ui/shared'\nimport { notFound } from 'next/navigation.js'\nimport { isNumber } from 'payload/shared'\nimport React, { Fragment } from 'react'\n\nimport { renderListViewSlots } from './renderListViewSlots.js'\n\nexport { generateListMetadata } from './meta.js'\n\ntype ListViewArgs = {\n  customCellProps?: Record<string, any>\n  disableBulkDelete?: boolean\n  disableBulkEdit?: boolean\n  enableRowSelections: boolean\n  overrideEntityVisibility?: boolean\n  query: ListQuery\n} & AdminViewProps\n\nexport const renderListView = async (\n  args: ListViewArgs,\n): Promise<{\n  List: React.ReactNode\n}> => {\n  const {\n    clientConfig,\n    customCellProps,\n    disableBulkDelete,\n    disableBulkEdit,\n    drawerSlug,\n    enableRowSelections,\n    initPageResult,\n    overrideEntityVisibility,\n    params,\n    query: queryFromArgs,\n    searchParams,\n  } = args\n\n  const {\n    collectionConfig,\n    collectionConfig: { slug: collectionSlug },\n    locale: fullLocale,\n    permissions,\n    req,\n    req: {\n      i18n,\n      locale,\n      payload,\n      payload: { config },\n      query: queryFromReq,\n      user,\n    },\n    visibleEntities,\n  } = initPageResult\n\n  if (!permissions?.collections?.[collectionSlug]?.read) {\n    throw new Error('not-found')\n  }\n\n  const query = queryFromArgs || queryFromReq\n\n  const listPreferences = await upsertPreferences<ListPreferences>({\n    key: `${collectionSlug}-list`,\n    req,\n    value: {\n      limit: isNumber(query?.limit) ? Number(query.limit) : undefined,\n      sort: query?.sort as string,\n    },\n  })\n\n  const {\n    routes: { admin: adminRoute },\n  } = config\n\n  if (collectionConfig) {\n    if (!visibleEntities.collections.includes(collectionSlug) && !overrideEntityVisibility) {\n      throw new Error('not-found')\n    }\n\n    const page = isNumber(query?.page) ? Number(query.page) : 0\n\n    const limit = listPreferences?.limit || collectionConfig.admin.pagination.defaultLimit\n\n    const sort =\n      listPreferences?.sort ||\n      (typeof collectionConfig.defaultSort === 'string' ? collectionConfig.defaultSort : undefined)\n\n    let where = mergeListSearchAndWhere({\n      collectionConfig,\n      search: typeof query?.search === 'string' ? query.search : undefined,\n      where: (query?.where as Where) || undefined,\n    })\n\n    if (typeof collectionConfig.admin?.baseListFilter === 'function') {\n      const baseListFilter = await collectionConfig.admin.baseListFilter({\n        limit,\n        page,\n        req,\n        sort,\n      })\n\n      if (baseListFilter) {\n        where = {\n          and: [where, baseListFilter].filter(Boolean),\n        }\n      }\n    }\n\n    const data = await payload.find({\n      collection: collectionSlug,\n      depth: 0,\n      draft: true,\n      fallbackLocale: false,\n      includeLockStatus: true,\n      limit,\n      locale,\n      overrideAccess: false,\n      page,\n      req,\n      sort,\n      user,\n      where: where || {},\n    })\n\n    const clientCollectionConfig = clientConfig.collections.find((c) => c.slug === collectionSlug)\n\n    const { columnState, Table } = renderTable({\n      clientCollectionConfig,\n      collectionConfig,\n      columnPreferences: listPreferences?.columns,\n      customCellProps,\n      docs: data.docs,\n      drawerSlug,\n      enableRowSelections,\n      i18n: req.i18n,\n      payload,\n      useAsTitle: collectionConfig.admin.useAsTitle,\n    })\n\n    const renderedFilters = renderFilters(collectionConfig.fields, req.payload.importMap)\n\n    const staticDescription =\n      typeof collectionConfig.admin.description === 'function'\n        ? collectionConfig.admin.description({ t: i18n.t })\n        : collectionConfig.admin.description\n\n    const sharedClientProps: ListComponentClientProps = {\n      collectionSlug,\n      hasCreatePermission: permissions?.collections?.[collectionSlug]?.create,\n      newDocumentURL: formatAdminURL({\n        adminRoute,\n        path: `/collections/${collectionSlug}/create`,\n      }),\n    }\n\n    const sharedServerProps: ListComponentServerProps = {\n      collectionConfig,\n      i18n,\n      limit,\n      locale: fullLocale,\n      params,\n      payload,\n      permissions,\n      searchParams,\n      user,\n    }\n\n    const listViewSlots = renderListViewSlots({\n      clientProps: sharedClientProps,\n      collectionConfig,\n      description: staticDescription,\n      payload,\n      serverProps: sharedServerProps,\n    })\n\n    const clientProps: ListViewClientProps = {\n      ...listViewSlots,\n      ...sharedClientProps,\n      columnState,\n      disableBulkDelete,\n      disableBulkEdit,\n      enableRowSelections,\n      listPreferences,\n      renderedFilters,\n      Table,\n    }\n\n    const isInDrawer = Boolean(drawerSlug)\n\n    return {\n      List: (\n        <Fragment>\n          <HydrateAuthProvider permissions={permissions} />\n          <ListQueryProvider\n            data={data}\n            defaultLimit={limit}\n            defaultSort={sort}\n            modifySearchParams={!isInDrawer}\n          >\n            {RenderServerComponent({\n              clientProps,\n              Component: collectionConfig?.admin?.components?.views?.list?.Component,\n              Fallback: DefaultListView,\n              importMap: payload.importMap,\n              serverProps: {\n                ...sharedServerProps,\n                data,\n                listPreferences,\n                listSearchableFields: collectionConfig.admin.listSearchableFields,\n              },\n            })}\n          </ListQueryProvider>\n        </Fragment>\n      ),\n    }\n  }\n\n  throw new Error('not-found')\n}\n\nexport const ListView: React.FC<ListViewArgs> = async (args) => {\n  try {\n    const { List: RenderedList } = await renderListView({ ...args, enableRowSelections: true })\n    return RenderedList\n  } catch (error) {\n    if (error.message === 'not-found') {\n      notFound()\n    } else {\n      console.error(error) // eslint-disable-line no-console\n    }\n  }\n}\n"],"names":["DefaultListView","HydrateAuthProvider","ListQueryProvider","RenderServerComponent","renderFilters","renderTable","upsertPreferences","formatAdminURL","mergeListSearchAndWhere","notFound","isNumber","React","Fragment","renderListViewSlots","generateListMetadata","renderListView","args","clientConfig","customCellProps","disableBulkDelete","disableBulkEdit","drawerSlug","enableRowSelections","initPageResult","overrideEntityVisibility","params","query","queryFromArgs","searchParams","collectionConfig","slug","collectionSlug","locale","fullLocale","permissions","req","i18n","payload","config","queryFromReq","user","visibleEntities","collections","read","Error","listPreferences","key","value","limit","Number","undefined","sort","routes","admin","adminRoute","includes","page","pagination","defaultLimit","defaultSort","where","search","baseListFilter","and","filter","Boolean","data","find","collection","depth","draft","fallbackLocale","includeLockStatus","overrideAccess","clientCollectionConfig","c","columnState","Table","columnPreferences","columns","docs","useAsTitle","renderedFilters","fields","importMap","staticDescription","description","t","sharedClientProps","hasCreatePermission","create","newDocumentURL","path","sharedServerProps","listViewSlots","clientProps","serverProps","isInDrawer","List","_jsxs","_jsx","modifySearchParams","Component","components","views","list","Fallback","listSearchableFields","ListView","RenderedList","error","message","console"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5859, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5878, "column": 0}, "map": {"version":3,"file":"handleServerFunction.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/views/List/handleServerFunction.tsx"],"sourcesContent":["import type { ListPreferences, ListQuery, PayloadRequest, VisibleEntities } from 'payload'\n\nimport { getClientConfig } from '@payloadcms/ui/utilities/getClientConfig'\nimport { headers as getHeaders } from 'next/headers.js'\nimport { getAccessResults, isEntityHidden, parseCookies } from 'payload'\n\nimport { renderListView } from './index.js'\n\ntype RenderListResult = {\n  List: React.ReactNode\n  preferences: ListPreferences\n}\n\nexport const renderListHandler = async (args: {\n  collectionSlug: string\n  disableActions?: boolean\n  disableBulkDelete?: boolean\n  disableBulkEdit?: boolean\n  documentDrawerSlug: string\n  drawerSlug?: string\n  enableRowSelections: boolean\n  overrideEntityVisibility?: boolean\n  query: ListQuery\n  redirectAfterDelete: boolean\n  redirectAfterDuplicate: boolean\n  req: PayloadRequest\n}): Promise<RenderListResult> => {\n  const {\n    collectionSlug,\n    disableActions,\n    disableBulkDelete,\n    disableBulkEdit,\n    drawerSlug,\n    enableRowSelections,\n    overrideEntityVisibility,\n    query,\n    redirectAfterDelete,\n    redirectAfterDuplicate,\n    req,\n    req: {\n      i18n,\n      payload,\n      payload: { config },\n      user,\n    },\n  } = args\n\n  const headers = await getHeaders()\n\n  const cookies = parseCookies(headers)\n\n  const incomingUserSlug = user?.collection\n\n  const adminUserSlug = config.admin.user\n\n  // If we have a user slug, test it against the functions\n  if (incomingUserSlug) {\n    const adminAccessFunction = payload.collections[incomingUserSlug].config.access?.admin\n\n    // Run the admin access function from the config if it exists\n    if (adminAccessFunction) {\n      const canAccessAdmin = await adminAccessFunction({ req })\n\n      if (!canAccessAdmin) {\n        throw new Error('Unauthorized')\n      }\n      // Match the user collection to the global admin config\n    } else if (adminUserSlug !== incomingUserSlug) {\n      throw new Error('Unauthorized')\n    }\n  } else {\n    const hasUsers = await payload.find({\n      collection: adminUserSlug,\n      depth: 0,\n      limit: 1,\n      pagination: false,\n    })\n\n    // If there are users, we should not allow access because of /create-first-user\n    if (hasUsers.docs.length) {\n      throw new Error('Unauthorized')\n    }\n  }\n\n  const clientConfig = getClientConfig({\n    config,\n    i18n,\n    importMap: payload.importMap,\n  })\n\n  const preferencesKey = `${collectionSlug}-list`\n\n  const preferences = await payload\n    .find({\n      collection: 'payload-preferences',\n      depth: 0,\n      limit: 1,\n      where: {\n        and: [\n          {\n            key: {\n              equals: preferencesKey,\n            },\n          },\n          {\n            'user.relationTo': {\n              equals: user.collection,\n            },\n          },\n          {\n            'user.value': {\n              equals: user.id,\n            },\n          },\n        ],\n      },\n    })\n    .then((res) => res.docs[0]?.value as ListPreferences)\n\n  const visibleEntities: VisibleEntities = {\n    collections: payload.config.collections\n      .map(({ slug, admin: { hidden } }) => (!isEntityHidden({ hidden, user }) ? slug : null))\n      .filter(Boolean),\n    globals: payload.config.globals\n      .map(({ slug, admin: { hidden } }) => (!isEntityHidden({ hidden, user }) ? slug : null))\n      .filter(Boolean),\n  }\n\n  const permissions = await getAccessResults({\n    req,\n  })\n\n  const { List } = await renderListView({\n    clientConfig,\n    disableActions,\n    disableBulkDelete,\n    disableBulkEdit,\n    drawerSlug,\n    enableRowSelections,\n    importMap: payload.importMap,\n    initPageResult: {\n      collectionConfig: payload?.collections?.[collectionSlug]?.config,\n      cookies,\n      globalConfig: payload.config.globals.find((global) => global.slug === collectionSlug),\n      languageOptions: undefined, // TODO\n      permissions,\n      req,\n      translations: undefined, // TODO\n      visibleEntities,\n    },\n    overrideEntityVisibility,\n    params: {\n      segments: ['collections', collectionSlug],\n    },\n    query,\n    redirectAfterDelete,\n    redirectAfterDuplicate,\n    searchParams: {},\n    viewType: 'list',\n  })\n\n  return {\n    List,\n    preferences,\n  }\n}\n"],"names":["getClientConfig","headers","getHeaders","getAccessResults","isEntityHidden","parseCookies","renderListView","renderListHandler","args","collectionSlug","disableActions","disableBulkDelete","disableBulkEdit","drawerSlug","enableRowSelections","overrideEntityVisibility","query","redirectAfterDelete","redirectAfterDuplicate","req","i18n","payload","config","user","cookies","incomingUserSlug","collection","adminUserSlug","admin","adminAccessFunction","collections","access","canAccessAdmin","Error","hasUsers","find","depth","limit","pagination","docs","length","clientConfig","importMap","preferencesKey","preferences","where","and","key","equals","id","then","res","value","visibleEntities","map","slug","hidden","filter","Boolean","globals","permissions","List","initPageResult","collectionConfig","globalConfig","global","languageOptions","undefined","translations","params","segments","searchParams","viewType"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 6004, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6010, "column": 0}, "map": {"version":3,"file":"handleServerFunctions.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/utilities/handleServerFunctions.ts"],"sourcesContent":["import type { ServerFunction, ServerFunctionHandler } from 'payload'\n\nimport { copyDataFromLocaleHandler } from '@payloadcms/ui/rsc'\nimport { buildFormStateHandler } from '@payloadcms/ui/utilities/buildFormState'\nimport { buildTableStateHandler } from '@payloadcms/ui/utilities/buildTableState'\nimport { schedulePublishHandler } from '@payloadcms/ui/utilities/schedulePublishHandler'\n\nimport { renderDocumentHandler } from '../views/Document/handleServerFunction.js'\nimport { renderDocumentSlotsHandler } from '../views/Document/renderDocumentSlots.js'\nimport { renderListHandler } from '../views/List/handleServerFunction.js'\nimport { initReq } from './initReq.js'\n\nexport const handleServerFunctions: ServerFunctionHandler = async (args) => {\n  const { name: fnKey, args: fnArgs, config: configPromise, importMap } = args\n\n  const { req } = await initReq(configPromise)\n\n  const augmentedArgs: Parameters<ServerFunction>[0] = {\n    ...fnArgs,\n    importMap,\n    req,\n  }\n\n  const serverFunctions = {\n    'copy-data-from-locale': copyDataFromLocaleHandler as any as ServerFunction,\n    'form-state': buildFormStateHandler as any as ServerFunction,\n    'render-document': renderDocumentHandler as any as ServerFunction,\n    'render-document-slots': renderDocumentSlotsHandler as any as ServerFunction,\n    'render-list': renderListHandler as any as ServerFunction,\n    'schedule-publish': schedulePublishHandler as any as ServerFunction,\n    'table-state': buildTableStateHandler as any as ServerFunction,\n  }\n\n  const fn = serverFunctions[fnKey]\n\n  if (!fn) {\n    throw new Error(`Unknown Server Function: ${fnKey}`)\n  }\n\n  return fn(augmentedArgs)\n}\n"],"names":["copyDataFromLocaleHandler","buildFormStateHandler","buildTableStateHandler","schedulePublishHandler","renderDocumentHandler","renderDocumentSlotsHandler","renderListHandler","initReq","handleServerFunctions","args","name","fnKey","fnArgs","config","configPromise","importMap","req","augmentedArgs","serverFunctions","fn","Error"],"mappings":";;;AAOA,SAASI,qBAAqB,QAAQ;AACtC,SAASC,0BAA0B,QAAQ;AAC3C,SAASC,iBAAiB,QAAQ;AAClC,SAASC,OAAO,QAAQ;AARxB,SAASP,yBAAyB,QAAQ;AAC1C,SAASC,qBAAqB,QAAQ;AAEtC,SAASE,sBAAsB,QAAQ;AADvC,SAASD,sBAAsB,QAAQ;;;;;;;;;AAQhC,MAAMM,qBAAA,GAA+C,OAAOC,IAAA;IACjE,MAAM,EAAEC,IAAA,EAAMC,KAAK,EAAEF,IAAA,EAAMG,MAAM,EAAEC,MAAA,EAAQC,aAAa,EAAEC,SAAAA,EAAW,GAAGN,IAAA;IAExE,MAAM,EAAEO,GAAAA,EAAK,GAAG,kYAAMT,UAAAA,AAAA,EAAQO,aAAA;IAE9B,MAAMG,aAAA,GAA+C;QACnD,GAAGL,MAAM;QACTG,SAAA;QACAC;IACF;IAEA,MAAME,eAAA,GAAkB;QACtB,0ZAAyBlB,4BAAA;QACzB,cAAcC,qZAAA;QACd,gaAAmBG,wBAAA;QACnB,qaAAyBC,6BAAA;QACzB,wZAAeC,oBAAA;QACf,yZAAoBH,yBAAA;QACpB,6YAAeD,yBAAAA;IACjB;IAEA,MAAMiB,EAAA,GAAKD,eAAe,CAACP,KAAA,CAAM;IAEjC,IAAI,CAACQ,EAAA,EAAI;QACP,MAAM,IAAIC,KAAA,CAAM,CAAA,yBAAA,EAA4BT,KAAA,EAAO;IACrD;IAEA,OAAOQ,EAAA,CAAGF,aAAA;AACZ","ignoreList":[0]}},
    {"offset": {"line": 6052, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6058, "column": 0}, "map": {"version":3,"file":"layouts.js","sources":["file:///home/eric/Documents/GitHub/astro-payload-mono/payload/node_modules/.pnpm/%40payloadcms%2Bnext%403.23.0_%40types%2Breact%4019.0.1_graphql%4016.10.0_monaco-editor%400.52.2_next%4015.1.0__vck5jirapz5jx7o2qkcvdihja4/node_modules/%40payloadcms/next/src/exports/layouts.ts"],"sourcesContent":["export { metadata, RootLayout } from '../layouts/Root/index.js'\nexport { handleServerFunctions } from '../utilities/handleServerFunctions.js'\n"],"names":["metadata","RootLayout","handleServerFunctions"],"mappings":"","ignoreList":[0]}},
    {"offset": {"line": 6062, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}